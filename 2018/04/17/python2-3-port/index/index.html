<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>ä¸€æ¬¡æ‰¾ä¸åˆ°é”™è¯¯çš„å·¨å‘çš„http headerçš„urlç¼–ç çš„Python 3è¿ç§»é—®é¢˜ | åœŸè±†ä¸å¥½åƒ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="èµ·æºè¿‘æœŸï¼Œæˆ‘æŠŠä¸€ä¸ªPython 2 çš„é¡¹ç›®è¿ç§»åˆ°äº†Python 3ï¼Œä»Šæ—©åœ¨è¿›è¡Œæœ€åä¸€æ¬¡æµ‹è¯•æ—¶ï¼Œå‘ç°ä¸‹è½½çš„ä¸€ä¸ªæŒ‰é’®æ˜¯å¤±æ•ˆçš„ã€‚å½“æ—¶ç«‹åˆ»å°±æƒ³ï¼Œå®Œè›‹äº†ï¼Œéš¾é“æ˜¯é‡åˆ°äº†è·¨å¹³å°çš„é—®é¢˜ï¼Ÿé‚£å°±ç³Ÿç³•äº†å•Šï¼Œè·¨å¹³å°é—®é¢˜éƒ½ä¸å¤ªå¥½å¤„ç†çš„ã€‚ è¯•äº†ä¸‹åŸæ¥çš„Python 2ç‰ˆæœ¬çš„è¿˜æ­£å¸¸ï¼Œé‚£ä¹ˆå°±æ˜¯è¿™æ¬¡è¿ç§»æœ‰ç‚¹å°é—®é¢˜äº†ã€‚  ç¡®å®šå¤ç°ç»è¿‡ä¸€ç³»åˆ—ç»æœ›çš„ççŒ«ç¢°æ­»è€—å­çš„å°è¯•ï¼Œå‘ç°äº†å½“è¦ä¸‹è½½çš„æ–‡ä»¶æ˜¯ç¬¬ä¸‰ä¸ªï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªé”™è¯¯ï¼ŒæŠ›çš„å¼‚å¸¸å¦‚ä¸‹ï¼š [E">
<meta property="og:type" content="article">
<meta property="og:title" content="ä¸€æ¬¡æ‰¾ä¸åˆ°é”™è¯¯çš„å·¨å‘çš„http headerçš„urlç¼–ç çš„Python 3è¿ç§»é—®é¢˜">
<meta property="og:url" content="http://example.com/2018/04/17/python2-3-port/index/index.html">
<meta property="og:site_name" content="åœŸè±†ä¸å¥½åƒ">
<meta property="og:description" content="èµ·æºè¿‘æœŸï¼Œæˆ‘æŠŠä¸€ä¸ªPython 2 çš„é¡¹ç›®è¿ç§»åˆ°äº†Python 3ï¼Œä»Šæ—©åœ¨è¿›è¡Œæœ€åä¸€æ¬¡æµ‹è¯•æ—¶ï¼Œå‘ç°ä¸‹è½½çš„ä¸€ä¸ªæŒ‰é’®æ˜¯å¤±æ•ˆçš„ã€‚å½“æ—¶ç«‹åˆ»å°±æƒ³ï¼Œå®Œè›‹äº†ï¼Œéš¾é“æ˜¯é‡åˆ°äº†è·¨å¹³å°çš„é—®é¢˜ï¼Ÿé‚£å°±ç³Ÿç³•äº†å•Šï¼Œè·¨å¹³å°é—®é¢˜éƒ½ä¸å¤ªå¥½å¤„ç†çš„ã€‚ è¯•äº†ä¸‹åŸæ¥çš„Python 2ç‰ˆæœ¬çš„è¿˜æ­£å¸¸ï¼Œé‚£ä¹ˆå°±æ˜¯è¿™æ¬¡è¿ç§»æœ‰ç‚¹å°é—®é¢˜äº†ã€‚  ç¡®å®šå¤ç°ç»è¿‡ä¸€ç³»åˆ—ç»æœ›çš„ççŒ«ç¢°æ­»è€—å­çš„å°è¯•ï¼Œå‘ç°äº†å½“è¦ä¸‹è½½çš„æ–‡ä»¶æ˜¯ç¬¬ä¸‰ä¸ªï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªé”™è¯¯ï¼ŒæŠ›çš„å¼‚å¸¸å¦‚ä¸‹ï¼š [E">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/images/201804170754535.png">
<meta property="og:image" content="http://example.com/images/201804170754546.png">
<meta property="og:image" content="http://example.com/images/2018041707545544.png">
<meta property="og:image" content="http://example.com/images/2018041707545536.png">
<meta property="og:image" content="http://example.com/images/2018041707545689.png">
<meta property="og:image" content="http://example.com/images/2018041707545712.png">
<meta property="og:image" content="http://example.com/images/2018041707545743.png">
<meta property="og:image" content="http://example.com/images/201804170754585.png">
<meta property="og:image" content="http://example.com/images/2018041707545941.png">
<meta property="og:image" content="http://example.com/images/2018041803535426.png">
<meta property="og:image" content="http://example.com/images/2018041803535177.png">
<meta property="og:image" content="http://example.com/images/2018041803535360.png">
<meta property="article:published_time" content="2018-04-17T00:00:00.000Z">
<meta property="article:modified_time" content="2023-05-15T18:16:49.945Z">
<meta property="article:author" content="Bennyå°åœŸè±†">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/201804170754535.png">
  
    <link rel="alternate" href="/atom.xml" title="åœŸè±†ä¸å¥½åƒ" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">åœŸè±†ä¸å¥½åƒ</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-python2-3-port/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/04/17/python2-3-port/index/" class="article-date">
  <time class="dt-published" datetime="2018-04-17T00:00:00.000Z" itemprop="datePublished">2018-04-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/program/">program</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      ä¸€æ¬¡æ‰¾ä¸åˆ°é”™è¯¯çš„å·¨å‘çš„http headerçš„urlç¼–ç çš„Python 3è¿ç§»é—®é¢˜
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="èµ·æº"><a href="#èµ·æº" class="headerlink" title="èµ·æº"></a>èµ·æº</h2><p>è¿‘æœŸï¼Œæˆ‘æŠŠä¸€ä¸ªPython 2 çš„é¡¹ç›®è¿ç§»åˆ°äº†Python 3ï¼Œä»Šæ—©åœ¨è¿›è¡Œæœ€åä¸€æ¬¡æµ‹è¯•æ—¶ï¼Œå‘ç°ä¸‹è½½çš„ä¸€ä¸ªæŒ‰é’®æ˜¯å¤±æ•ˆçš„ã€‚å½“æ—¶ç«‹åˆ»å°±æƒ³ï¼Œå®Œè›‹äº†ï¼Œéš¾é“æ˜¯é‡åˆ°äº†è·¨å¹³å°çš„é—®é¢˜ï¼Ÿé‚£å°±ç³Ÿç³•äº†å•Šï¼Œè·¨å¹³å°é—®é¢˜éƒ½ä¸å¤ªå¥½å¤„ç†çš„ã€‚</p>
<p>è¯•äº†ä¸‹åŸæ¥çš„Python 2ç‰ˆæœ¬çš„è¿˜æ­£å¸¸ï¼Œé‚£ä¹ˆå°±æ˜¯è¿™æ¬¡è¿ç§»æœ‰ç‚¹å°é—®é¢˜äº†ã€‚</p>
<p><img src="/images/201804170754535.png"></p>
<h2 id="ç¡®å®šå¤ç°"><a href="#ç¡®å®šå¤ç°" class="headerlink" title="ç¡®å®šå¤ç°"></a>ç¡®å®šå¤ç°</h2><p>ç»è¿‡ä¸€ç³»åˆ—ç»æœ›çš„ççŒ«ç¢°æ­»è€—å­çš„å°è¯•ï¼Œå‘ç°äº†å½“è¦ä¸‹è½½çš„æ–‡ä»¶æ˜¯ç¬¬ä¸‰ä¸ªï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªé”™è¯¯ï¼ŒæŠ›çš„å¼‚å¸¸å¦‚ä¸‹ï¼š</p>
<p>[E 180417 11:03:48 web:1590] Uncaught exception GET &#x2F;apps&#x2F;scenario_change&#x2F;page&#x2F;download?_id&#x3D;5aab8287e138235c1c9fa9ea&amp;type&#x3D;task (127.0.0.1)<br>    HTTPServerRequest(protocol&#x3D;â€™httpâ€™, host&#x3D;â€™127.0.0.1:9118â€™, method&#x3D;â€™GETâ€™, uri&#x3D;â€™&#x2F;apps&#x2F;scenario_change&#x2F;page&#x2F;download?_id&#x3D;5aab8287e138235c1c9fa9ea&amp;type&#x3D;taskâ€™, version&#x3D;â€™HTTP&#x2F;1.1â€™, remote_ip&#x3D;â€™127.0.0.1â€™, headers&#x3D;{â€˜Hostâ€™: â€˜127.0.0.1:9118â€™, â€˜Connectionâ€™: â€˜keep-aliveâ€™, â€˜Upgrade-Insecure-Requestsâ€™: â€˜1â€™, â€˜User-Agentâ€™: â€˜Mozilla&#x2F;5.0 (Macintosh; U; Intel Mac OS X 10.11; rv:54.0) Gecko&#x2F;20100101 Firefox&#x2F;54.0â€™, â€˜Acceptâ€™: â€˜text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,image&#x2F;apng,*&#x2F;*;q&#x3D;0.8â€™, â€˜Dntâ€™: â€˜1â€™, â€˜Refererâ€™: â€˜<a target="_blank" rel="noopener" href="http://127.0.0.1:9118/apps/scenario/_change/task/_management.html">http://127.0.0.1:9118/apps/scenario\_change/task\_management.html</a>â€˜, â€˜Accept-Encodingâ€™: â€˜gzip, deflate, brâ€™, â€˜Accept-Languageâ€™: â€˜zh-CN,zh;q&#x3D;0.9,en-US;q&#x3D;0.8,en;q&#x3D;0.7â€™})<br>    Traceback (most recent call last):<br>      File â€œC:\Python36\lib\site-packages\tornado\web.pyâ€, line 1513, in _execute<br>        self.finish()<br>      File â€œC:\Python36\lib\site-packages\tornado\web.pyâ€, line 991, in finish<br>        self.flush(include_footers&#x3D;True)<br>      File â€œC:\Python36\lib\site-packages\tornado\web.pyâ€, line 947, in flush<br>        start_line, self._headers, chunk, callback&#x3D;callback)<br>      File â€œC:\Python36\lib\site-packages\tornado\http1connection.pyâ€, line 381, in write_headers<br>        lines.extend(l.encode(â€˜latin1â€™) for l in header_lines)<br>      File â€œC:\Python36\lib\site-packages\tornado\http1connection.pyâ€, line 381, in<br>        lines.extend(l.encode(â€˜latin1â€™) for l in header_lines)<br>    UnicodeEncodeError: â€˜latin-1â€™ codec canâ€™t encode characters in position 45-46: ordinal not in range(256)<br>[E 180417 11:03:48 web:1015] Cannot send error response after headers written<br>[E 180417 11:03:48 web:1025] Failed to flush partial response<br>    Traceback (most recent call last):<br>      File â€œC:\Python36\lib\site-packages\tornado\web.pyâ€, line 1513, in _execute<br>        self.finish()<br>      File â€œC:\Python36\lib\site-packages\tornado\web.pyâ€, line 991, in finish<br>        self.flush(include_footers&#x3D;True)<br>      File â€œC:\Python36\lib\site-packages\tornado\web.pyâ€, line 947, in flush<br>        start_line, self._headers, chunk, callback&#x3D;callback)<br>      File â€œC:\Python36\lib\site-packages\tornado\http1connection.pyâ€, line 381, in write_headers<br>        lines.extend(l.encode(â€˜latin1â€™) for l in header_lines)<br>      File â€œC:\Python36\lib\site-packages\tornado\http1connection.pyâ€, line 381, in<br>        lines.extend(l.encode(â€˜latin1â€™) for l in header_lines)<br>    UnicodeEncodeError: â€˜latin-1â€™ codec canâ€™t encode characters in position 45-46: ordinal not in range(256)</p>
<pre><code>During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &quot;C:\\Python36\\lib\\site-packages\\tornado\\web.py&quot;, line 1022, in send\_error
    self.finish()
  File &quot;C:\\Python36\\lib\\site-packages\\tornado\\web.py&quot;, line 992, in finish
    self.request.finish()
  File &quot;C:\\Python36\\lib\\site-packages\\tornado\\httputil.py&quot;, line 419, in finish
    self.connection.finish()
  File &quot;C:\\Python36\\lib\\site-packages\\tornado\\http1connection.py&quot;, line 448, in finish
    self.\_expected\_content\_remaining)
tornado.httputil.HTTPOutputError: Tried to write 8015 bytes less than Content-Length
</code></pre>
<h2 id="è¿½è¸ªå¼‚å¸¸1ï¼šç™½é«˜å…´"><a href="#è¿½è¸ªå¼‚å¸¸1ï¼šç™½é«˜å…´" class="headerlink" title="è¿½è¸ªå¼‚å¸¸1ï¼šç™½é«˜å…´"></a>è¿½è¸ªå¼‚å¸¸1ï¼šç™½é«˜å…´</h2><p>æŒ‰ç…§å¸¸ç†è®²ï¼Œå’±ä»£ç å‡ºäº†å¼‚å¸¸ï¼Œå’±å°±å®šä½åˆ°æŠ¥é”™çš„æœ€åä¸€è¡Œï¼ˆmost recent call lastå˜›ï¼Œæœ€åä¸€æ¬¡è°ƒç”¨ï¼‰ï¼Œçœ‹ä¸‹å¼‚å¸¸æ˜¯ä»€ä¹ˆçŸ¥é“ä¸ªå¤§æ¦‚ï¼Œç„¶åè·³è¿‡å»ï¼Œè¯¥å›æº¯çš„å›æº¯ï¼Œç®¡å®ƒæ˜¯é«˜çº§çš„æ‰“æ–­ç‚¹å¼€debugè¿˜æ˜¯ä½çº§çš„ä¸€é¡¿printçš„ï¼Œç¡®å®šé—®é¢˜æ ¹æºç„¶åä¿®æ”¹ã€‚</p>
<p>çœ‹ä¸€çœ¼è¿™ä¸ªå¼‚å¸¸ï¼Œ<strong>Tried to write 8015 bytes less than Content-Length</strong>ï¼Œçœ‹æ ·å­å¥½åƒæ˜¯æŒ‡å®šäº†ä¸€ä¸ªContent-Lengthä½†æ˜¯å®é™…ä¸Šå‘é€çš„æ–‡ä»¶å´æ¯”è¿™ä¸ªçŸ­8015å­—èŠ‚ã€‚è«éæ˜¯è¿ç§»åˆ°3çš„è¿‡ç¨‹ä¸­å¯¹Unicodeä¸bytesåº”ç”¨äº†é”™è¯¯çš„<code>len()</code>å¯¼è‡´æŠ›å¼‚å¸¸ï¼Ÿ</p>
<p>é‚£ç®€å•äº†ï¼Œçœ‹ä¸€çœ¼æ˜¯ä¸æ˜¯è®¾é”™äº†headerså°±å¥½äº†å•Šï¼ŒEdit - Find - Find in pathï¼Œé™å®šæ–‡ä»¶ç±»å‹ä¸ºpyï¼Œå¼€æœï¼</p>
<p><img src="/images/201804170754546.png"></p>
<p>å•¥ï¼Ÿé€—æˆ‘å‘¢ï¼Ÿæ²¡æœ‰ï¼Ÿ [v_tips] å°æç¤ºï¼šä¸ºå•¥ç¬¬ä¸€æƒ³æ³•è¦æ€€ç–‘Content-Lengthçš„é•¿åº¦è®¾ç½®é”™äº†å‘¢ï¼Ÿ</p>
<p>å¾ˆç®€å•å•¦ï¼ŒPython 2å¯¹Unicodeçš„å®ç°emmmè¿™ä¹ˆè¯´å§ï¼Œåœ¨Python 2é‡Œï¼Œ<code>&#39;hello&#39;</code>æ˜¯äºŒè¿›åˆ¶ï¼ˆå­—èŠ‚æµ bytesï¼‰ï¼Œ<code>u&#39;hello&#39;</code>æ‰æ˜¯Unicodeï¼›ä½†æ˜¯åœ¨3é‡Œå‘¢ï¼Œ<code>&#39;hello&#39;</code>æ˜¯Unicodeï¼Œ<code>b&#39;hello&#39;</code>æ‰æ˜¯äºŒè¿›åˆ¶ã€‚å”‰ï¼Œè°å«Python é—®ä¸–ï¼ˆç¬¬ä¸€ç‰ˆå‘å¸ƒäº1991.02ï¼‰çš„æ—¶å€™Unicodeæ ‡å‡†ï¼ˆ1991.10ï¼‰è¿˜æ²¡å‡ºæ¥å‘¢ã€‚</p>
<p>ä»¥é˜²ä½ ä»¬ä¸æ™“å¾—è¿™ä¹ˆä¸ªå¤§å‘ï¼Œçœ‹ä¸‹å›¾ï¼š</p>
<p><img src="/images/2018041707545544.png"></p>
<p>ä»¥ååœ¨æœ‰äººè·Ÿä½ è¯´ä¸€ä¸ªæ±‰å­—æ˜¯ä¸¤ä¸ªå­—èŠ‚ï¼Œä½ å°±æ‹¿è¿™ä¸ªå›¾æ€¼æ­»ä»–ï¼šä¸è¯´ç¼–ç å°±è¯´ä¸€ä¸ªæ±‰å­—æ˜¯å‡ ä¸ªå­—èŠ‚å°±æ˜¯è€æµæ°“ï¼Œ<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E6%97%A5%E9%9F%93%E7%B5%B1%E4%B8%80%E8%A1%A8%E6%84%8F%E6%96%87%E5%AD%97">è¯´äº†ç¼–ç é‚£ä¹Ÿæ˜¯è€æµæ°“</a>ã€‚[&#x2F;v_tips]</p>
<h2 id="è¿½è¸ªå¼‚å¸¸2ï¼šæ‰¾åˆ°æ ¹æº"><a href="#è¿½è¸ªå¼‚å¸¸2ï¼šæ‰¾åˆ°æ ¹æº" class="headerlink" title="è¿½è¸ªå¼‚å¸¸2ï¼šæ‰¾åˆ°æ ¹æº"></a>è¿½è¸ªå¼‚å¸¸2ï¼šæ‰¾åˆ°æ ¹æº</h2><p>æœ‰ç‚¹æ‰«å…´ï¼Œç«Ÿç„¶æ²¡æœ‰Content-Lengthï¼Œé‚£æ˜¯å› ä¸ºå•¥å‘¢ï¼Ÿé‚£å°±ç»§ç»­çœ‹ç€æŠ¥é”™å›æº¯å‘—ã€‚æ‰«äº†ä¸€çœ¼ï¼Œå•¥ï¼Œ<strong>éƒ½æ˜¯tornadoçš„é”™</strong>ï¼Œ<strong>ä¸æ˜¯æˆ‘çš„é”™</strong>ï¼Ÿéš¾é“æˆ‘è¦æ€€ç–‘ç¼–è¯‘å™¨è§£é‡Šå™¨å’Œä¹…è´Ÿç››åçš„tornadoâ€¦â€¦ï¼Ÿ [v_blue] æ‰©å±•é˜…è¯»ï¼š</p>
<p>ã€Š<a target="_blank" rel="noopener" href="https://v2mm.tech/topic/830/%E5%A4%A7%E5%AE%B6%E6%9C%89%E4%BB%80%E4%B9%88%E5%86%99%E4%BB%A3%E7%A0%81%E5%86%99%E5%88%B0%E6%80%80%E7%96%91%E4%BA%BA%E7%94%9F-%E6%80%80%E7%96%91%E7%BC%96%E8%AF%91%E5%99%A8%E8%A7%A3%E9%87%8A%E5%99%A8%E7%9A%84%E7%BB%8F%E5%8E%86%E5%90%97">å¤§å®¶æœ‰ä»€ä¹ˆå†™ä»£ç å†™åˆ°æ€€ç–‘äººç”Ÿã€æ€€ç–‘ç¼–è¯‘å™¨è§£é‡Šå™¨çš„ç»å†å—</a>ã€‹</p>
<p>cookiesçš„æ—¶é—´æˆ³ï¼ŒCè¯­è¨€æ ‡å‡†forå¾ªç¯<code>for(int i=0;i++;i&lt;10)</code>ï¼Œmianï¼Œtureï¼Œå…¨è§’ç¬¦å·ï¼Œä»¥åŠ<code>&lt;link href</code>â€¦â€¦[&#x2F;v_blue]</p>
<p>åˆä»”ç»†çœ‹äº†ä¸€çœ¼ï¼Œå‘ç°è¿™ä¹ˆä¸€æ®µè¯ï¼š<strong>During handling of the above exception, another exception occurred</strong>:</p>
<p>å¤„ç†ä¸Šé¢è¿™ä¸ªå¼‚å¸¸çš„æ—¶å€™ï¼Œåˆæ¥äº†ä¸ªè¿™ä¹ˆå¼‚å¸¸ã€‚</p>
<p>å•ŠåŸæ¥æˆ‘åˆšåˆšçœ‹çš„æ˜¯åæ¥çš„å¼‚å¸¸å•Šï¼Œé‚£æˆ‘å¾—çœ‹ç¬¬ä¸€ä¸ªå¼‚å¸¸çš„å°¾å·´ï¼š</p>
<p><strong>UnicodeEncodeError: â€˜latin-1â€™ codec canâ€™t encode characters in position 45-46: ordinal not in range(256)</strong></p>
<p>å¤šå°‘å¹´äº†ï¼Œæ— æ•°çš„Pythonç¨‹åºå‘˜éƒ½æ›¾ç»è¢«UnicodeEncodeErrorä¸UnicodeDecodeErrorå‘çš„è¯´ä¸å‡ºè¯æ¥ã€‚</p>
<p>å¯æ˜¯ä¾æ—§æ²¡æœ‰æˆ‘çš„ä»£ç å•Šã€‚</p>
<p>ç»ˆäºï¼Œé€šè¿‡æœç´¢.txtï¼ˆä¸‹è½½çš„æ–‡ä»¶çš„æ‰©å±•åï¼‰æˆ‘æˆåŠŸæ‰¾åˆ°äº†è¿™ä¸€è¡Œï¼š</p>
<p>file_name &#x3D; response[â€˜dataâ€™][0][â€˜task_nameâ€™] + â€˜.txtâ€™</p>
<p>çœ‹æ¥æ˜¯è¿™å¥è¯è´Ÿè´£ç”Ÿæˆæ–‡ä»¶åçš„ï¼Œæ‰¾åˆ°è¿™å¥çš„å‡½æ•°å®šä¹‰ï¼Œç»§ç»­æ‰¾è°ƒç”¨è€…ï¼Œå®å’šï¼</p>
<p>ä¸€çœ‹å‡½æ•°åå«downloadï¼Œçœ‹æ ·å­ä¸‹å›¾è¿™é‡Œå°±æ˜¯è¯¥æ’é”™çš„åœ°æ–¹</p>
<p><img src="/images/2018041707545536.png"></p>
<h2 id="è§£å†³å¼‚å¸¸1ï¼šçæ¯”åˆ’"><a href="#è§£å†³å¼‚å¸¸1ï¼šçæ¯”åˆ’" class="headerlink" title="è§£å†³å¼‚å¸¸1ï¼šçæ¯”åˆ’"></a>è§£å†³å¼‚å¸¸1ï¼šçæ¯”åˆ’</h2><h3 id="åŠ ä¸ªContent-Length"><a href="#åŠ ä¸ªContent-Length" class="headerlink" title="åŠ ä¸ªContent-Length"></a>åŠ ä¸ªContent-Length</h3><p>å¤§è‡´çœ‹äº†çœ¼ï¼Œå¥½åƒæ²¡å•¥é—®é¢˜ã€‚è¦ä¸åœ¨è¿™é‡ŒåŠ ä¸Šä¸ªContent-Lengthè¯•è¯•ï¼Ÿ</p>
<p>self.set_header(â€œContent-Lengthâ€, len(file_content.encode(â€˜utf-8â€™)))</p>
<p><img src="/images/2018041707545689.png"></p>
<p>æˆ‘çš„åŸºç¡€è¿˜æ˜¯å¾ˆç‰¢å›ºçš„ï¼Œæ²¡ç®—é”™ï¼Œä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ï¼Œè‚¯å®šæ²¡é”™å•Šã€‚ä½†æ˜¯<strong>Tried to write 8015 bytes less than Content-Length</strong>è¿™ä¸ªå¼‚å¸¸è¿˜æ˜¯æŠ›äº†ã€‚</p>
<h3 id="æ•°æ®ç±»å‹é”™äº†"><a href="#æ•°æ®ç±»å‹é”™äº†" class="headerlink" title="æ•°æ®ç±»å‹é”™äº†"></a>æ•°æ®ç±»å‹é”™äº†</h3><p>ä¹Ÿè®¸æ˜¯æ•°æ®ç±»å‹é”™äº†ï¼Ÿè¯´ä¸å®š<code>file_name</code>, <code>file_content</code>éœ€è¦å­—èŠ‚æµè€Œä¸æ˜¯å­—ç¬¦ä¸²å‘¢ï¼Ÿè¿™å¥½åƒæœ‰ç‚¹æ¥è¿‘Unicodeé”™è¯¯äº†ã€‚ç®€å•çš„<code>encode(&#39;utf-8&#39;)</code>ä¸€ä¸‹ï¼Œå½“ç„¶è¿˜æ˜¯ç»§ç»­é”™å•¦ã€‚</p>
<h3 id="ä¹Ÿè®¸æ˜¯å› ä¸ºheaderçš„äº‹æƒ…"><a href="#ä¹Ÿè®¸æ˜¯å› ä¸ºheaderçš„äº‹æƒ…" class="headerlink" title="ä¹Ÿè®¸æ˜¯å› ä¸ºheaderçš„äº‹æƒ…"></a>ä¹Ÿè®¸æ˜¯å› ä¸ºheaderçš„äº‹æƒ…</h3><p>é‚£å°±æŠŠheaderéƒ½æ³¨é‡Šäº†çœ‹çœ‹ã€‚äºæ˜¯åœ¨æµè§ˆå™¨é‡Œæ‰“å¼€äº†æ–‡ä»¶â€¦â€¦</p>
<p><img src="/images/2018041707545712.png"></p>
<p>é‚£æˆ‘åªç•™Content-Type</p>
<p><img src="/images/2018041707545743.png"></p>
<p>å™—(&#x2F;â‰§â–½â‰¦)&#x2F;æˆ‘çš„æ–‡ä»¶åå‘¢ï¼Œå†…å®¹æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>å•Šï¼ŒåŸæ¥æ˜¯é çš„Content-Dispositionè¿™ä¸ªå“åº”å¤´æ¥å¼ºåˆ¶æµè§ˆå™¨ä¸‹è½½æ–‡ä»¶ï¼ŒæŒ‡å®šæ–‡ä»¶åä»€ä¹ˆçš„å•Šâ€¦â€¦</p>
<h2 id="è§£å†³å¼‚å¸¸2ï¼šç¡®å®šé—®é¢˜"><a href="#è§£å†³å¼‚å¸¸2ï¼šç¡®å®šé—®é¢˜" class="headerlink" title="è§£å†³å¼‚å¸¸2ï¼šç¡®å®šé—®é¢˜"></a>è§£å†³å¼‚å¸¸2ï¼šç¡®å®šé—®é¢˜</h2><p>ç»ˆäºï¼Œæˆ‘ç¡®å®šäº†å‡ºé”™çš„ä»£ç åœ¨è¿™ä¸€è¡Œ</p>
<p>self.set_header(â€œContent-Dispositionâ€, â€œattachment; filename&#x3D;%sâ€ % file_name)</p>
<p>çœ‹æ ·å­æ˜¯æ–‡ä»¶åã€‚é‚£å°±æŠŠfilenameæ›¿æ¢æˆç¡¬ç¼–ç çš„<code>test.txt</code>ï¼Œæ­£å¸¸ä¸‹è½½ï¼›å†æ¢æˆ<code>teså•Št.txt</code>ï¼Œä¸€æ¨¡ä¸€æ ·çš„æŠ¥é”™ã€‚</p>
<p>äºæ˜¯æˆ‘æœæ–­çš„æœç´¢äº†Content-Disposition encodingä»¥åŠContent-Disposition ç¼–ç ï¼Œçœ‹åˆ°<a target="_blank" rel="noopener" href="https://blog.robotshell.org/2012/deal-with-http-header-encoding-for-file-download/">è¿™ä¹ˆä¸€ç¯‡è¯´å¾—è¿˜æŒºæœ‰é“ç†çš„æ–‡ç« </a>ï¼š</p>
<p>Content-Disposition: attachment;filename&#x3D;â€$encoded_fnameâ€;<br>filename*&#x3D;utf-8â€™â€™$encoded_fname</p>
<p>å½“ç„¶äº†æˆ‘æ²¡çœ‹åˆ°ä¸‹é¢é‚£å¥è¯ï¼ˆ<strong>è¯»ä¹¦è¦è¯»å…¨å•Š</strong>ï¼‰ï¼Œç›´æ¥å¥—ä¸Šäº†</p>
<p>self.set_header(â€œContent-Dispositionâ€, â€œattachment; filename*&#x3D;utf-8â€™â€™%sâ€ % file_name)</p>
<p>å½“ç„¶ç»§ç»­æŠ¥é”™å•¦ã€‚è¿˜æ˜¯<code>file_name</code>æ•°æ®ç±»å‹ä¸å¯¹ï¼ŸencodeæˆUTF-8ï¼Ÿå·®ç‚¹ç”¨ä¸Šdecodeï¼ˆå­—ç¬¦ä¸²æ€ä¹ˆå¯èƒ½å†decodeå˜›ï¼Ÿå¿…ç„¶è¦æŠ¥é”™çš„ï¼‰</p>
<p><img src="/images/201804170754585.png"></p>
<p>å™—ï¼Œè¿™å€’çœŸæ˜¯<code>tesçš„t.txt</code>è¿™ä¸ªå­—ç¬¦ä¸²çš„UTF-8ç¼–ç ã€‚</p>
<p>è¿™å°±çº ç»“äº†ï¼Œéš¾é“æˆ‘è¦æŠŠæ–‡ä»¶åææˆä»€ä¹ˆASCIIçš„ï¼Ÿæ¯”å¦‚å¹²è„†æ˜¯å‡ ä¸ªçœŸä¼ªéšæœºæ•°å§ï¼Ÿ</p>
<h2 id="è§£å†³å¼‚å¸¸3ï¼šè§£å†³"><a href="#è§£å†³å¼‚å¸¸3ï¼šè§£å†³" class="headerlink" title="è§£å†³å¼‚å¸¸3ï¼šè§£å†³"></a>è§£å†³å¼‚å¸¸3ï¼šè§£å†³</h2><p>ç„¶ååˆæ‰¾åˆ°äº†è¿™ä¹ˆä¸€ç¯‡<a target="_blank" rel="noopener" href="http://lgbolgger.iteye.com/blog/2108396">ä¾‹å­ä¸°å¯Œçš„æ–‡ç« </a>ï¼Œçœ‹åˆ°ä¸€åŠçªç„¶æƒ³èµ·äº†ï¼Œæ—¢ç„¶è¦ç»™ä»»æ„æ–‡å­—ç¼–ç æˆASCIIå­—ç¬¦é›†å†…çš„ï¼Œé‚£å°±ç”¨base64å•Šï¼Œä½†æ˜¯æµè§ˆå™¨åˆä¸æ‡‚base64æ²¡åŠæ³•ç»™è¿˜åŸå›æ¥å•Šâ€¦â€¦</p>
<p>å”‰ï¼Ÿï¼Ÿä¸æ˜¯æœ‰ä¸ªä¸œè¥¿å«URLç¼–ç å—ï¼Ÿè¿…é€Ÿç¿»äº†ç¿»ä¾‹å­ä¸°å¯Œçš„æ–‡ç« ï¼Œè¿˜çœŸæäº†ä¸€å¥â€¦â€¦</p>
<p>from urllib.parse import quote<br>self.set_header(â€œContent-Dispositionâ€, â€œattachment; filename&#x3D;%sâ€ % quote(â€˜tesçš„t.txtâ€™))</p>
<p><img src="/images/2018041707545941.png"></p>
<p>æˆ‘çˆ±emojiï¼Œemojiä¹Ÿçˆ±æˆ‘ã€‚???å…¸å‹çš„å‚²å¨‡å—ã€‚</p>
<p>??? ??? ??? ??? ??? ??? ???</p>
<p>å…¶å®<a target="_blank" rel="noopener" href="https://blog.robotshell.org/2012/deal-with-http-header-encoding-for-file-download/">ç¬¬ä¸€ç¯‡æ–‡ç« </a>æäº†ä¸€å¥çš„ï¼šå…¶ä¸­ï¼Œ <code>$encoded_fname</code>æŒ‡çš„æ˜¯å°† UTF-8 ç¼–ç çš„åŸå§‹æ–‡ä»¶åæŒ‰ç…§ RFC 3986 è¿›è¡Œç™¾åˆ†å·ç¼–ç ï¼ˆpercent encodingï¼‰åå¾—åˆ°çš„ã€‚</p>
<p>ç™¾åˆ†å·ç¼–ç å°±æ˜¯<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-hans/%E7%99%BE%E5%88%86%E5%8F%B7%E7%BC%96%E7%A0%81">URLç¼–ç </a>å•¦â€¦â€¦</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ä¸ªå°é—®é¢˜å…¶å®éšè—çš„è¿˜æ˜¯å¾ˆæ·±çš„ï¼Œè€Œä¸”å¥‡ç‰¹çš„æ˜¯åœ¨Python 2æ²¡æœ‰é—®é¢˜ä½†æ˜¯åˆ°äº†3å°±å†’å‡ºæ¥äº†ã€‚</p>
<p>å…‰çœ‹æŠ¥é”™åŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆçº¿ç´¢ï¼Œåªèƒ½é å¯¹ä¸šåŠ¡çš„ç†Ÿæ‚‰æ‘¸ç´¢æ‰¾åˆ°å¯¹åº”çš„ä»£ç ï¼Œä»”ç»†æ’æŸ¥æœ€ç»ˆç¡®å®šå¯¼è‡´å‡ºé”™çš„ä»£ç â€¦â€¦ç„¶åè§£å†³ä¹‹ã€‚</p>
<p>å°±æˆ‘è¿™æ°´å¹³å•Šï¼Œè¿˜æ˜¯åˆ«æ€€ç–‘ç¼–è¯‘å™¨è§£é‡Šå™¨ï¼Œä¹Ÿåˆ«æ€€ç–‘ä¹…è´Ÿç››åçš„åº“äº†ï¼Œç»å¯¹æ˜¯æˆ‘é”™äº†ã€‚</p>
<blockquote>
<p>You tell me Iâ€™m wrong, then youâ€™d better prove youâ€™re right. â€”â€”M.J.</p>
</blockquote>
<h2 id="åç»­"><a href="#åç»­" class="headerlink" title="åç»­"></a>åç»­</h2><p>ç»è¿‡ä¸€å°æ®µæ—¶é—´çš„é˜…è¯»æºä»£ç ï¼Œåœ¨tornadoæºä»£ç ä¸­å‘ç°äº†é—®é¢˜çš„æ ¹æºã€‚è·Ÿç€æˆ‘çš„èŠ‚å¥èµ°ï¼å…ˆçœ‹ä¸‹æŠ“åŒ…çš„ç»“æœå§ï¼š</p>
<p>Python 2æœªç¼–ç  <a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2018/04/2018041803535426.png"><img src="/images/2018041803535426.png"></a></p>
<p>Python 2 URLç¼–ç  <a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2018/04/2018041803535177.png"><img src="/images/2018041803535177.png"></a></p>
<p>Python 3 URLç¼–ç  <a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2018/04/2018041803535360.png"><img src="/images/2018041803535360.png"></a></p>
<p>æˆ‘ä»¬çŸ¥é“é—®é¢˜æ˜¯ç”±set_headerå¼•èµ·çš„ï¼Œæ‰€ä»¥çœ‹ä¸€ä¸‹set_headerçš„æºä»£ç ï¼š</p>
<p>def set_header(self, name, value):<br>        # type: (str, _HeaderTypes) -&gt; None<br>        â€œâ€â€Sets the given response header name and value.</p>
<pre><code>    If a datetime is given, we automatically format it according to the
    HTTP specification. If the value is not a string, we convert it to
    a string. All header values are then encoded as UTF-8.
    &quot;&quot;&quot;
    self.\_headers\[name\] = self.\_convert\_header\_value(value)
</code></pre>
<p>éå¸¸æ¸…æ¥šçš„çœ‹åˆ°è°ƒç”¨äº†ä¸€ä¸ª<code>_convert_header_value()</code>ï¼Œç»§ç»­è¿½æº¯</p>
<pre><code>def \_convert\_header\_value(self, value):
    # type: (\_HeaderTypes) -&gt; str

    # Convert the input value to a str. This type check is a bit
    # subtle: The bytes case only executes on python 3, and the
    # unicode case only executes on python 2, because the other
    # cases are covered by the first match for str.
    if isinstance(value, str):
        retval = value
    elif isinstance(value, bytes):  # py3
        # Non-ascii characters in headers are not well supported,
        # but if you pass bytes, use latin1 so they pass through as-is.
        retval = value.decode(&#39;latin1&#39;)
    elif isinstance(value, unicode\_type):  # py2
        # TODO: This is inconsistent with the use of latin1 above,
        # but it&#39;s been that way for a long time. Should it change?
        retval = escape.utf8(value)
    elif isinstance(value, numbers.Integral):
        # return immediately since we know the converted value will be safe
        return str(value)
    elif isinstance(value, datetime.datetime):
        return httputil.format\_timestamp(value)
    else:
        raise TypeError(&quot;Unsupported header value %r&quot; % value)
    # If \\n is allowed into the header, it is possible to inject
    # additional headers or split the request.
    if RequestHandler.\_INVALID\_HEADER\_CHAR\_RE.search(retval):
        raise ValueError(&quot;Unsafe header value %r&quot;, retval)
    return retval
</code></pre>
<p>è¿™æ®µä»£ç æœ‰ç‚¹å†—é•¿ï¼Œä½†å®é™…ä¸Šåªåšäº†ä¸€ä»¶äº‹æƒ…ï¼Œå°†ä¼ é€’è¿‡æ¥çš„valueè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ›´è¿›ä¸€æ­¥ï¼Œåœ¨Python 2ä¸­ï¼Œå¦‚æœä¼ è¿‡æ¥çš„æ˜¯<code>&#39;hello&#39;</code>ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›ï¼›å¦‚æœç±»å‹æ˜¯<code>u&#39;hello&#39;</code>, é‚£ä¹ˆ<code>escape.utf8(value)</code>ã€‚åœ¨Python 3ä¸­å¦‚æœæ˜¯<code>&#39;hello&#39;</code>é‚£ä¹ˆç›´æ¥è¿”å›ï¼Œå¦‚æœæ˜¯<code>&#39;helloä½ &#39;.encode(&#39;utf-8&#39;)</code>ï¼Œé‚£ä¹ˆç”¨latin1è§£ç ã€‚</p>
<p>æœ€ç»ˆè¿™æ®µä»£ç ä¼šä¿è¯è¿”å›çš„ç±»å‹æ˜¯å¯¹åº”Python 2&#x2F;3çš„strç±»å‹ã€‚</p>
<p>ä½†å…¶å®è¿™æ®µä»£ç å¹¶æ²¡æœ‰ä»€ä¹ˆé”™ï¼Œä¸è¿‡ç¡®å®å†™çš„æœ‰ç‚¹éš¾æ‡‚ã€‚ ä¹‹åç»§ç»­è¿½æº¯åˆ°<code>write_headers()</code>ï¼Œåœ¨http1connection.pyçš„ç¬¬380è¡Œå·¦å³ï¼š</p>
<p>if PY3:<br>            lines.extend(l.encode(â€˜latin1â€™) for l in header_lines)<br>        else:<br>            lines.extend(header_lines)</p>
<p>å…¶ä¸­header_linesæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„headersï¼Œå…¶ç±»å‹ä¸ºstrï¼ˆå¯¹åº”2&#x2F;3çš„ç±»å‹ï¼‰ é‚£ä¹ˆé”™è¯¯å°±æ˜¾ç„¶æ˜“è§äº†ï¼Œåœ¨Python 3ä¸­å¯¹<code>&#39;hello&#39;.encode(&#39;latin1&#39;)</code>æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼Œä½†æ˜¯<code>&#39;helloå’Œ&#39;.encode(&#39;latin1&#39;)</code>è‚¯å®šä¼šæŠ¥UnicodeEncodeErrorå•Šï¼Œè¿™ä¹Ÿå°è¯äº†æˆ‘æœ€å¼€å§‹å‘ç°çš„ç¼–ç é”™è¯¯ã€‚</p>
<p>ä½†æ˜¯åœ¨Python 2ï¼Œç›´æ¥å°±èµ°äº†ä¸‹é¢extendè¿›å»äº†ï¼Œè‡ªç„¶ä¹Ÿæ²¡é—®é¢˜äº†ã€‚ ä½†æ˜¯å¦‚æœæˆ‘ä»¬è°ƒç”¨set_headeræ—¶ä¼ é€’çš„å‚æ•°æ˜¯<code>&#39;hellä½ &#39;.encode(&#39;utf-8&#39;)</code>ï¼Œé‚£ä¹ˆåœ¨<code>_convert_header_value</code>ä¸­ä¼šè¢«ç”¨latin1è§£ç ï¼Œåœ¨è¿™é‡Œåˆä½¿ç”¨latin1ç¼–ç ï¼Œåˆå›åˆ°äº†utf-8ç¼–ç ä¹‹åçš„å½¢æ€ï¼Œæ‰€ä»¥è‡ªç„¶ä¼šå‡ºç°å¯¹åº”æ–‡ä»¶åçš„UTF-8ç¼–ç ï¼Œä¹Ÿå°è¯äº†ä¸Šé¢ä¸‹è½½å‡ºæ¥çš„ä¹±ç æ–‡ä»¶ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œè¦ä¹ˆæˆ‘ä»¬ä¿è¯åªä¼ é€’è¿‡æ¥ASCIIçš„æ–‡ä»¶åï¼ˆè¿›è¡ŒURLç¼–ç ï¼‰ï¼Œè¿™æ ·ç”¨latin1ç¼–ç å°±ä¸ä¼šé”™äº†ã€‚è¦ä¹ˆç›´æ¥æŠŠè¿™ä¿©latin1æ”¹æˆutf-8ã€‚</p>
<p>ä¸è¿‡æ ¹æ®<a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc7230#section-3.2.4">RFC7230 section 3.2.4</a>:</p>
<blockquote>
<p>Historically, HTTP has allowed field content with text in the ISO-8859-1 charset [ISO-8859-1], supporting other charsets only through use of [RFC2047] encoding. In practice, most HTTP header field values use only a subset of the US-ASCII charset [USASCII]. Newly defined header fields SHOULD limit their field values to US-ASCII octets. A recipient SHOULD treat other octets in field content (obs-text) as opaque data.</p>
</blockquote>
<p>è¿™ä¹ˆåšå…¶å®æ˜¯æœ‰æ‚–æ ‡å‡†çš„ï¼Œä½†æ˜¯Python 2çš„ç‰ˆæœ¬ç›´æ¥ä¸ç®¡ä¸é¡¾å‘å‡ºå»äº†å•Šï¼Œå®é™…ä¸ŠPython 2ç‰ˆæœ¬çš„åº”è¯¥æ‹’ç»è¿™ç§headersçš„ã€‚æˆ‘ä¹Ÿå¾ˆçº ç»“ï¼Œæˆ‘ä¹Ÿè§‰å¾—æ²¡åŠæ³•å•Šã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2018/04/17/python2-3-port/index/" data-id="clhp7rtie0073s2qrhi226brl" data-title="ä¸€æ¬¡æ‰¾ä¸åˆ°é”™è¯¯çš„å·¨å‘çš„http headerçš„urlç¼–ç çš„Python 3è¿ç§»é—®é¢˜" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/04/22/hopeless-future/index/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          çœ‹ä¸åˆ°å¸Œæœ›çš„æœªæ¥
        
      </div>
    </a>
  
  
    <a href="/2018/04/13/python-longpoll-db/index/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Pythoné•¿æœŸè¿æ¥æ•°æ®åº“çš„æœ€ä¸ä½³å®è·µï¼šLost connection to MySQL server during query</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/china/">china</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/china/justsay/">justsay</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/cloudflare/">cloudflare</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/gfw/">gfw</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/">it</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/it/justsay/">justsay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/security/">security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/share/">share</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/">justsay</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/gfw/">gfw</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/security/">security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/website/">website</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/program/">program</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/program/share/">share</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/">security</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/security/justsay/">justsay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/share/">share</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/website/">website</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/website/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/what/">what</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/what/gfw/">gfw</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/12/31/2023-end/index/">2023 å¹´ç»ˆæ€»ç»“</a>
          </li>
        
          <li>
            <a href="/2023/12/09/tron-trx/index/">ä½¿ç”¨ Tron(TRX) æ”¶æ¬¾</a>
          </li>
        
          <li>
            <a href="/2023/11/26/nodejs-dual-stack/index/">Node.js 18å‡çº§ï¼šåŒæ ˆåè®®è¸©å‘</a>
          </li>
        
          <li>
            <a href="/2023/11/25/steam-deck-stuck/index/">Steam Deck å¯åŠ¨æ¸¸æˆå¡ logo</a>
          </li>
        
          <li>
            <a href="/2023/11/09/es-ee-se-unicode/index/">Unicodeç¼–ç ä¹‹è°œï¼šä¸ºä»€ä¹ˆğŸ‡ªğŸ‡¸ğŸ‡ªğŸ‡ªåŒ…å«äº†ğŸ‡¸ğŸ‡ªï¼Ÿ</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 Bennyå°åœŸè±†<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>