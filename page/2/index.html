<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>åœŸè±†ä¸å¥½åƒ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="åœŸè±†ä¸å¥½åƒ">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="åœŸè±†ä¸å¥½åƒ">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Bennyå°åœŸè±†">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="åœŸè±†ä¸å¥½åƒ" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">åœŸè±†ä¸å¥½åƒ</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-stripe-telegram/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/07/stripe-telegram/index/" class="article-date">
  <time class="dt-published" datetime="2023-01-07T00:00:00.000Z" itemprop="datePublished">2023-01-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/program/">program</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/01/07/stripe-telegram/index/">åˆæ¢Stripeä¸Telegram Bot Payments API</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>4ä¸ªæœˆäº†ï¼Œæœ•åˆå‡ºç°äº†ï¼åˆæ°‘æ²¡èƒ½å®³å¾—äº†æ­¦åŠŸé«˜å¼ºçš„æœ•</p>
<p>Stripeæ˜¯ä¸€ä¸ªç”¨äºå…¨çƒæ”¶é’±çš„åœ¨çº¿æœåŠ¡ï¼Œæ”¯æŒå¾ˆå¤šç§è´§å¸ï¼Œå“ªæ€•ä½ äººåœ¨ç¾å›½ï¼Œæ”¶äººæ°‘å¸ä¹Ÿè¡Œï¼ŒStripeä¼šè‡ªåŠ¨å¸®ä½ è½¬æˆè´¦æˆ·å¯¹åº”çš„è´§å¸ã€‚Stripeæ”¯æŒçš„æ”¯ä»˜æ–¹å¼åŒ…æ‹¬é“¶è¡Œå¡ï¼ŒApple Payï¼ŒGoogle Payç”šè‡³æ˜¯å›½å†…éå¸¸æµè¡Œçš„æ”¯ä»˜å®å’Œå¾®ä¿¡ã€‚</p>
<p>å½“ä½ æœ‰äº†Stripeè´¦æˆ·ä¹‹åï¼Œæ— ä»£ç çš„æƒ…å†µä¸‹å¯ä»¥å¼„ä¸€ä¸ªæ”¶æ¬¾é“¾æ¥æˆ–è€…äºŒç»´ç ï¼Œç”¨æˆ·é€šè¿‡ä»–ä»¬çš„æœ¬åœ°æ”¯ä»˜æ–¹å¼å°±å¯ä»¥ç»™ä½ å¡é’±äº†ã€‚æ¯”å¦‚è¯´ä¸‹å›¾è¿™é‡Œï¼Œç”¨æˆ·å°±å¯ä»¥ç”¨æ”¯ä»˜å®æ¥ç»™æˆ‘æ‰“é’±ã€‚</p>
<p><img src="/images/2023010721475179.png" alt="æ‰‹æœºå±å¹•æˆªå›¾ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="é›†æˆStripe"><a href="#é›†æˆStripe" class="headerlink" title="é›†æˆStripe"></a>é›†æˆStripe</h2><p>æ— ä»£ç çš„æ–¹å¼æ˜¾ç„¶æ˜¯ä¸å¤Ÿçš„ã€‚å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬å‡ºå”®æœåŠ¡ï¼Œæˆ–è€…è¯´æ˜¯è½¯ä»¶æˆæƒï¼Œéƒ½éœ€è¦è‡ªåŠ¨åŒ–è¿›è¡Œçš„ã€‚æ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨Stripeçš„APIäº†ã€‚æƒ³è¦åˆ©ç”¨è¿™ä¸ªAPIï¼Œä¸»è¦å°±æ˜¯ä¸¤æ­¥ï¼š</p>
<ol>
<li>åˆ›å»º<code>PaymentIntent</code>ï¼Œä¸»è¦å°±æ˜¯å®šä¹‰äº†æ”¯æŒä»€ä¹ˆæ”¯ä»˜æ–¹å¼ï¼Œæƒ³è¦æ”¶å¤šå°‘é’±ï¼Œæƒ³è¦ä»€ä¹ˆå¸ç§</li>
<li>ç”¨æˆ·ä»˜æ¬¾ä¹‹åå¤„ç†å›è°ƒï¼Œæ¯”å¦‚è¯´ç»™ç”¨æˆ·å‘KEYå•¦ä¹‹ç±»çš„</li>
</ol>
<p>æˆ‘ä»¬ä»¥åšä¸€ä¸ªç”¨æˆ·ä»»æ„ææ¬¾çš„é¡µé¢ä¸ºä¾‹ï¼ˆå½“ç„¶è¿™ä¸ªå¯ä»¥ç”¨Stripeçš„æ— ä»£ç ï¼Œåªæ˜¯ä»¥æ­¤æ¥ä½œä¸ºä¾‹å­ï¼‰ï¼Œé¡µé¢å¤§æ¦‚æ˜¯è¿™æ ·å­çš„</p>
<p><img src="/images/2023010721475495.png" alt="å›¾ç¤º, æ–‡æœ¬ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h3 id="åˆ›å»ºPaymentIntent"><a href="#åˆ›å»ºPaymentIntent" class="headerlink" title="åˆ›å»ºPaymentIntent"></a>åˆ›å»ºPaymentIntent</h3><p>å¾ˆä¸‘æœ‰æ²¡æœ‰ã€‚ç”¨æˆ·è¾“å…¥ä¸€ä¸ªé‡‘é¢ï¼Œæäº¤è¡¨å•ä¹‹åï¼Œåç«¯éœ€è¦è¯·æ±‚åˆ›å»ºPayment Indentï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<p>Â </p>
<p>import stripe</p>
<p>stripe.api_key &#x3D;xxx</p>
<p>@app.route(â€˜&#x2F;checkoutâ€™, methods&#x3D;[â€˜POSTâ€™])<br>def checkout():<br>    method &#x3D; request.form[â€˜methodâ€™]<br>    # unit is åˆ†<br>    amount &#x3D; int(float(request.form[â€˜amountâ€™]) * 100)<br>    # create payment intent<br>    logging.info(â€œmethod: %s, amount: %sâ€, method, amount)<br>    intent &#x3D; stripe.PaymentIntent.create(payment_method_types&#x3D;[method], amount&#x3D;amount, currency&#x3D;â€cnyâ€)<br>    secret &#x3D; intent.client_secret<br>    return render_template(â€˜checkout.htmlâ€™, pk&#x3D;pk, secret&#x3D;secret, method&#x3D;method)</p>
<p>æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„çš„ï¼š</p>
<ol>
<li>methodæ˜¯ä»˜æ¬¾æ–¹å¼ï¼Œå…·ä½“ä¼šå—åˆ°å›½å®¶åœ°åŒºå’Œè´§å¸çš„é™åˆ¶</li>
<li>amountæ˜¯æ”¶å¤šå°‘é’±ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·åœ¨è¾“å…¥æ¡†é‡Œè¾“å…¥çš„ï¼Œéœ€è¦æ³¨æ„æ˜¯ä¼šå˜æˆæœ€å°è´§å¸å•ä½ã€‚å¯¹äºäººæ°‘å¸æ¥è¯´ï¼Œæœ€å°çš„è´§å¸å•ä½æ˜¯åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´æ”¶äººæ°‘å¸12.34å…ƒï¼Œè¿™ä¸ªamountåº”è¯¥æ˜¯1234ï¼›å¯¹äºæ—¥å…ƒè¿™ç§æœ€å°å•ä½å°±æ˜¯å…ƒçš„è´§å¸ï¼ˆ[é›¶ä½åè¿›åˆ¶è´§å¸](<a target="_blank" rel="noopener" href="https://stripe.com/docs/currencies">https://stripe.com/docs/currencies</a>â€œ \l â€œzero-decimal)ï¼‰ï¼Œæ”¶500æ—¥å…ƒé‚£ä¹ˆå°±å†™500å³å¯ã€‚</li>
<li>pkæ˜¯Stripeçš„APIçš„public keyï¼Œå…¶å®æ˜¯å¯ä»¥å…¬å¼€çš„ã€‚å†™åœ¨å‰ç«¯çš„ä»£ç é‡Œæ˜¯æ²¡é—®é¢˜çš„</li>
<li>client_secret å¯¹äºæ¯ä¸€ä¸ªä»˜æ¬¾è¯·æ±‚éƒ½æ˜¯å”¯ä¸€çš„</li>
</ol>
<h3 id="å‘èµ·è¯·æ±‚"><a href="#å‘èµ·è¯·æ±‚" class="headerlink" title="å‘èµ·è¯·æ±‚"></a>å‘èµ·è¯·æ±‚</h3><p>å‰ç«¯å¯ä»¥è¿™ä¹ˆå†™ï¼Œå¾ˆç®€å•ï¼Œæ€»ä¹‹å°±æ˜¯è¦è®©ç”¨æˆ·è¿›å…¥ä»˜æ¬¾é¡µé¢</p>
<p>const stripe &#x3D; Stripe(pk);<br>error &#x3D; stripe.confirmAlipayPayment(clientSecret, {<br>    &#x2F;&#x2F; Return URL where the customer should be redirected after the authorization<br>    return_url: `${window.location.origin}&#x2F;callback`,<br>});</p>
<p>æµ‹è¯•æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·ä¼šè¿›å…¥è¿™æ ·çš„é¡µé¢</p>
<p><img src="/images/2023010721475750.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>çœŸå®æ¨¡å¼ä¸‹æ˜¯è¿™æ ·çš„</p>
<p><img src="/images/2023010721475979.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h3 id="å¤„ç†å›è°ƒ"><a href="#å¤„ç†å›è°ƒ" class="headerlink" title="å¤„ç†å›è°ƒ"></a>å¤„ç†å›è°ƒ</h3><p>ç”¨æˆ·ä»˜æ¬¾ï¼ŒæˆåŠŸæˆ–è€…å¤±è´¥ä¹‹åï¼Œä¼šè¿”å›return urlï¼Œæˆ‘ä»¬é€šè¿‡URLå°±å¯ä»¥çŸ¥é“ä»˜æ¬¾æ˜¯å¦æˆåŠŸï¼Œå½“ç„¶é€šè¿‡APIæˆ–è€…webhookä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<p><img src="/images/2023010721480049.png" alt="è¡¨æ ¼ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>æ­¤æ—¶åœ¨Stripeçš„ç½‘é¡µä¸Šå°±åº”è¯¥å¯ä»¥çœ‹åˆ°ä»˜æ¬¾æˆåŠŸäº†</p>
<p><img src="/images/2023010721480110.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº, ç”µå­é‚®ä»¶ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>åŸºæœ¬ä¸Šç®€å•æ¥è¯´å°±æ˜¯è¿™æ ·çš„ğŸ˜‚å¾®ä¿¡ä¹Ÿå·®ä¸å¤šï¼Œåªä¸è¿‡å¾®ä¿¡æ¨¡å¼ä¸‹<code>stripe.js</code> ä¼šç›´æ¥åµŒå…¥ä¸€ä¸ªå¾®ä¿¡çš„äºŒç»´ç ï¼Œç„¶åéœ€è¦ç”¨webhookæˆ–è€…APIå»éªŒè¯ç”¨æˆ·æ˜¯å¦å·²ç»ä»˜æ¬¾ï¼Œä¸èƒ½ä¾èµ–callback urlå•¦ã€‚å®Œæ•´ä»£ç å¯ä»¥çœ‹æœ€ågist</p>
<h3 id="Stripe-è´¹ç‡"><a href="#Stripe-è´¹ç‡" class="headerlink" title="Stripe è´¹ç‡"></a>Stripe è´¹ç‡</h3><p>åœ¨ä¸Šé¢çš„é‚£ä¸ªStripeçš„é¡µé¢ï¼Œèƒ½å‘ç°StripeæŠ½äº†ä¸å°‘é’±ï¼Œå…·ä½“è´¹ç‡æ¯ä¸ªå›½å®¶ã€æ¯ç§æ”¯ä»˜æ–¹å¼éƒ½ä¸ä¸€æ ·ã€‚æ¯”å¦‚å¦‚æœæ˜¯åŠ æ‹¿å¤§ï¼Œç”¨æ”¯ä»˜å®æ”¯ä»˜ï¼Œé‚£ä¹ˆè´¹ç‡æ˜¯2.9% + C$0.30ï¼Œå¦‚æœéœ€è¦è´§å¸è½¬æ¢ï¼Œæœ‰äº›å›½å®¶ä¹Ÿè¿˜è¦æ”¶é’±çš„ã€‚å…·ä½“ä¿¡æ¯å¯ä»¥çœ‹è¿™é‡Œ <a target="_blank" rel="noopener" href="https://stripe.com/zh-cn-ca/pricing/local-payment-methods">https://stripe.com/zh-cn-ca/pricing/local-payment-methods</a>ï¼ŒæŠŠcaï¼ˆåŠ æ‹¿å¤§ï¼‰æ›¿æ¢æˆä½ çš„å›½å®¶ä»£ç å°±æœ‰å•¦ã€‚</p>
<h2 id="Telegram-Bot-Payment"><a href="#Telegram-Bot-Payment" class="headerlink" title="Telegram Bot Payment"></a>Telegram Bot Payment</h2><p>Telegramå¾ˆæ—©ä¹‹å‰ä¹Ÿç»™botæä¾›äº†éª—é’±çš„åŠŸèƒ½ï¼Œæ”¯æŒçš„æ”¶æ¬¾æœåŠ¡å•†åŒ…æ‹¬Stripeä¹‹ç±»çš„ã€‚æƒ³è¦ç”¨Payment APIï¼Œå…ˆè¦å»å’ŒBot Fatherç”³è¯·ï¼Œé€‰æ‹© Bot Settings-Paymentsï¼Œç„¶åé€‰æ‹©å¯¹åº”çš„ä»˜æ¬¾æä¾›å•†ï¼Œæ¯”å¦‚Stripeï¼Œä¹‹åä¼šè¢«é‡å®šå‘åˆ°å¯¹åº”çš„botï¼Œç„¶åé€‰æ‹©æµ‹è¯•è¿˜æ˜¯ç”Ÿäº§æ¨¡å¼ï¼Œåšä¸€ä¸‹oauthå°±å¯ä»¥æ‹¿åˆ°ä¸€ä¸ªtokenäº†</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2023/01/2023010721561074.jpeg"><img src="/images/2023010721561074.jpeg"></a></p>
<p>æµ‹è¯•ä»˜æ¬¾çš„æ—¶å€™å¯ä»¥ç”¨stripeçš„æµ‹è¯•æ¨¡å¼ï¼Œæœ‰å¾ˆå¤šå¡å·å¯ä»¥æ¨¡æ‹Ÿå„ç§æƒ…å†µï¼ŒæˆåŠŸå¤±è´¥éƒ½æœ‰ï¼Œæ¯”å¦‚4242 4242 4242 4242å°±æ˜¯å¯ä»¥ç”¨çš„æµ‹è¯•å¡ï¼Œå®Œæ•´åˆ—è¡¨[å¯ä»¥çœ‹è¿™é‡Œ](<a target="_blank" rel="noopener" href="https://stripe.com/docs/testing">https://stripe.com/docs/testing</a>â€œ \l â€œcards)ã€‚</p>
<p>ä¸€äº›Bot API wrapperï¼Œæ¯”å¦‚pytelegrambotapiå·²ç»æœ‰äº†å¾ˆ<a target="_blank" rel="noopener" href="https://github.com/eternnoir/pyTelegramBotAPI/blob/master/examples/payments_example.py">ç®€å•æ˜“æ‡‚çš„ä¾‹å­</a>ã€‚è¿™é‡Œæˆ‘ç”¨çš„pyrogramï¼ˆ1.xï¼‰æ¥åšä¾‹å­è¯´æ˜æ€ä¹ˆç”Ÿæˆã€éªŒè¯ä»˜æ¬¾ã€‚</p>
<h2 id="ç”Ÿæˆinvoice"><a href="#ç”Ÿæˆinvoice" class="headerlink" title="ç”Ÿæˆinvoice"></a>ç”Ÿæˆinvoice</h2><p>éœ€è¦ä½¿ç”¨<code>raw_types</code></p>
<p>from pyrogram.raw import types as raw_types<br>raw_types.invoice.Invoice(currency&#x3D;â€USDâ€, prices&#x3D;[raw_types.LabeledPrice(label&#x3D;â€priceâ€, amount&#x3D;amount)])</p>
<p>å…¶ä¸­pricesæ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªlistï¼Œæ„å‘³ç€è¿™é‡Œå¯ä»¥æœ‰å¤šé¡¹ï¼Œæ¯”å¦‚è¯´å•†å“ä»·æ ¼ï¼Œç¨è´¹ï¼ŒæŠ˜æ‰£ï¼Œç­‰ç­‰ã€‚amountåŒæ ·éµå¾ªä¸Šé¢çš„æœ€å°è´§å¸å•ä½åŸåˆ™ï¼Œè¦æ”¶11.3ç¾å…ƒï¼Œé‚£ä¹ˆå°±è¦å†™1130</p>
<p>è¿™é‡ŒInvoiceæ”¯æŒå¾ˆå¤šé¢å¤–å‚æ•°ï¼Œæ¯”å¦‚<code>email_requested</code>ï¼Œ<code>name_requested</code>ï¼Œ<code>suggested_tip_amounts</code>ç­‰ç­‰ï¼Œè‡ªè¡Œå‘æŒ¥å§</p>
<h2 id="ç”ŸæˆInputMediaInvoice"><a href="#ç”ŸæˆInputMediaInvoice" class="headerlink" title="ç”ŸæˆInputMediaInvoice"></a>ç”ŸæˆInputMediaInvoice</h2><p>raw_types.input_media_invoice.InputMediaInvoice(<br>    invoice&#x3D;(<br>        raw_types.invoice.Invoice(currency&#x3D;â€USDâ€, prices&#x3D;[raw_types.LabeledPrice(label&#x3D;â€priceâ€, amount&#x3D;amount)])),<br>    title&#x3D;title,<br>    description&#x3D;description,<br>    provider&#x3D;PROVIDER_TOKEN,<br>    provider_data&#x3D;raw_types.DataJSON(data&#x3D;â€{}â€),<br>    payload&#x3D;payload,<br>)</p>
<ul>
<li><code>PROVIDER_TOKEN</code>æ˜¯åœ¨Bot Fatherä¸­ç”³è¯·çš„é‚£ä¸ªtokenï¼Œä¸æ˜¯bot tokenã€‚</li>
<li><code>provider_data</code> æ˜¯æ”¶æ¬¾å•†éœ€è¦è¦æ±‚çš„ä¿¡æ¯ï¼Œæ¯”å¦‚<a target="_blank" rel="noopener" href="https://stripe.com/docs/india-accept-international-payments">å°åº¦Stripeå¼ºåˆ¶è¦æ±‚å§“ååœ°å€</a>ï¼Œé‚£ä¹ˆå°±åº”è¯¥å†™åœ¨è¿™é‡Œï¼Œå¦åˆ™Stripeä¼šæ‹’ä»˜ã€‚æˆ‘è¿™è¾¹æ²¡æœ‰è¦æ±‚ï¼Œæ‰€ä»¥ç›´æ¥ç©ºjsonå­—ç¬¦ä¸²å°±å¥½</li>
<li>Payloadæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ä¿¡æ¯ï¼Œå†…éƒ¨ä½¿ç”¨ï¼Œæ¯”å¦‚ç”¨äºåŒºåˆ†æ˜¯ä»€ä¹ˆçš„ä»˜æ¬¾</li>
</ul>
<p>å¦‚æœè¦inlineæ¨¡å¼ï¼Œé‚£ä¹ˆå°±è¦ç”¨<code>InputBotInlineMessageMediaInvoice</code></p>
<h2 id="é€‰æ‹©Forwarding-Behavior"><a href="#é€‰æ‹©Forwarding-Behavior" class="headerlink" title="é€‰æ‹©Forwarding Behavior"></a>é€‰æ‹©Forwarding Behavior</h2><p>å½“invoiceè¢«è½¬å‘äº†ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æœ‰ä»€ä¹ˆæ ·çš„è¡Œä¸ºï¼Œä¸€ç§æ˜¯ä¼šå¯ä»¥ç»§ç»­ä»˜æ¬¾ï¼Œå¦å¤–ä¸€ç§æ˜¯é€šè¿‡deep linkingè·³è½¬åˆ°æœºå™¨äººã€‚ç”±<code>InputMediaInvoice</code>çš„å‚æ•°<code>start_param</code>æ§åˆ¶çš„ã€‚ç›´æ¥å¿½ç•¥è¿™ä¸ªå‚æ•°ï¼Œæ„å‘³ç€è½¬å‘çš„æ¶ˆæ¯ä¹Ÿå¯ä»¥ä»˜æ¬¾ï¼Œå¹¶ä¸”ä»˜æ¬¾åæŒ‰é’®ä¸ä¼šå˜æˆreceipt</p>
<p><img src="/images/2023010721480686.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº, èŠå¤©æˆ–çŸ­ä¿¡ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="å‘é€invoice"><a href="#å‘é€invoice" class="headerlink" title="å‘é€invoice"></a>å‘é€invoice</h2><p>ç”¨<code>SendMedia</code>å°±å¯ä»¥äº†</p>
<p>peer &#x3D; raw_types.InputPeerUser(user_id&#x3D;chat_id, access_hash&#x3D;0)</p>
<p>app.send(<br>    functions.messages.SendMedia(<br>        peer&#x3D;peer,<br>        media&#x3D;inputinvoice,<br>        random_id&#x3D;app.rnd_id(),<br>        message&#x3D;â€pay for it!â€,<br>    )<br>)</p>
<h2 id="Pre-Checkout"><a href="#Pre-Checkout" class="headerlink" title="Pre-Checkout"></a>Pre-Checkout</h2><p>ç”¨æˆ·åœ¨ä»˜æ¬¾ä¹‹åï¼ŒTelegramè¿™è¾¹ä¼šç»™botå‘ä¸€ä¸ª<code>pre_checkout_query</code>çš„æ›´æ–°ï¼Œè¦æ±‚botåšä¸€ä¸ªprecheckoutçš„æ£€æŸ¥ï¼Œæ¯”å¦‚è¯´æ£€æŸ¥æ˜¯å¦è¿˜æœ‰è´§å•¦è¿™ç§ã€‚Botéœ€è¦åœ¨10ç§’ä¹‹å†…ç”¨<code>answerPreCheckoutQuery</code>åº”ç­”ï¼Œå¦åˆ™å°±ä¼šå‡ºé”™ã€‚</p>
<p>Pyrogramè¿™è¾¹æˆ‘æ²¡æ‰¾åˆ°åˆé€‚çš„äº‹ä»¶ç›‘å¬ï¼Œå¯èƒ½æ˜¯ç‰ˆæœ¬å¤ªè€äº†ï¼Œæ‰€ä»¥åªèƒ½è¿™æ ·äº†ï¼š</p>
<p>@app.on_raw_update()<br>def raw_update(client: â€œClientâ€, update, users, chats):<br>    if update.QUALNAME &#x3D;&#x3D; â€˜types.UpdateBotPrecheckoutQueryâ€™:<br>        client.send(<br>            functions.messages.SetBotPrecheckoutResults(<br>            query_id&#x3D;update.query_id,<br>            success&#x3D;True<br>            )<br>        )</p>
<ul>
<li>successè¡¨ç¤ºpre checkoutçŠ¶æ€ï¼Œå¦‚æœæ˜¯falseï¼Œéœ€è¦æä¾›ä¸€ä¸ªerror</li>
</ul>
<h2 id="checkout"><a href="#checkout" class="headerlink" title="checkout"></a>checkout</h2><p>Botç¡®è®¤ä¹‹åï¼ŒTelegramå°±ä¼šè¯·æ±‚Stripeå®Œæˆä»˜æ¬¾è¯·æ±‚ã€‚ä¹‹åtelegramä¼šå‘ä¸€ä¸ª<code>successful_payment</code>çš„service messageï¼Œbotçœ‹åˆ°ä¹‹åç¡®è®¤å°±å¯ä»¥äº†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡raw updateçš„ <code>types.MessageActionPaymentSentMe</code> æ¥ç¡®è®¤</p>
<p>æ‰“å¼€ä½ çš„Stripeï¼Œåˆ‡æ¢åˆ°æµ‹è¯•æ¨¡å¼ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æœ‰â€œè¿›è´¦â€å•¦ï¼Œç”šè‡³è¿˜å¯ä»¥æç°åˆ°é“¶è¡Œå¡ğŸ˜‚</p>
<p><img src="/images/2023010721480796.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="å€¼å¾—æ€è€ƒçš„é—®é¢˜"><a href="#å€¼å¾—æ€è€ƒçš„é—®é¢˜" class="headerlink" title="å€¼å¾—æ€è€ƒçš„é—®é¢˜"></a>å€¼å¾—æ€è€ƒçš„é—®é¢˜</h2><p>æ—¢ç„¶Stripeèƒ½æ”¯æŒæ”¯ä»˜å®å¾®ä¿¡ä»˜æ¬¾ï¼Œå¹¶ä¸”å¯ä»¥æç°åˆ°é“¶è¡Œå¡ï¼Œé‚£ä¹ˆç›¸æ¯”è¾ƒé“¶è¡Œæ±‡æ¬¾ï¼Œå“ªä¸ªæ›´åˆ’ç®—å‘¢ï¼Ÿ</p>
<p>å·²çŸ¥æ¡ä»¶å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‹›å•†é“¶è¡Œé€šä¿¡è´¹150å…ƒ&#x2F;ç¬”ï¼Œæ‰‹ç»­è´¹ä¸ºæ±‡æ¬¾é‡‘é¢çš„0.1%ï¼Œæœ€ä½100æœ€é«˜1000ï¼Œä¸è€ƒè™‘å¢ƒå¤–é“¶è¡Œçš„æ”¶è´¹</li>
<li>Stripeæ‰‹ç»­è´¹ 2.9%ï¼Œæ— æç°ã€è´§å¸è½¬æ¢è´¹</li>
<li>å‡ä¸è€ƒè™‘ä¸åŒå¹³å°é“¶è¡Œçš„æ±‡ç‡å·®å¼‚</li>
</ol>
<h2 id="æ¬¢è¿å¤§å®¶ç»™æˆ‘æ‰“é’±ï¼"><a href="#æ¬¢è¿å¤§å®¶ç»™æˆ‘æ‰“é’±ï¼" class="headerlink" title="æ¬¢è¿å¤§å®¶ç»™æˆ‘æ‰“é’±ï¼"></a>æ¬¢è¿å¤§å®¶ç»™æˆ‘æ‰“é’±ï¼</h2><p><a target="_blank" rel="noopener" href="https://dmesg.app/donate">å‚è€ƒè¿™é‡Œ</a>æˆ–è€…ç›´æ¥Stripeå§ï¼</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2023/01/2023010623451377.png"><img src="/images/2023010623451377-250x300.png"></a></p>
<p>Â </p>
<p>Â </p>
<p>Â </p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a target="_blank" rel="noopener" href="https://core.telegram.org/bots/payments#step-by-step-process">https://core.telegram.org/bots/payments#step-by-step-process</a></p>
<p><a target="_blank" rel="noopener" href="https://stripe.com/docs/payments/alipay/accept-a-payment?locale=zh-CN">https://stripe.com/docs/payments/alipay/accept-a-payment?locale=zh-CN</a></p>
<p><a target="_blank" rel="noopener" href="https://stripe.com/docs/payments/wechat-pay/accept-a-payment">https://stripe.com/docs/payments/wechat-pay/accept-a-payment</a></p>
<p><a target="_blank" rel="noopener" href="https://stripe.com/zh-cn-ca/pricing/local-payment-methods">https://stripe.com/zh-cn-ca/pricing/local-payment-methods</a></p>
<p><a target="_blank" rel="noopener" href="https://gist.github.com/BennyThink/d3a0de89d21ccb955636e0ffba0f9ea1">https://gist.github.com/BennyThink/d3a0de89d21ccb955636e0ffba0f9ea1</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/07/stripe-telegram/index/" data-id="clhp7rtke0096s2qrgma31es9" data-title="åˆæ¢Stripeä¸Telegram Bot Payments API" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-wg0000/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/20/wg0000/index/" class="article-date">
  <time class="dt-published" datetime="2022-09-20T00:00:00.000Z" itemprop="datePublished">2022-09-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/what/">what</a>â–º<a class="article-category-link" href="/categories/what/gfw/">gfw</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/20/wg0000/index/">ä¸ºä»€ä¹ˆæˆ‘çš„WireGuard é…ç½® AllowedIPs=0.0.0.0/0 ä¹‹åå®¢æˆ·ç«¯æ–­ç½‘äº†ï¼Ÿ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ä¸€ç›´ä»¥æ¥æˆ‘éƒ½æ˜¯ä½¿ç”¨WireGuardç»„å»º<a target="_blank" rel="noopener" href="https://nova.moe/deploy-wireguard-on-ubuntu-bionic/">å®‰å…¨å¤§å†…ç½‘çš„</a>ï¼Œå‡ ä¹æ²¡æœ‰æ‹¿å®ƒæ¥å½“ä½œä»£ç†å·¥å…·ä½¿ç”¨ã€‚</p>
<p>ä»Šå¤©çªç„¶è¦æµ‹è¯•ä¸€ä¸‹è…¾è®¯äº‘çš„IPï¼Œé‚£è¿˜ä¸ç®€å•å˜›ï¼Œç›´æ¥ <code>AllowedIPs=0.0.0.0/0</code>ï¼Œè®©æ‰€æœ‰æµé‡éƒ½èµ°WGå°±å¥½äº†ï¼åªæ˜¯ç®€å•çš„æµ‹ä¸€ä¸‹ï¼Œå¹¶ä¸æƒ³æ­ä¸ªshadowsocksæˆ–è€…OpenVPNä»€ä¹ˆçš„ã€‚ï¼ˆå°å¿ƒè¢«è­¦å‘Šå†™ä¿è¯ä¹¦å“¦ï¼‰</p>
<p>ç»“æœæˆ‘ä¸€æ³¢é…ç½®å®Œï¼Œå´æ–­ç½‘äº†</p>
<p><img src="/images/2022092019575915.png"></p>
<p>ä»¥ä¸ºæ˜¯DNSçš„é—®é¢˜ï¼Œé…ç½®ä¸Š DNS&#x3D;223.5.5.5ï¼Œè¿˜æ–­ç½‘ï¼Œå½“ç„¶peerçš„IPèƒ½pingé€šï¼Œè·¯ç”±å™¨è¿˜èƒ½é€šã€‚</p>
<p>æ€è€ƒäº†å¾ˆå¤šå¯èƒ½çš„å› ç´ ï¼ŒåŒ…æ‹¬è…¾è®¯äº‘çš„ç½‘ç»œæ˜¯fullcone NATï¼ŒmacOSçš„Darwinå†…æ ¸ï¼Œæœ¬åœ°çš„IPv6ç½‘ç»œï¼Œè…¾è®¯äº‘çš„wgé…ç½®ã€‚å°è¯•äº†æ¢vultråšpeerï¼Œå¼€ä¸€ä¸ªæ–°çš„è™šæ‹Ÿæœºï¼Œæ¢æ‰‹æœºï¼Œæ¢surfsharkçš„é…ç½®æ–‡ä»¶</p>
<p><code>net.ipv4.ip_forward</code> å’Œ<code>net.ipv4.conf.all.proxy_arp</code> ä¹Ÿéƒ½å¼€äº†ï¼Œpeerä¹Ÿæ²¡æœ‰é˜²ç«å¢™â€¦â€¦</p>
<p>æœ€åå‘ç°æ˜¯å› ä¸ºæ²¡æœ‰æ·»åŠ iptablesè§„åˆ™</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2022/09/2022092020071682.jpeg"><img src="/images/2022092020071682.jpeg"></a></p>
<p>åœ¨è…¾è®¯äº‘é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸¤è¡Œè§„åˆ™</p>
<p>PostUp &#x3D; iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o ens5 -j MASQUERADE;<br>PostDown &#x3D; iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o ens5 -j MASQUERADE;</p>
<p>å¦‚æœè¿˜è¦æ”¯æŒIPv6çš„è¯</p>
<p>PostUp &#x3D; iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o ens5 -j MASQUERADE; ip6tables -A FORWARD -i wg0 -j ACCEPT; ip6tables -t nat -A POSTROUTING -o en s -j MASQUERADE</p>
<p>PostDown &#x3D; iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o ens5 -j MASQUERADE; ip6tables -D FORWARD -i wg0 -j ACCEPT; ip6tables -t nat -D POSTROUTING -o ens5 -j MASQUERADE</p>
<p>é‡æ–°è½½å…¥ä¸€ä¸‹é…ç½®æ–‡ä»¶å°±å¥½äº†ã€‚macOSå’ŒiOSè¿™è¾¹çš„Interfaceå†åŠ ä¸Šä¸€ä¸ªDNSé…ç½®å°±å¥½äº†</p>
<h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><h3 id="è…¾è®¯äº‘"><a href="#è…¾è®¯äº‘" class="headerlink" title="è…¾è®¯äº‘"></a>è…¾è®¯äº‘</h3><p>[Interface]<br>Address &#x3D; 192.168.2.1&#x2F;24<br>SaveConfig &#x3D; false<br>ListenPort &#x3D; 443<br>PrivateKey &#x3D; </p>
<p>PostUp &#x3D; iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o ens5 -j MASQUERADE;<br>PostDown &#x3D; iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o ens5 -j MASQUERADE;</p>
<p>[Peer]<br>PublicKey &#x3D;<br>AllowedIPs &#x3D; 192.168.2.64&#x2F;32</p>
<h3 id="Peer"><a href="#Peer" class="headerlink" title="Peer"></a>Peer</h3><p>[Interface]<br>PrivateKey &#x3D;<br>Address &#x3D; 192.168.2.64&#x2F;32<br>DNS &#x3D; 223.5.5.5</p>
<p>[Peer]<br>PublicKey &#x3D; 4<br>AllowedIPs &#x3D; 0.0.0.0&#x2F;0, ::&#x2F;0<br>Endpoint &#x3D; xxxxxx.xxx:443<br>PersistentKeepalive &#x3D; 30</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a target="_blank" rel="noopener" href="https://y2k38.github.io/posts/how-to-setup-wireguard-vpn-server/">https://y2k38.github.io/posts/how-to-setup-wireguard-vpn-server/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/20/wg0000/index/" data-id="clhp7rtn600b3s2qr592ndvny" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„WireGuard é…ç½® AllowedIPs=0.0.0.0/0 ä¹‹åå®¢æˆ·ç«¯æ–­ç½‘äº†ï¼Ÿ" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-linux-lipo/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/13/linux-lipo/index/" class="article-date">
  <time class="dt-published" datetime="2022-09-13T00:00:00.000Z" itemprop="datePublished">2022-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/program/">program</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/13/linux-lipo/index/">åœ¨Linuxä¸‹ä½¿ç”¨lipoåˆ›å»º universal macOS binary</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>macOSçš„åº”ç”¨ç¨‹åºå¯ä»¥åŒæ—¶åŒ…å«å¤šç§æ¶æ„ï¼Œæœ€å¸¸è§çš„æ˜¯åŒ…å«arm64å’Œamd64è¿™ä¸¤ç§ã€‚æ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©æ‰§è¡Œæœ€åˆé€‚çš„æ¶æ„ï¼Œé¿å…ä½¿ç”¨rosetta 2.</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2022/09/2022091220433923.png"><img src="/images/2022091220433923.png"></a></p>
<h2 id="åˆ›å»ºuniversal-binary"><a href="#åˆ›å»ºuniversal-binary" class="headerlink" title="åˆ›å»ºuniversal binary"></a>åˆ›å»ºuniversal binary</h2><p>åœ¨macOSä¸­ï¼Œè‡ªå¸¦ä¸€ä¸ªå·¥å…· <code>lipo</code>ï¼Œå¯ä»¥ç”¨æ¥åˆå¹¶ã€æå–ã€æ˜¾ç¤ºè¿™ç§universal binaryçš„ä¿¡æ¯ã€‚</p>
<p>æ¯”å¦‚æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªuniversal binaryï¼Œå¯ä»¥è¿™æ ·åš</p>
<p># lipo -create -output universal amd64 arm64</p>
<h1 id="file-universal"><a href="#file-universal" class="headerlink" title="file universal"></a>file universal</h1><p>universal: Mach-O universal binary with 2 architectures: [x86_64:Mach-O 64-bit executable x86_64Mach-O 64-bit executable x86_64] [arm64]<br>universal (for architecture x86_64): Mach-O 64-bit executable x86_64<br>universal (for architecture arm64): Mach-O 64-bit executable arm64</p>
<p>å¯ä»¥æŠŠæŸä¸ªæ¶æ„çš„binaryæå–å‡ºæ¥ï¼Œ<code>-extract</code></p>
<p># lipo -extract x86_64 -output amd universal</p>
<h1 id="file-amd"><a href="#file-amd" class="headerlink" title="file amd"></a>file amd</h1><p>amd: Mach-O universal binary with 1 architecture: [x86_64:Mach-O 64-bit executable x86_64Mach-O 64-bit executable x86_64]<br>amd (for architecture x86_64): Mach-O 64-bit executable x86_64</p>
<p>ä¹Ÿå¯ä»¥ç”¨æ¥æ˜¾ç¤ºbinaryçš„ä¸€äº›ä¿¡æ¯</p>
<p>&gt; $ lipo -detailed_info universal<br>Fat header in: universal<br>fat_magic 0xcafebabe<br>nfat_arch 2<br>architecture x86_64<br>    cputype CPU_TYPE_X86_64<br>    cpusubtype CPU_SUBTYPE_X86_64_ALL<br>    capabilities 0x0<br>    offset 4096<br>    size 1181264<br>    align 2^12 (4096)<br>architecture arm64<br>    cputype CPU_TYPE_ARM64<br>    cpusubtype CPU_SUBTYPE_ARM64_ALL<br>    capabilities 0x0<br>    offset 1196032<br>    size 1190706<br>    align 2^14 (16384)</p>
<h2 id="Linuxä¸‹åˆ›å»ºuniversal-binaryæ›¿ä»£å“"><a href="#Linuxä¸‹åˆ›å»ºuniversal-binaryæ›¿ä»£å“" class="headerlink" title="Linuxä¸‹åˆ›å»ºuniversal binaryæ›¿ä»£å“"></a>Linuxä¸‹åˆ›å»ºuniversal binaryæ›¿ä»£å“</h2><p>å¯æƒœLinuxä¸Šç«Ÿç„¶æ²¡æœ‰å¯¹åº”çš„lipoã€‚å¯¹äºé‚£äº›ç”¨Goå†™çš„åº”ç”¨ç¨‹åºï¼Œå¤©ç”Ÿå°±æ”¯æŒäº¤å‰ç¼–è¯‘ï¼Œé‚£ä¸ºäº†åœ¨releaseå‘å¸ƒä¸€ä¸ªuniversal binaryï¼Œè¿˜å¾—è‡ªå·±åˆå¹¶ï¼Œæˆ–è€…GitHub Actionsè·‘ä¸€ä¸ªmacOSï¼Ÿä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œå°±æ˜¯å¤ªéº»çƒ¦å•¦ï¼</p>
<p>ä½†æ˜¯ä¸æ€•ï¼Œuniversal binaryçš„æŠ€æœ¯ç»†èŠ‚æ˜¯å…¬å¼€çš„ï¼Œå¹¶ä¸”Appleå¼€æºäº†lipoå¯¹åº”çš„ä»£ç ï¼Œå¯ä»¥çœ‹<a target="_blank" rel="noopener" href="https://github.com/apple-oss-distributions/cctools">cctools</a>. éå¸¸å¹¸è¿çš„æ˜¯è¿˜æœ‰ä¸€ä¸ªäººç»™portåˆ°äº†Linuxï¼Œ<a target="_blank" rel="noopener" href="https://github.com/tpoechtrager/cctools-port">https://github.com/tpoechtrager/cctools-port</a></p>
<p>é‚£ä¹ˆä¸ºäº†åœ¨Linuxä¸‹åˆ›å»ºè¿™æ ·çš„universal binaryï¼Œè¦ä¹ˆå°±å»è¯»æŠ€æœ¯ç»†èŠ‚ï¼Œå‚è€ƒå®˜æ–¹çš„Cè¯­è¨€å®è·µï¼Œè‡ªå·±ç”¨å…¶ä»–è¯­è¨€å†™ä¸€ä¸ªï¼›è¦ä¹ˆå°±ç›´æ¥ç”¨ç°æˆçš„cctools-portï¼Œç¼–è¯‘ä¸€ä¸ªlipoï¼Œç›´æ¥ç”¨å³å¯ã€‚</p>
<h2 id="Linux-lipo"><a href="#Linux-lipo" class="headerlink" title="Linux-lipo"></a>Linux-lipo</h2><p>æˆ‘æ¯”è¾ƒèœï¼Œå¤§æ¦‚è¯»ä¸æ‡‚é‚£äº›éš¾åº¦å¾ˆé«˜çš„æ–‡æ¡£ï¼Œè¿˜å¾—çœ‹åå…­è¿›åˆ¶ï¼Œå› æ­¤æˆ‘é€‰æ‹©ç›´æ¥ç”¨å®˜æ–¹çš„ä»£ç ã€‚</p>
<p>äºæ˜¯æˆ‘å°±åšäº†ä¸€ä¸ªdocker imageï¼Œåªè¦ä¼ é€’è¿‡æ¥å‚æ•°ï¼Œå°±å¯ä»¥åˆ›å»ºuniversal binary</p>
<p>æ¯”å¦‚æˆ‘å†™äº†è¿™æ ·çš„ç®€å•çš„Goä»£ç ï¼Œæ‰“å°å‡ºè¿è¡Œæ—¶çš„æ¶æ„</p>
<p>package main</p>
<p>import â€œruntimeâ€</p>
<p>func main() {<br>    &#x2F;&#x2F; print architecture info<br>    println(â€œArchitecture:â€, runtime.GOARCH)<br>}</p>
<p>ç„¶åç¼–è¯‘ä¸¤ä¸ªä¸åŒæ¶æ„çš„binary</p>
<p>GOOS&#x3D;darwin GOARCH&#x3D;amd64 go build -o amd64 .<br>GOOS&#x3D;darwin GOARCH&#x3D;arm64 go build -o arm64 .</p>
<blockquote>
<p>$ file amd64 arm64<br>amd64: Mach-O 64-bit executable x86_64<br>arm64: Mach-O 64-bit executable arm64</p>
</blockquote>
<p>ç„¶åå°±å¯ä»¥è¿™æ ·åˆ›å»ºå‡ºæ¥universal binary</p>
<p>docker run â€“rm -v $(pwd):&#x2F;app&#x2F; bennythink&#x2F;lipo-linux -create -output universal amd64 arm64</p>
<p>æˆ–è€…extractå•Šä»€ä¹ˆçš„éƒ½è¡Œçš„ã€‚åªè¦ä½ æƒ³ï¼Œç”šè‡³å¯ä»¥æŠŠè¿™ä¸ªdocker imageé‡Œçš„lipoæå–å‡ºæ¥ç”¨ï¼Œé—®é¢˜ä¸å¤§ã€‚</p>
<p>Â </p>
<h2 id="ä¹Ÿè®¸å¯ä»¥â€¦â€¦"><a href="#ä¹Ÿè®¸å¯ä»¥â€¦â€¦" class="headerlink" title="ä¹Ÿè®¸å¯ä»¥â€¦â€¦"></a>ä¹Ÿè®¸å¯ä»¥â€¦â€¦</h2><p>å¦‚æœä½ çš„Macçš„å­˜å‚¨ç©ºé—´ä¸¥é‡ä¸è¶³ï¼Œä¹Ÿè®¸å¯ä»¥è€ƒè™‘æŠŠé‚£äº›fat binaryç»™ç˜¦èº«ä¸€ä¸‹ã€‚æ¯•ç«Ÿä¸¤ä¸ªæ¶æ„ï¼Œä½“ç§¯ç¿»å€ã€‚frameworkä¹‹ç±»çš„ä¹Ÿå¯ä»¥ç˜¦èº«ï¼Œå°±çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°ã€‚æ¯”å¦‚è¯´wordçš„è¯â€¦â€¦å¯ä»¥è€ƒè™‘ç˜¦èº«ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ï¼Œ80Må˜40MğŸ¤£</p>
<p>Microsoft Word.app&#x2F;Contents&#x2F;MacOS&#x2F;Microsoft Word</p>
<p>æ•ˆæœè¿˜æ˜¯æœ‰çš„ï¼Œ70%å·¦å³å§ğŸ˜‚ <a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2022/09/2022091623192693.png"><img src="/images/2022091623192693.png"></a></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>A deep dive on macOS universal binaries</p>
<p><a target="_blank" rel="noopener" href="https://www.jviotti.com/2021/07/23/a-deep-dive-on-macos-universal-binaries.html">https://www.jviotti.com/2021/07/23/a-deep-dive-on-macos-universal-binaries.html</a></p>
<p>Building a Universal macOS Binary</p>
<p><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/apple-silicon/building-a-universal-macos-binary">https://developer.apple.com/documentation/apple-silicon/building-a-universal-macos-binary</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/13/linux-lipo/index/" data-id="clhp7rthe004os2qra61g0589" data-title="åœ¨Linuxä¸‹ä½¿ç”¨lipoåˆ›å»º universal macOS binary" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-m1-aom/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/08/26/m1-aom/index/" class="article-date">
  <time class="dt-published" datetime="2022-08-26T00:00:00.000Z" itemprop="datePublished">2022-08-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/program/">program</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/08/26/m1-aom/index/">åœ¨M1 Macä¸‹å¼€å‘WebP Server Go</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ€è¿‘æ¢äº†M1çš„Macï¼Œæˆä¸ºäº†ARMèŠ¯ç‰‡çš„å—å®³è€…ã€‚åœ¨å°è¯•ç”¨Goè¿è¡ŒWebP Server Goçš„æ—¶å€™å‡ºé”™äº†</p>
<p><img src="/images/2022082608305257.jpeg" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>çœ‹èµ·æ¥æ˜¯æ²¡æœ‰å®‰è£…aomï¼Œä½†æ˜¯<code>brew install</code>äº†ä¸€ä¸‹è¿˜æ˜¯æœ‰çš„å•Šã€‚å¦ä¸€è¾¹çš„Intel Macå°±æ²¡è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>â•°â”€$ ls &#x2F;opt&#x2F;homebrew&#x2F;opt&#x2F;aom&#x2F;include&#x2F;aom<br>aom.h aom_external_partition.h aomcx.h<br>aom_codec.h aom_frame_buffer.h aomdx.h<br>aom_decoder.h aom_image.h<br>aom_encoder.h aom_integer.h</p>
<p>å¤´æ–‡ä»¶æ˜æ˜æ˜¯æœ‰çš„ï¼</p>
<p>æƒ³äº†ä¸€ä¸‹ï¼Œ åŸå› å¯èƒ½æ˜¯å› ä¸ºM1çš„homebrewä¼šæŠŠç›¸å…³çš„ä¾èµ–å®‰è£…åˆ° <code>/opt/homebrew</code>ä¸‹ï¼Œè€Œä¸åƒIntelçš„ç‰ˆæœ¬ä¼šä¸¢åœ¨<code>/usr/local/</code>ä¸‹ï¼Œè€Œ<code>/usr/local/</code>å¤§æ¦‚ç‡æ˜¯gccé»˜è®¤çš„æœç´¢è·¯å¾„ã€‚æ‰€ä»¥gcc compileræ‰¾ä¸åˆ°å¯¹åº”çš„å¤´æ–‡ä»¶äº†ã€‚</p>
<p>åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„<code>test.c</code> éªŒè¯ä¸€ä¸‹</p>
<p>#include<br>#include<br>#include &lt;aom&#x2F;aom_encoder.h&gt;<br>int main() {<br>   &#x2F;&#x2F; printf() displays the string inside quotation<br>   printf(â€œHello, World!â€);<br>   return 0;<br>}</p>
<p>â•°â”€$ gcc test.c test.c:3:10: fatal error: â€˜aom&#x2F;aom_encoder.hâ€™ file not found #include &lt;aom&#x2F;aom_encoder.h&gt; ^~~~~~~~~~~~~~~~~~~ 1 error generated.</p>
<p>æœçœŸå¦‚æ­¤ï¼Œé‚£ä¹ˆå°±exportä¸€ä¸‹CFLAGSå§</p>
<p>â•°â”€$ export CFLAGS&#x3D;I&#x2F;opt&#x2F;homebrew&#x2F;opt&#x2F;aom&#x2F;include&#x2F; 1 â†µ<br>â•­â”€benny@MBP ~&#x2F;Downloads<br>â•°â”€$ gcc test.c<br>test.c:3:10: fatal error: â€˜aom&#x2F;aom_encoder.hâ€™ file not found<br>#include &lt;aom&#x2F;aom_encoder.h&gt;<br>^~~~~~~~~~~~~~~~~~~<br>1 error generated.</p>
<p>ä¾æ—§æŠ¥é”™ã€‚ä¸ºä»€ä¹ˆCFLAGSä¸ç”Ÿæ•ˆå‘¢ï¼Ÿ</p>
<p>è¯•è¯•æŠŠaomç¬¦å·è¿æ¥åˆ° <code>/usr/local/include</code>ï¼Ÿ è¿™ä¸ªç›®å½•åº”è¯¥æ˜¯é»˜è®¤æœç´¢çš„ã€‚</p>
<p>â¯ ln -s &#x2F;opt&#x2F;homebrew&#x2F;opt&#x2F;aom&#x2F;include&#x2F;aom &#x2F;usr&#x2F;local&#x2F;include<br>~&#x2F;Downloads<br>â¯ gcc test.c</p>
<p>æ²¡æœ‰æŠ¥é”™ï¼Œè¯æ˜æˆ‘çš„æ¨æ–­æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>çªç„¶æƒ³åˆ°ï¼ŒmacOSçš„è¿™ä¸ªgccï¼Œå…¶å®æ˜¯clangå•Šï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å’Œæ­£å¸¸çš„gccç”¨çš„ç¯å¢ƒå˜é‡ä¸åŒï¼Ÿæœäº†ä¸€ä¸‹è¿˜çœŸæ˜¯ï¼Œclangåº”è¯¥ç”¨<code>CPATH</code>ï¼Œ<code>C_INCLUDE_PATH</code> å’Œ<code>CPLUS_PATH</code>ä¹‹ç±»çš„ï¼Œå…·ä½“å¯ä»¥å‚è€ƒè¿™é‡Œ <a target="_blank" rel="noopener" href="https://clang.llvm.org/docs/CommandGuide/clang.html">https://clang.llvm.org/docs/CommandGuide/clang.html</a></p>
<p>æŠŠç¬¦å·è¿æ¥åˆ æ‰ï¼Œå†è¯•è¯•çœ‹ï¼</p>
<p>â””&gt; gcc test.c<br>test.c:3:10: fatal error: â€˜aom&#x2F;aom_encoder.hâ€™ file not found<br>#include &lt;aom&#x2F;aom_encoder.h&gt;<br>^~~~~~~~~~~~~~~~~~~<br>1 error generated.<br>â”Œ[kiwish-4.2]-(<del>&#x2F;Downloads)-<br>â””&gt; export CPATH&#x3D;&#x2F;opt&#x2F;homebrew&#x2F;opt&#x2F;aom&#x2F;include&#x2F;<br>â”Œ[kiwish-4.2]-(</del>&#x2F;Downloads)-<br>â””&gt; gcc test.c</p>
<p>æœçœŸå¦‚æ­¤ï¼äºæ˜¯GolandåŠ ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œå†æ¬¡ç¼–è¯‘</p>
<p>&#x2F;opt&#x2F;homebrew&#x2F;Cellar&#x2F;go&#x2F;1.19&#x2F;libexec&#x2F;pkg&#x2F;tool&#x2F;darwin_arm64&#x2F;link: running clang failed: exit status 1<br>ld: library not found for -laom<br>clang: error: linker command failed with exit code 1 (use -v to see invocation)</p>
<p>çœ‹èµ·æ¥æ˜¯LDFLAGSçš„é—®é¢˜ï¼ŒçŒœæµ‹clangè¿˜æ˜¯ç”¨çš„å¥‡å¥‡æ€ªæ€ªçš„ç¯å¢ƒå˜é‡ã€‚å…ˆlinkä¸€ä¸‹çœ‹çœ‹</p>
<p>ln -s &#x2F;opt&#x2F;homebrew&#x2F;opt&#x2F;aom&#x2F;lib&#x2F;* &#x2F;usr&#x2F;local&#x2F;lib&#x2F;</p>
<p>å†è¿è¡Œï¼ŒæœçœŸå¥½äº†ã€‚é‚£ä¹ˆå¦‚ä½•ç”¨ç¯å¢ƒå˜é‡è§£å†³é—®é¢˜å‘¢ï¼Ÿæˆ‘ä¸å¤ªå–œæ¬¢åœ¨ç³»ç»Ÿç›®å½•é‡Œlinkæ¥linkå»çš„ã€‚</p>
<p>æœäº†ä¸€åœˆï¼Œæ­£ç¡®çš„ç¯å¢ƒå˜é‡çš„åå­—å«<code>LIBRARY_PATH</code></p>
<p>LIBRARY_PATH&#x3D;&#x2F;opt&#x2F;homebrew&#x2F;opt&#x2F;aom&#x2F;lib&#x2F;</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ClangçœŸå‘</p>
<p>è®¾ç½®ä¸¤ä¸ªç¯å¢ƒå˜é‡å°±å¥½äº†</p>
<p>CPATH&#x3D;&#x2F;opt&#x2F;homebrew&#x2F;opt&#x2F;aom&#x2F;include&#x2F;;LIBRARY_PATH&#x3D;&#x2F;opt&#x2F;homebrew&#x2F;opt&#x2F;aom&#x2F;lib&#x2F;</p>
<p><img src="/images/2022082608305373.png" alt="æ–‡æœ¬ ä¸­åº¦å¯ä¿¡åº¦æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/08/26/m1-aom/index/" data-id="clhp7rthi004ss2qr85fk9fvn" data-title="åœ¨M1 Macä¸‹å¼€å‘WebP Server Go" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-go-selenium/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/23/go-selenium/index/" class="article-date">
  <time class="dt-published" datetime="2022-07-23T00:00:00.000Z" itemprop="datePublished">2022-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/program/">program</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/23/go-selenium/index/">Go ä½¿ç”¨seleniumæˆªå›¾</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ä»Šå¤©æƒ³ç»™<a target="_blank" rel="noopener" href="https://t.me/wayback_machine_bot">wayback machine bot</a>å¢åŠ ä¸€ä¸ªæˆªå›¾çš„åŠŸèƒ½ï¼Œéš¾åº¦ä¸å¤§ï¼Œç”¨seleniumæ‰“å¼€æµè§ˆå™¨ï¼Œæˆªå›¾ï¼Œå†å‘ç»™ç”¨æˆ·å°±å¯ä»¥äº†ã€‚</p>
<p>ç½‘ä¸Šéšä¾¿å°±å¯ä»¥æ‰¾åˆ°æ•™ç¨‹ï¼Œæ¯”å¦‚è¯´è¿™æ ·</p>
<p>package main</p>
<p>import (<br>    â€œfmtâ€<br>    log â€œgithub.com&#x2F;sirupsen&#x2F;logrusâ€<br>    â€œgithub.com&#x2F;tebeka&#x2F;seleniumâ€<br>    â€œio&#x2F;ioutilâ€<br>)</p>
<p>const (<br>    chromeDriverPath &#x3D; â€œ&#x2F;usr&#x2F;local&#x2F;bin&#x2F;chromedriverâ€<br>    port &#x3D; 9515<br>)</p>
<p>func main() {<br>    var opts []selenium.ServiceOption<br>    selenium.SetDebug(false)<br>    service, err :&#x3D; selenium.NewChromeDriverService(chromeDriverPath, port, optsâ€¦)<br>    if err !&#x3D; nil {<br>        panic(err) &#x2F;&#x2F; panic is used only as an example and is not otherwise recommended.<br>    }<br>    defer service.Stop()</p>
<pre><code>caps := selenium.Capabilities&#123;&quot;browserName&quot;: &quot;chrome&quot;&#125;
wd, err := selenium.NewRemote(caps, fmt.Sprintf(&quot;http://localhost:%d/wd/hub&quot;, port))
if err != nil &#123;
    panic(err)
&#125;

defer wd.Quit()
if err := wd.Get(&quot;https://github.com/tgbot-collection/archiver&quot;); err != nil &#123;
    panic(err)
&#125;

screenshot, err := wd.Screenshot()
if err != nil &#123;
    log.Errorln(err)

&#125;
ioutil.WriteFile(&quot;screenshot.png&quot;, screenshot, 0644)
</code></pre>
<p>}</p>
<p><img src="/images/2022072320584942.png"></p>
<p>ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œè¿™é‡Œçš„æˆªå±åªæœ‰å½“å‰çª—å£ï¼Œæ€ä¹ˆæŠŠæ•´ä¸ªé¡µé¢éƒ½æˆªå±äº†å‘¢ï¼Ÿ</p>
<h2 id="æ•´é¡µæˆªå±"><a href="#æ•´é¡µæˆªå±" class="headerlink" title="æ•´é¡µæˆªå±"></a>æ•´é¡µæˆªå±</h2><p>æ–¹æ³•è¿˜æ˜¯æœ‰çš„ï¼Œä¸€ä¸ªç®€å•çš„åŠæ³•å°±æ˜¯è·å–åˆ°ç½‘é¡µçš„å®½é«˜ï¼Œç„¶åæŠŠæµè§ˆå™¨çš„çª—å£è®¾ç½®æˆè¿™ä¹ˆå¤§ï¼Œç„¶åå†æˆªå›¾å°±å¥½äº†ï¼éœ€è¦æ³¨æ„çš„æ˜¯åªæœ‰headlessæ¨¡å¼å¯ä»¥ä»»æ„è®¾ç½®çª—å£å¤§å°ï¼Œå¦åˆ™æœ€å¤§é«˜åº¦ä¸èƒ½è¶…è¿‡ä½ çš„æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡</p>
<p>è®¾ç½®headlessåªéœ€è¦åŠ ä¸ªå‚æ•°å°±å¥½äº†ï¼Œå¦‚ä¸‹</p>
<p>caps :&#x3D; selenium.Capabilities{â€œbrowserNameâ€: â€œchromeâ€}<br>    chromeCaps :&#x3D; chrome.Capabilities{<br>        Path: â€œâ€,<br>        Args: []string{<br>            â€œâ€“headlessâ€,<br>        },<br>    }<br>    caps.AddChrome(chromeCaps)<br>    wd, err :&#x3D; selenium.NewRemote(caps, fmt.Sprintf(â€œ<a href="http://localhost:%d/wd/hub">http://localhost:%d/wd/hub</a>â€œ, port))</p>
<p>è·å–ç½‘è¯¾å®½é«˜å¾ˆå®¹æ˜“ï¼Œå·æ‡’çš„è¯åªè¦è·å–ç½‘é¡µçš„é«˜å°±å¯ä»¥äº†ï¼Œå®½æˆ‘ä»¬å¯ä»¥å›ºå®šæˆå›ºå®šçš„åƒç´ ï¼Œæ¯”å¦‚1920.</p>
<p>åœ¨chromeçš„æ§åˆ¶å°é‡Œï¼Œè¾“å…¥è¿™ä¹ˆä¸€ä¸²ç¥ç§˜ä»£ç å¯è·å¾—ç½‘é¡µçš„é«˜</p>
<p>document.body.parentNode.scrollHeight</p>
<p>åœ¨seleniumä¸­ä½¿ç”¨<code>ExecuteScript</code>å°±å¯ä»¥æ‰§è¡ŒJavaScriptä»£ç ï¼Œéœ€è¦æ³¨æ„è¿”å›å€¼æ˜¯interfaceï¼Œæ‰€ä»¥è¦ç±»å‹æ–­è¨€æˆfloatï¼Œç„¶åå†è½¬æˆint</p>
<p>height, _ :&#x3D; wd.ExecuteScript(â€œreturn document.body.parentNode.scrollHeightâ€, nil)<br>var realHeight &#x3D; int(height.(float64))</p>
<p>ç„¶åæˆ‘ä»¬éœ€è¦è®¾ç½®çª—å£å¤§å°</p>
<p>wd.ResizeWindow(â€œâ€, 1920, realHeight)</p>
<p>è¿è¡Œä¸€ä¸‹çœ‹çœ‹ï¼Œæœç„¶æ­£ç¡®ä¸”å®Œç¾</p>
<h2 id="åœ¨æœåŠ¡å™¨ä¸­è¿è¡Œ"><a href="#åœ¨æœåŠ¡å™¨ä¸­è¿è¡Œ" class="headerlink" title="åœ¨æœåŠ¡å™¨ä¸­è¿è¡Œ"></a>åœ¨æœåŠ¡å™¨ä¸­è¿è¡Œ</h2><p>å¿…ç„¶è¿™ä¸ªä¸œè¥¿æ˜¯è¦åœ¨æŸå°æœåŠ¡å™¨ä¸­è·‘èµ·æ¥çš„ï¼Œä¹Ÿæ²¡ä»€ä¹ˆä¸åŒçš„ï¼Œä¸‹è½½è‡ªå·±çš„webdriverï¼Œå®‰è£…æµè§ˆå™¨ï¼Œç…§æ ·headlesså¯åŠ¨å°±å¥½äº†ã€‚åº”è¯¥ä¸ä¼šé‡åˆ°å¤§é—®é¢˜</p>
<h2 id="åœ¨å®¹å™¨ä¸­è¿è¡Œ"><a href="#åœ¨å®¹å™¨ä¸­è¿è¡Œ" class="headerlink" title="åœ¨å®¹å™¨ä¸­è¿è¡Œ"></a>åœ¨å®¹å™¨ä¸­è¿è¡Œ</h2><p>ç†è®ºä¸Šæ¥è¯´ï¼Œåœ¨å®¹å™¨ä¸­è¿è¡Œå’Œåœ¨æŸä¸ªLinuxå‘è¡Œç‰ˆè¿è¡Œæ˜¯æ²¡ä»€ä¹ˆå¤ªå¤§å·®åˆ«çš„ã€‚æ— éå°±æ˜¯æ‰¾åˆ°å¯¹åº”çš„webdriverã€‚æ¯”å¦‚æˆ‘ç»å¸¸ç”¨çš„alpineæ°å·§æä¾›äº†chromeå’Œchrome-webdriverï¼Œå¹¶ä¸”æœ‰amd64å’Œarm64(aarch64)çš„é¢„ç¼–è¯‘åŒ…</p>
<p>ç›´æ¥è¿è¡Œ <code>apk add chromium-chromedriver</code> æµè§ˆå™¨å’Œwebdriverä¼šä¸€èµ·å®‰è£…å¥½</p>
<p>è¦æ³¨æ„ä¸€ä»¶äº‹æƒ…ï¼Œå¦‚æœä½ æ˜¯rootç”¨æˆ·è¿è¡Œçš„ï¼Œé‚£ä¹ˆè¦åŠ ä¸Š<code>--no-sandbox</code> å‚æ•°</p>
<p>ä¸€è¿è¡Œå´å‘ç°ç»“æœä¸å¦‚äººæ„ï¼Œæ€»æ˜¯å†™å…¥0å¤§å°çš„æ–‡ä»¶ï¼Œæˆ–è€…æŠ¥é”™</p>
<p><img src="/images/2022072320585057.png"></p>
<p>å¼ºè¡ŒåŠ ä¸€è¡Œsleepï¼Œä¼šæœ‰æ¯”è¾ƒå¤§çš„æ¦‚ç‡ä¼šé¿å…è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸æ˜¯ä¸ªåŠæ³•å˜›ã€‚</p>
<p>if err :&#x3D; wd.Get(â€œ<a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com</a>â€œ); err !&#x3D; nil {<br>    panic(err)<br>}<br>time.Sleep(10 * time.Second)</p>
<p>åæ¥æœäº†ä¸€ä¸‹ï¼Œæ˜¯Chromeå’Œ containerçš„å…¼å®¹æ€§é—®é¢˜ï¼ŒChromeéœ€è¦æ¯”è¾ƒå¤§çš„<code>/dev/shm</code>ï¼Œç„¶è€Œå®¹å™¨ä¸­çš„<code>/dev/shm</code>å¾€å¾€éƒ½æ¯”è¾ƒå°ï¼Œå¯¹äºChromeè¿™ç§å†…å¤§æˆ·æ¥è¯´ä¸å¤ªè¡Œã€‚</p>
<p><img src="/images/2022072320585144.png"></p>
<p>è§£å†³æ–¹æ³•è¦ä¹ˆå°±å¢å¤§å®¹å™¨é‡Œçš„<code>/dev/shm</code>ï¼Œå¯ä»¥é€šè¿‡runæ—¶é¢å¤–å‚æ•°<code>--shm-size=256m</code></p>
<p><img src="/images/2022072320585236.png"></p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥æŠŠå®¿ä¸»æœºçš„å…±äº«è¿›å»</p>
<p>docker run â€“rm -v &#x2F;dev&#x2F;shm:&#x2F;dev&#x2F;shm -it alpine sh</p>
<p>ä¹Ÿå¯ä»¥ç¦ç”¨Chromeçš„shmåŠŸèƒ½ï¼ŒåŠ ä¸€ä¸ªå‚æ•°</p>
<p>â€œâ€“disable-dev-shm-usageâ€,</p>
<p>è¿˜æœ‰ä¸€ç§åŠæ³•ï¼Œæ¢Firefoxä¹Ÿè®¸ä¹Ÿæœ‰æ•‘ã€‚</p>
<h2 id="ä¸­æ–‡ä¹±ç "><a href="#ä¸­æ–‡ä¹±ç " class="headerlink" title="ä¸­æ–‡ä¹±ç "></a>ä¸­æ–‡ä¹±ç </h2><p>alpineé‡Œæ²¡å¸¦ä¸­æ–‡å­—ä½“ï¼Œæ‰€ä»¥ä¸­æ–‡ä¼šä¹±ç ã€‚å¯ä»¥ç”¨alpineè‡ªå¸¦çš„ä¸€ä¸ªï¼Œè¿™æ ·å®‰è£…å°±å¥½ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å·å­—ä½“ï¼Œç„¶åæ”¾åˆ°<code>/usr/share/fonts/</code> å°±å¥½äº†</p>
<p>apk add wqy-zenhei â€“update-cache â€“repository <a target="_blank" rel="noopener" href="https://nl.alpinelinux.org/alpine/edge/testing">https://nl.alpinelinux.org/alpine/edge/testing</a></p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/53970825/10264400">https://stackoverflow.com/a/53970825/10264400</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/tgbot-collection/archiver/blob/master/screenshot.go">https://github.com/tgbot-collection/archiver/blob/master/screenshot.go</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/07/23/go-selenium/index/" data-id="clhp7rtge0038s2qr3i7g30pn" data-title="Go ä½¿ç”¨seleniumæˆªå›¾" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-change-git-user/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/13/change-git-user/index/" class="article-date">
  <time class="dt-published" datetime="2022-06-13T00:00:00.000Z" itemprop="datePublished">2022-06-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/what/">what</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/06/13/change-git-user/index/">å¦‚ä½•æ›´æ”¹git commit userï¼Ÿ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ä¹”æ²»Â·å¥¥å¨å°”æœ‰è¨€</p>
<blockquote>
<p>å†å²ä¸æ˜¯ä¸€é¢é•œå­ï¼Œè€Œæ˜¯é»‘æ¿ä¸Šçš„è®°å·ï¼Œå¯ä»¥éšæ—¶æ“¦å»ï¼Œéšæ—¶å¡«è¡¥ã€‚æ›´ä¸ºå¯æ€•çš„æ˜¯ï¼Œä¸€æ—¦æ¶‚æ”¹äº†ï¼Œä½ æ‰¾ä¸åˆ°è¯æ®å»è¯æ˜è¿™æ˜¯ç¯¡æ”¹å†å²çš„è¡Œä¸ºã€‚</p>
</blockquote>
<p>Gitä¼šè¿½è¸ªæ¯ä¸€æ¬¡commitçš„å†å²è®°å½•ï¼Œå¦‚æœä¹‹å‰ä¸å°å¿ƒé…ç½®é”™äº†ç”¨æˆ·åï¼Œé‚£ä¹ˆæœ‰åŠæ³•æ”¹æ‰å—ï¼Ÿ</p>
<p>å½“ç„¶äº†åŠæ³•æ˜¯æœ‰çš„ï¼Œæ”¹æ‰commit usernameå’Œemailæ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä¸å°±æ˜¯è¿™ä¹ˆå‡ è¡Œå˜›ï¼Ÿ</p>
<p>git rebase -i f25f719f7c2333d310696c3ed41e5a90ed078e55</p>
<p>å¼¹å‡ºçš„äº¤äº’å¼çª—å£ï¼ŒæŠŠè¦æ”¹çš„commitä»<code>pick</code>æ”¹æˆ<code>edit</code></p>
<p><img src="/images/2022061322415582.png"></p>
<p>ç„¶åä¸åœåœ°</p>
<p>git commit â€“amend â€“author&#x3D;â€Cool <a href="mailto:&#x63;&#111;&#x6f;&#108;&#x40;&#103;&#x6d;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;">&#x63;&#111;&#x6f;&#108;&#x40;&#103;&#x6d;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;</a>â€œ â€“no-edit &amp;&amp; git rebase â€“continue</p>
<p>å°±å¯ä»¥äº†</p>
<p><img src="/images/2022061322415653.png"></p>
<p>äº‹å®æœçœŸå¦‚æ­¤å—ï¼Ÿ<code>git push -fv</code>è¯•è¯•çœ‹ï¼Ÿ</p>
<p><img src="/images/2022061322415838.png"> <a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2022/06/2022061322453057.jpg"><img src="/images/2022061322453057.jpg"></a></p>
<hr>
<p>å¦ˆå‹’ä¸ªå·´å­ï¼Œæ—¶é—´ä¸å¯¹å•Šï¼Œæ˜æ˜æ˜¯Febçš„æ€ä¹ˆå°±å˜æˆäº†ç°åœ¨çš„æ—¶é—´äº†ã€‚è¿™ä¸å°±éœ²é¦…äº†å—ï¼</p>
<p>åƒè¾›ä¸‡è‹¦æ‰¾åˆ°ä¸€ä¸ªåå­—å«<a target="_blank" rel="noopener" href="https://github.com/newren/git-filter-repo">git-filter-repo</a>çš„ä¸œè¥¿ï¼Œè¯•äº†ä¸€ä¸‹æ˜¯å¯ä»¥çš„ã€‚</p>
<p>å…ˆå®‰è£…ï¼Œæ¯”å¦‚è¯´ <code>apt install git-filter-repo</code></p>
<p>ç„¶ååˆ›å»ºä¸€ä¸ª<code>mailmap</code>æ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹</p>
<p>New <a href="mailto:&#x6e;&#101;&#x77;&#64;&#x67;&#109;&#x61;&#105;&#108;&#46;&#x63;&#111;&#x6d;">&#x6e;&#101;&#x77;&#64;&#x67;&#109;&#x61;&#105;&#108;&#46;&#x63;&#111;&#x6d;</a> BennyThink <a href="mailto:&#x62;&#x65;&#110;&#110;&#121;&#46;&#116;&#104;&#x69;&#110;&#107;&#x40;&#103;&#x6d;&#x61;&#x69;&#108;&#x2e;&#x63;&#x6f;&#x6d;">&#x62;&#x65;&#110;&#110;&#121;&#46;&#116;&#104;&#x69;&#110;&#107;&#x40;&#103;&#x6d;&#x61;&#x69;&#108;&#x2e;&#x63;&#x6f;&#x6d;</a></p>
<p>å¦‚æœ‰éœ€è¦å¯ä»¥å†™å¤šè¡Œ</p>
<p>ç„¶å</p>
<p>git filter-repo â€“mailmap &#x2F;etc&#x2F;mailmap</p>
<p>ç„¶åå†pushï¼Œå¦‚æœé‡åˆ°ç¼ºå¤±remoteçš„é—®é¢˜ï¼Œé‡æ–°æ·»åŠ ä¸€ä¸‹</p>
<p>git remote add origin <a target="_blank" rel="noopener" href="https://github.com/tgbot-collection/history">https://github.com/tgbot-collection/history</a><br>git push â€“set-upstream origin master -fv</p>
<p>ä¼˜ç§€å§ï¼å…¨å˜æˆå¯¹åº”çš„åå­—å’Œé‚®ç®±äº†ï¼Œå¹¶ä¸”commitçš„æ—¶é—´ä¹Ÿæ²¡æœ‰æ”¹å˜ã€‚<code>git log</code>å’ŒGitHubæ˜¯ä¸€è‡´çš„ã€‚</p>
<p><img src="/images/2022061322420811.png"></p>
<p>å¦‚æœæƒ³è¦åªæ”¹å‡ ä¸ªcommitçš„é‚®ç®±ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚è¯´åªæƒ³æ”¹å‰ä¸¤ä¸ª</p>
<p>git filter-repo â€“refs master~2..master â€“mailmap &#x2F;etc&#x2F;mailmap</p>
<p><img src="/images/2022061322420927.png"></p>
<p>å¦‚æœæƒ³æ”¹æŸä¸ªä¸­é—´çš„ä¸€äº›commitçš„é‚®ç®±ä¸ºæŸä¸ªäººã€å¹¶ä¸”è¿˜ä¸æ”¹å˜GitHubä¸Šæ˜¾ç¤ºçš„æ—¶é—´å‘¢ï¼Ÿç”šè‡³ä¸æ•¢ç¡®å®šè¿™ç§æ˜¯å¦å¯è¡ŒğŸ˜‚</p>
<p>emmmè¿™ä¸ªæˆ‘è¿˜ä¸å¤ªçŸ¥é“ï¼Œå…¶å®ä¸å¤ªçŸ¥é“refsæ˜¯ä»€ä¹ˆæ„æ€ï¼Œå°è¯•äº†å¾ˆä¹…ä¹Ÿä¸è¡Œ</p>
<p>çœ‹åˆ°git-filter-repoé‡Œå†™ç€</p>
<p>git filter-repo â€¦ â€“refs C..H<br>git filter-repo â€¦ â€“refs C..H ^D<br>git filter-repo â€¦ â€“refs D..H ^C</p>
<p>Håº”è¯¥æŒ‡çš„æ˜¯HEADï¼Ÿ</p>
<p>æ€»ä¹‹ï¼Œæš‚æ—¶å¤Ÿç”¨äº†ğŸ˜‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/06/13/change-git-user/index/" data-id="clhp7rtek000qs2qrhtvr4bqs" data-title="å¦‚ä½•æ›´æ”¹git commit userï¼Ÿ" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-rssbot-down-again/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/27/rssbot-down-again/index/" class="article-date">
  <time class="dt-published" datetime="2022-05-27T00:00:00.000Z" itemprop="datePublished">2022-05-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/what/">what</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/27/rssbot-down-again/index/">ä¸ºä»€ä¹ˆæˆ‘çš„rssbotåˆä¸å¥½ç”¨äº†ï¼Ÿ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ä»Šæ™šæƒ³åœ¨rssbotä¸Šè®¢é˜…ä¸€ä¸ªåšå®¢ï¼Œå‘ç°å‘äº†æ¶ˆæ¯ç«Ÿç„¶æ²¡ååº”ã€‚å¿ƒæƒ³å¯èƒ½æ˜¯å®¹å™¨æŒ‚äº†ï¼Œä¸Šå»é‡å¯ä¸€ä¸‹ã€‚</p>
<p><img src="/images/2022052721363834.jpeg"></p>
<p>ç«Ÿç„¶è¿˜æ²¡å¥½ï¼Œè€Œä¸”å‘ç°logsé‡Œæœ‰è¿™ä¹ˆæ€ªçš„ä¸€è¡Œ</p>
<blockquote>
<p><strong>error:</strong> <strong>Error</strong>(â€œexpected `,` or `}`â€œ, line: 2, column: 2388),</p>
</blockquote>
<p>è¿™å•¥ï¼Ÿ</p>
<p><code>rssbot.json</code> åäº†ï¼Ÿç”¨<code>json.load</code> è¯•äº†ä¸€ä¸‹æ²¡é—®é¢˜</p>
<p>ç¨‹åºæœ‰é—®é¢˜ï¼Ÿè§¦å‘äº†ä¸€ä¸ªGitHub actionsï¼Œä»releaseé‡Œä¸‹è½½äº†binaryï¼Œä¹Ÿæ²¡é—®é¢˜</p>
<p>Rustçš„jsonè§£ææœ‰é—®é¢˜ï¼Ÿå¼„äº†ä¸€ä¸ªç©ºçš„jsonæ–‡ä»¶ï¼Œä¹Ÿè¿˜æ˜¯åŒæ ·æŠ¥é”™ã€‚</p>
<p>ç½‘ç»œé—®é¢˜ï¼Ÿæ˜æ˜æ˜¯ç›´æ¥åœ¨æ¢¯å­ä¸Šè¿è¡Œçš„ã€‚</p>
<p>å®¹å™¨é—®é¢˜ï¼Ÿç›´æ¥è·‘åœ¨alpineçš„å®¹å™¨é‡Œï¼Œhost OSä¸Šï¼Œä¹Ÿä¸è¡Œ</p>
<p><img src="/images/2022052721363814.jpeg" alt="æŒ å¤´è¡¨æƒ…åŒ…_æŠ–éŸ³ç†ŠçŒ«æŒ å¤´è¡¨æƒ…åŒ…å¥—å›¾ä¸‹è½½_æ¸¸æˆå§"></p>
<p>Botçš„tokenå¤±æ•ˆäº†ï¼Ÿrevokeé‡æ–°ç”Ÿæˆä¸€ä¸ªï¼Œè¿˜ä¸è¡Œã€‚</p>
<p>æ¢ä¸ªå…¶ä»–botçš„tokenï¼Œç«Ÿç„¶å¯ä»¥äº†ã€‚</p>
<p><img src="/images/2022052721363947.png"></p>
<p>éš¾é“æ˜¯æˆ‘çš„rssbot è¢«Durovæ‰¬äº†ï¼Ÿæ‹¿èµ·æ¥ bot HTTP apiè¯•è¯•çœ‹</p>
<p>import telebot<br>from telebot import apihelper<br>import logging</p>
<p>logging.basicConfig(level&#x3D;logging.INFO)<br>apihelper.proxy &#x3D; {â€˜httpsâ€™: â€˜socks5h:&#x2F;&#x2F;127.0.0.1:1080â€™}<br>TOKEN &#x3D; â€œ548k4qcâ€<br>bot &#x3D; telebot.TeleBot(TOKEN)<br>print(bot.get_me())</p>
<p>æ´»ç€å‘¢å•Šâ€¦â€¦</p>
<p>é‚£æ˜¯ä¸æ˜¯incoming messageè¢«æ‰¬äº†ï¼Ÿ</p>
<p>@bot.message_handler(commands&#x3D;[â€˜startâ€™, â€˜helpâ€™])<br>def send_welcome(message):<br>    bot.reply_to(message, â€œHowdy, how are you doing?â€)</p>
<p>if __name__ &#x3D;&#x3D; â€˜__main__â€˜:<br>    bot.polling()</p>
<p><img src="/images/2022052721364143.png"></p>
<p>ä¹Ÿå¥½ç”¨å•Šâ€¦â€¦</p>
<p>é‚£å†è·‘ä¸€æ¬¡ï¼Ÿç«Ÿç„¶å¥½äº†â€¦â€¦</p>
<h2 id="æ¨æµ‹åŸå› "><a href="#æ¨æµ‹åŸå› " class="headerlink" title="æ¨æµ‹åŸå› "></a>æ¨æµ‹åŸå› </h2><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆè«åå…¶å¦™çš„å°±å¥½äº†ï¼Œå‰å‰ååèŠ±äº†ä¸€ä¸ªå¤šå°æ—¶çš„æ—¶é—´ã€‚</p>
<p>æ¨æµ‹æ˜¯ï¼Œç”±äºè¿™ä¸ªç¨‹åºå†™çš„æœ‰äº›bugï¼Œå¯¼è‡´æ²¡èƒ½å¤„ç†ç”¨æˆ·å‘é€çš„æ¶ˆæ¯ï¼Œç„¶åtelegram Bot APIä¼šç¼“å­˜ä¸€å®šæ•°é‡çš„æ¶ˆæ¯ï¼Œå½“ç”¨æˆ·å¼€å§‹pollingæ—¶ä¼šå‘é€updatesã€‚ä½†æ˜¯ç”±äºæœ‰bugï¼Œå¯¼è‡´botæ— æ³•å¤„ç†updatesï¼Œæ‰€ä»¥æ‰€æœ‰åç»­çš„updateséƒ½è¢«blockä½äº†ã€‚</p>
<p>å½“æˆ‘ç”¨Pythonç‰ˆæœ¬å¼€å§‹pollingæ—¶ï¼Œupdateså°±è¢«å¤„ç†å®Œæˆäº†ï¼Œå¯¼è‡´rssbotå‡ºbugçš„é‚£ä¸ªupdateä¹Ÿè¢«æ¶ˆè€—æ‰äº†ã€‚</p>
<p>ğŸ¤¦â€â™‚ï¸ç®—äº†æˆ‘è¦åˆ‡æ¢åˆ°inoreaderäº†</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/27/rssbot-down-again/index/" data-id="clhp7rtip007vs2qr3d2lef60" data-title="ä¸ºä»€ä¹ˆæˆ‘çš„rssbotåˆä¸å¥½ç”¨äº†ï¼Ÿ" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-who-view-micam/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/30/who-view-micam/index/" class="article-date">
  <time class="dt-published" datetime="2022-04-30T00:00:00.000Z" itemprop="datePublished">2022-04-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/what/">what</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/30/who-view-micam/index/">è°çœ‹äº†æˆ‘çš„ç±³å®¶æ‘„åƒå¤´ï¼Ÿ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ä¸€å¹´å‰ï¼Œç”±äºä¸€ä¸ªæœ‰äº›å¯ç¬‘çš„åŸå› ï¼ˆåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆï¼ŒçœŸçš„ï¼‰ï¼Œæˆ‘ä¹°äº†ä¸ªç±³å®¶çš„æ‘„åƒå¤´ï¼Œç„¶ååˆ†äº«ç»™äº†æŸä¸ªäººã€‚é‚£ä¸ªæ—¶å€™æˆ‘åœ¨æƒ³ï¼Œæœ‰æ²¡æœ‰åŠæ³•éšæ—¶çŸ¥é“è°çœ‹äº†ç›‘æ§å‘¢ï¼Ÿç®¡ä»–æ˜¯æŸä¸ªäººè¿˜æ˜¯å…¶ä»–ä»€ä¹ˆå¥‡å¥‡æ€ªæ€ªçš„äººã€‚</p>
<p>ç±³å®¶æœ¬èº«å¹¶ä¸æä¾›è¿™ç§åŠŸèƒ½ï¼Œä¹Ÿä¸åƒå…¶ä»–å“ç‰Œä¸€æ ·åœ¨æ‘„åƒå¤´è¢«æŸ¥çœ‹çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡ç¤ºç¯æ˜¾ç¤ºã€‚</p>
<p>æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£ä½œä¸ºä¸€åæœ‰çµæ€§çš„å·¥ç¨‹å¸ˆï¼Œä¸€å®šèƒ½æ‰¾åˆ°åŠæ³•çš„ï¼</p>
<p>ç®€å•çš„è¯´ï¼Œè‡ªç„¶å°±è¦ä»ç½‘ç»œä¸Šä¸‹æ‰‹å•¦ï¼æ¯•ç«Ÿè¿™ä¸ªä¸œè¥¿æ˜¯éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“æ•°æ®çš„ï¼Œåœ¨å…¶ä»–äººæŸ¥çœ‹çš„æ—¶å€™ä¸€å®šä¼šå¤§é‡çš„ä¼ è¾“æ•°æ®ï¼Œå¹¶ä¸”æ ¹æ®å¸¸è¯†æ¨æ–­ï¼Œææœ‰å¯èƒ½æ˜¯UDPï¼Œå¹¶ä¸”æœ‰å¯èƒ½é€šè¿‡UDPæ‰“æ´çš„æ–¹å¼ç›´æ¥çœ‹åˆ°æŸ¥çœ‹è€…çš„IPåœ°å€ã€‚</p>
<p>è¯ä¸å¤šè¯´ï¼Œè¯´å¹²å°±å¹²ï¼Œè€å­å¹²ç½‘ç»œè¿™ä¹ˆå¤šå¹´ï¼Œè¿˜ä¸æ˜¯ permit any any é€šäº†å°±èµ°ï¼</p>
<h2 id="æŠ“åŒ…"><a href="#æŠ“åŒ…" class="headerlink" title="æŠ“åŒ…"></a>æŠ“åŒ…</h2><p>æ—¢ç„¶è¦æŠ“åŒ…ï¼Œé‚£è‡ªç„¶ä¹Ÿå°±åœ¨è·¯ç”±å™¨ä¸ŠåŠ¨æ‰‹è„šæœ€å¥½äº†ã€‚æ­¤æ—¶éœ€è¦ä¸€ä¸ªåˆ·äº†padavanã€OpenWRTã€Merlinä¹‹ç±»ç¬¬ä¸‰æ–¹å›ºä»¶çš„è·¯ç”±å™¨ï¼Œç„¶åå‡†å¤‡å¥½tcpdump</p>
<p>tcpdumpå¯ä»¥ä½¿ç”¨opkgä¹‹ç±»çš„å‘½ä»¤å®‰è£…ï¼Œå¦‚æœä½ çš„CPUæ°å·§æ˜¯armçš„ï¼Œå¯ä»¥<a target="_blank" rel="noopener" href="https://fw.koolcenter.com/binary/tcpdump/">ç”¨è¿™ä¸ª</a>é™æ€ç¼–è¯‘çš„ã€‚</p>
<p>å‡è®¾æ‘„åƒå¤´çš„IPæ˜¯192.168.7.149ï¼Œç„¶åè·¯ç”±å™¨çš„ç½‘æ¡¥æ˜¯br-lanï¼ˆæœ‰äº›å¯èƒ½æ˜¯br0ï¼‰</p>
<p>tcpdump -i br-lan udp and host 192.168.7.149</p>
<p>æ­¤æ—¶æ‰“å¼€æ‰‹æœºï¼Œæœ€å¥½ç”¨æµé‡æ¥æµ‹è¯•IPï¼ŒæŸ¥çœ‹æ‘„åƒå¤´ï¼Œå¤§æ¦‚ç‡ä¼šçœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹æ—¥å¿—ï¼š</p>
<p><img src="/images/2022043021474977.png"></p>
<p>å¦‚æœæ²¡æœ‰çš„è¯ï¼Œå»æ‰UDPè¯•è¯•çœ‹ã€‚å†æ²¡æœ‰å°±çœ‹çœ‹æ¥å£å’ŒIPå¯¹ä¸å¯¹ï¼Œæœ‰äº›æƒ…å†µä¸‹æŠ“å¯¹åº”çš„wlan01å¯èƒ½æ›´å¥½ã€‚</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æ­¤æ—¶å³ä¾§çš„é‚£ä¸ªç–¯ç‹‚åˆ·å±39.xxxxå°±æ˜¯æˆ‘çš„æ‰‹æœºæ•°æ®æµé‡çš„å‡ºå£IPï¼Œä¸­å›½ç§»åŠ¨çš„æŸä¸ªIPã€‚æœ‰äº›æ—¶å€™ä¼šçœ‹åˆ°ä¸€äº›é‡‘å±±äº‘çš„IPï¼Œå¯ä»¥ç›´æ¥å¿½ç•¥ã€‚</p>
<p>é‚£ä¹ˆæ¥ä¸‹æ¥é—®é¢˜æ¥äº†</p>
<ol>
<li>åªæœ‰åˆ·å±çš„IPæ‰ç®—æ˜¯å¯èƒ½çš„æŸ¥çœ‹è®°å½•ï¼Œæœ‰ä»€ä¹ˆåŠæ³•æªå‡ºæ¥å—ï¼Ÿ</li>
<li>å’±ä¹Ÿä¸èƒ½æ—¶æ—¶åˆ»åˆ»ç›¯ç€tcpdumpçš„è¾“å‡ºå•Šï¼</li>
</ol>
<h2 id="ä»¤ç‰Œæ¡¶ç®—æ³•"><a href="#ä»¤ç‰Œæ¡¶ç®—æ³•" class="headerlink" title="ä»¤ç‰Œæ¡¶ç®—æ³•"></a>ä»¤ç‰Œæ¡¶ç®—æ³•</h2><p>åªæœ‰åˆ·å±çš„IPæ‰å¯èƒ½æ˜¯æŸ¥çœ‹è®°å½•ï¼Œé‚£ä¹ˆå¦‚ä½•åˆ†æç»Ÿè®¡è¿™ä¸ªâ€œåˆ·å±é¢‘ç‡â€ï¼Ÿæœ€å¥½çš„åŠæ³•å°±æ˜¯ä»¤ç‰Œæ¡¶ç®—æ³•å•¦ï¼</p>
<p>æ‰€è°“ä»¤ç‰Œæ¡¶ï¼Œå°±æ˜¯è®¾è®¡ä¸€ä¸ªæ¡¶ï¼ŒæŸä¸ªç»„ä»¶æŒç»­åœ°å¾€é‡Œé¢ä¸¢ä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œç„¶åæ¯ä¸ªè¯·æ±‚è¿›æ¥çš„æ—¶å€™å»è¿™é‡Œæ‹¿ä»¤ç‰Œï¼Œæ‹¿åˆ°äº†å°±æ‰§è¡Œï¼Œæ‹¿ä¸åˆ°å°±åªèƒ½ç­‰ç€äº†ã€‚</p>
<p>ä»¤ç‰Œæ¡¶é€šå¸¸ç”¨äºé™æµï¼Œæˆ‘ä»¬çš„è¿™ä¸ªæ°å·§æ˜¯â€œåç€æ¥çš„é™æµâ€ï¼Œåæ­£åªè¦æ’äº†rate limitå°±æ˜¯æˆ‘ä»¬è¦çš„æ•°æ®ã€‚</p>
<p>è®°å¾—å…ˆå†™æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ä¸€ä¸‹ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿åœ¨è·¯ç”±å™¨ä¸Šè¿è¡Œï¼Œè¿™äº‹å¿…ç„¶æ˜¯è¦ç”¨Goæ¥å†™çš„ï¼Œæ¯•ç«Ÿäº¤å‰ç¼–è¯‘å˜›</p>
<p>package main</p>
<p>import (<br>    log â€œgithub.com&#x2F;sirupsen&#x2F;logrusâ€<br>    â€œgolang.org&#x2F;x&#x2F;time&#x2F;rateâ€<br>)</p>
<p>const (<br>    bucketSize &#x3D; 70<br>    bucketRate &#x3D; 35<br>)</p>
<p>var limiter &#x3D; rate.NewLimiter(bucketRate, bucketSize)</p>
<p>func main() {</p>
<pre><code>if limiter.Allow() &#123;
    log.Infoln(&quot;Using token...&quot;)
&#125; else &#123;
    log.Warnln(&quot;Potential view, sending alert now...&quot;)
&#125;
</code></pre>
<p>}</p>
<p>å¾ˆç®€å•ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ¡¶ï¼Œå¤§å°æ˜¯70ï¼Œæ¯ç§’é’Ÿäº§ç”Ÿ35ä¸ªä»¤ç‰Œï¼Œè¯´äººè¯ï¼šæ¯ç§’é’ŸæŠ“åˆ°35ä¸ªåŒ…ï¼Œåˆšå¥½å¯ä»¥æŠµæ¶ˆä»¤ç‰Œæ¡¶æ¶ˆè€—ï¼›æ¯ç§’æŠ“åˆ°40ä¸ªåŒ…ï¼Œå¤§æ¦‚8ç§’ä¼šæŠ¥è­¦ã€‚è‡³äºè¿™ä¸ª35å’Œ70æ˜¯æ€ä¹ˆè®¾è®¡çš„å˜›ï¼Œæ˜¯æˆ‘ä»å®è·µä¸ç»éªŒä¸­å‘ç°è¿™ä¸ªå€¼æœ€ç¨³å¦¥ã€æœ€ä¸å®¹æ˜“è¯¯æŠ¥ã€‚</p>
<h2 id="æ¶ˆæ¯é€šçŸ¥"><a href="#æ¶ˆæ¯é€šçŸ¥" class="headerlink" title="æ¶ˆæ¯é€šçŸ¥"></a>æ¶ˆæ¯é€šçŸ¥</h2><p>æ¶ˆæ¯é€šçŸ¥å°±å¾ˆç®€å•äº†ï¼Œå½“ <code>limiter.Allow()</code> ä¸æ»¡è¶³æ—¶ï¼Œç›´æ¥telegram botå°±è¡Œäº†ï¼Œè¿™æ ·æœ€æ–¹ä¾¿ã€‚</p>
<p>ä»£ç å¤ªè¿‡ç®€å•ï¼Œå°±ä¸è¯´äº†</p>
<h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><p>çœŸæŒºå‡†çš„ï¼ä¿—è¯è¯´çŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ˜ä¸æ®†åæ­£æˆ‘æ˜¯è®¤è¾“äº†ï¼Œæƒé™ä¹Ÿå·²ç»æ’¤é”€äº†ã€‚å› ä¸ºæˆ‘å‘ç°æˆ‘å°±æ˜¯â€œå……è¯è´¹é€çš„â€ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2022/04/2022043021541218.jpeg"><img src="/images/2022043021541218.jpeg"></a></p>
<p>ä¹ŸçœŸçš„æŒºä¸å¥½æ„æ€çš„æˆ‘è¿™ç©æ„è—ç€æ–ç€ï¼Œå¿«ä¸€å¹´äº†æ‰æ”¾å‡ºæ¥â€¦â€¦</p>
<p><img src="/images/2022043021481460.png"></p>
<h2 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><p><a target="_blank" rel="noopener" href="https://gist.github.com/BennyThink/c78cefa446fc492209710796ee342dec">https://gist.github.com/BennyThink/c78cefa446fc492209710796ee342dec</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/04/30/who-view-micam/index/" data-id="clhp7rtn600b5s2qr13ef50zq" data-title="è°çœ‹äº†æˆ‘çš„ç±³å®¶æ‘„åƒå¤´ï¼Ÿ" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-spring-shanghai/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/23/spring-shanghai/index/" class="article-date">
  <time class="dt-published" datetime="2022-04-23T00:00:00.000Z" itemprop="datePublished">2022-04-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/justsay/">justsay</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/23/spring-shanghai/index/">è¢«å·èµ°äº†æ˜¥å¤©çš„ä¸Šæµ·</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>3æœˆåˆï¼Œåœ¨ä¼ è¨€åäº­å®¾é¦†çš„äº‹ä»¶ä¹‹åï¼Œæœ‰æœ‹å‹åŠæˆ‘èµ¶ç´§è·‘ã€‚é“ç†æˆ‘æ˜¯æ‡‚çš„ï¼Œæ¢æˆå¾€å¸¸æˆ‘ä¹Ÿè‚¯å®šåƒé¦™æ¸¯è®°è€…ä¸€æ ·è·‘äº†ã€‚å¯æ˜¯åœ¨æœ‰ä¸¤åªçŒ«çš„æƒ…å†µä¸‹ï¼Œä¸çŸ¥é“è¯¥æ€ä¹ˆå¸¦èµ°ã€‚é€å»å¯„å…»å¤ªä¸é è°±äº†ï¼Œæ— å¥ˆåªèƒ½é€‰æ‹©ç•™ä¸‹ã€‚</p>
<p>è™½ç„¶äººèµ°ä¸äº†ï¼Œä½†æ˜¯æ€»è¿˜æ˜¯å¯ä»¥åšä¸€äº›å‡†å¤‡çš„ã€‚æœ¬ç€æˆ‘çš„â€œæ²¡æœ‰å¥½ä¸‹åœºâ€ç†è®ºï¼Œæˆ‘å»å¤©çŒ«è¶…å¸‚ä¹°äº†å¾ˆå¤šé€Ÿå†»æ°´é¥ºã€æ‰‹æŠ“é¥¼ã€æ°´æœé›¶é£Ÿã€å¥¶ç²‰ä»€ä¹ˆçš„ã€‚æ£€æŸ¥äº†ä¸‹çŒ«ç²®ï¼Œè¿˜æœ‰ä¸€è¢‹åŠï¼Œåº”è¯¥è¶³å¤ŸåšæŒä¸¤ä¸ªæœˆäº†ã€‚</p>
<p>3æœˆ2æ—¥æ˜ŸæœŸä¸‰ï¼Œèµ°äº†å°åŒºé—¨å»äº†ä¸€è¶Ÿå…¬å¸ã€‚è°æ›¾æƒ³è¿™ç«Ÿç„¶æ˜¯æˆ‘æœ€åä¸€æ¬¡è¸å‡ºå°åŒºé—¨å‘¢ã€‚</p>
<p>å› ä¸ºå®³æ€•çŒ«è¢«æ€æ­»ï¼Œä»é‚£å¤©èµ·æˆ‘å°±å†ä¹Ÿæ²¡æœ‰é•¿æ—¶é—´çš„å‡ºå»ï¼Œå³ä½¿ä¸‹æ¥¼ä¹Ÿéƒ½æ˜¯æ‰”ä¸ªåƒåœ¾ç„¶åèµ¶å¿«å›æ¥ã€‚</p>
<p>3æœˆä¸Šæ—¬ï¼Œæˆ‘çš„å•å…ƒæ¥¼å†…æœ‰å¯†æ¥ï¼Œäºæ˜¯å•å…ƒæ¥¼è¢«å°äº†èµ·æ¥ã€‚ä»æ­¤æˆ‘çš„é“çª—ç”Ÿæ´»æ­£å¼æ‹‰å¼€äº†å¸·å¹•ã€‚</p>
<p>3æœˆä¸‹æ—¬ï¼Œäº‹æƒ…ä½ ä»¬éƒ½çŸ¥é“äº†ã€‚æ²¿ç€é»„æµ¦æ±Ÿè¿›è¡Œåˆ†åŒºåŸŸå°åŸï¼Œå¥½åƒé¸³é¸¯é”…ä¸€æ ·ï¼Œç•™ç»™æµ¦ä¸œäººå‡†å¤‡ç‰©èµ„çš„æ—¶é—´åªæœ‰å‡ ä¸ªå°æ—¶ã€‚</p>
<p><img src="/images/2022042323554012.jpeg"></p>
<p>å¾€æ—¥ç¹åçš„é™†å®¶å˜´çªç„¶å˜å¾—ç©ºç©ºè¡è¡ã€‚</p>
<p>4æœˆ5æ—¥è§£å°çš„æ‰¿è¯ºè½äº†ç©ºï¼Œ20æ—¥å…¨é¢æ¸…é›¶çš„ç›®æ ‡ä¹Ÿæ²¡è§æˆæ•ˆã€‚æ¯å¤©è¢«æ— æ•°çš„è´Ÿé¢æƒ…ç»ªå†²å‡»ç€ï¼Œå·²ç»å¼€å§‹é€æ¸å˜å¾—éº»æœ¨ï¼Œè§æ€ªä¸æ€ªäº†ã€‚</p>
<p>ä¸€ä¸ªæœˆåœå·¥5å¤©ï¼Œå¹¶ä¸æ„å‘³ç€æŸå¤±5&#x2F;30çš„äº§èƒ½ï¼›ä¸€å¹´åœå·¥ä¸€ä¸ªæœˆï¼Œä¹Ÿå¹¶ä¸æ„å‘³ç€æŸå¤±1&#x2F;12çš„äº§èƒ½ã€‚è¿™ä¸æ˜¯ç®€å•çš„æ•°å­¦é¢˜ã€‚</p>
<p>æ—¶è‡³å¦‚ä»Šï¼Œæˆ‘ä¹Ÿçœ‹ä¸åˆ°æœ‰ä»€ä¹ˆå¯ä»¥ç¿˜é¦–ä»¥å¾…çš„æ—¥å­äº†ã€‚å¿ƒå¿ƒå¿µå¿µçš„äººç”Ÿç—…äº†ï¼Œç„¦è™‘ä¸‡åˆ†å´åˆæ— èƒ½ä¸ºåŠ›ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªæœ¬åº”è¯¥è¸é’æ˜¥æ¸¸çš„å­£èŠ‚ï¼Œæ˜¯ä¸‡ç‰©å¤è‹çš„å­£èŠ‚ï¼Œæ˜¯ä¸è¿œä¸‡é‡Œçš„å»è§å–œæ¬¢çš„äººçš„å­£èŠ‚ã€‚å¯æ˜¯ç°åœ¨å´åªèƒ½è¢«å°åœ¨å®¶é‡Œï¼Œçœ‹ä¸åˆ°è§£å°çš„å¯èƒ½ã€‚</p>
<p>å³ä½¿è§£å°äº†ï¼Œä¸Šæµ·äººä¹Ÿä¼šè¢«å…¶ä»–çœå¸‚å½“ä½œç˜Ÿç¥ä¸€æ ·å¯¹å¾…å§ï¼Ÿæ¨ä¸å¾—å°±åœ°æ­£æ³•ã€‚</p>
<p>å¦‚æœæ²¡æœ‰çŒ«ï¼Œæˆ‘æ˜¯ä¸æ˜¯æ—©å°±é€ƒè·‘äº†ï¼Ÿå¯æ˜¯å¦‚æœæ²¡æœ‰çŒ«ï¼Œä¸€ä¸ªäººçš„é“çª—ç”Ÿæ´»ä¹Ÿåº”è¯¥ä¼šå´©æºƒçš„å§ï¼Ÿ</p>
<p>å¦‚æœæ²¡é‡è§ä½ ï¼Œæˆ‘æ˜¯ä¸æ˜¯ä¸ä¼šè¿™æ ·å¿§å¿ƒï¼Ÿå¯æ˜¯å¦‚æœæ²¡æœ‰é‡è§ä½ ï¼Œæˆ‘åˆæ€æ ·ä¼šå¯¹æœªæ¥æœ‰äº†ä¸€ç‚¹ç‚¹çš„å¸Œæœ›ï¼Ÿ</p>
<hr>
<p>Lockdown for 89 days.</p>
<p>ä¸ƒå¹´å‰åœ¨åŠ å…¥äººäººå½±è§†çš„æ—¶å€™ï¼Œåœ¨æ–°äººç¾¤é‡Œè¢«ä¸€ä¸ªå§‘å¨˜ç§èŠäº†ã€‚ä¹Ÿè®¸å› ä¸ºå¥¹çš„åå­—æ˜¯Aï¼Œæˆ‘çš„åå­—æ˜¯Bï¼Œåœ¨å¥¹çš„ä¸‹é¢ç¬¬ä¸€ä¸ªäººå°±æ˜¯æˆ‘ï¼Œæ‰€ä»¥å°±æ‰¾åˆ°äº†æˆ‘ã€‚æ— è®ºåŸå› å¦‚ä½•ï¼Œæˆ‘çŒœè¿™åº”è¯¥æ˜¯destinyå§ï¼Œäººå’Œäººä¹‹é—´æœ‰æ—¶å€™å°±æ˜¯è¿™æ ·ç¥å¥‡ã€‚</p>
<p>Â </p>
<p>å¥¹çš„å£°éŸ³éå¸¸å¥½å¬ï¼Œæ¸©æŸ”ä¸”ç»†è…»ï¼Œåƒå°å­©å­ä¸€æ ·è½»æŸ”ï¼Œä½†æ˜¯åˆä¸å¤±æˆå¹´äººçš„ç¨³é‡ã€‚å¥¹çš„å£°éŸ³æœ‰ä¸€ç§èƒ½å¤Ÿè®©äººå¬ä¸€æ¬¡å°±å–œæ¬¢ä¸Šçš„é­”åŠ›ã€‚</p>
<p>å¦‚æœè¯´å­—å¦‚å…¶äººå¾ˆå¤¸å¼ çš„è¯ï¼Œé‚£ä¹ˆå£°å¦‚å…¶äººè‡³å°‘ä¼šæ°å½“ä¸€äº›çš„å§ã€‚</p>
<p>Â </p>
<p>åœ¨åˆšåˆšè®¤è¯†çš„é‚£ä¸€å¹´ï¼Œå¥¹é€äº†æˆ‘å¥½å¤šè‹±æ–‡ä¹¦ï¼Œåœ¨æŸæœ¬ä¹¦çš„æ‰‰é¡µä¸Šå¥¹å†™ä¸‹äº†è¿™æ ·çš„ä¸€å¥è¯ï¼š</p>
<p>Hope is a waking dream.</p>
<p>å¸Œæœ›æ˜¯é†’æ¥çš„æ¢¦ã€‚</p>
<p>è¿™å¥è¯æ˜¯é‚£ä¸ªæ—¶å€™ä¸€ä¸ªåå­—å«åšâ€œç¬¬ååŒºâ€çš„æ¸¸æˆé‡Œé¢çš„ï¼Œé‚£ä¸ªæ¸¸æˆæ€ä¹ˆç©å·²ç»ä¸è®°å¾—äº†ï¼Œä½†æ˜¯è®°å¾—å¾ˆæ¸…æ¥šå¥¹è¯´å¥¹å¾ˆå–œæ¬¢æ¸¸æˆçš„é…ä¹ã€‚</p>
<p>Â </p>
<p>ä¹Ÿè®¸æ˜¯6å¹´å‰çš„æ˜¥å¤©å§ï¼Œé‚£ä¸€å¹´æˆ‘åœ¨å­¦æ ¡æ•™å­¦æ¥¼ä¸‹é€æ°”ï¼Œçœ‹äº†ä¸‹æ—¥æœŸæ°å·§æ˜¯å¥¹çš„ç”Ÿæ—¥ï¼Œäºæ˜¯ä¾¿å’Œå¥¹è¯´äº†ç”Ÿæ—¥å¿«ä¹ã€‚</p>
<p>æ—¶å…‰é£å¿«ï¼Œæ¥ä¸‹æ¥çš„å‡ å¹´å‡ ä¹æ²¡æœ‰ä»€ä¹ˆè”ç³»ã€‚</p>
<p>Â </p>
<p>åœ¨æ€ç§‘å·¥ä½œçš„æ—¶å€™ï¼Œé‚£ä¸€å¤©çªç„¶æ¥åˆ°äº†å¥¹çš„åæ§½ã€‚å¾ˆçŸ­æš‚çš„ä¸€æ¬¡äº¤æµã€‚è™½ç„¶å¾ˆä¹…æ²¡æœ‰è”ç³»ï¼Œä½†æ˜¯ä¹Ÿè®¸å…³ç³»ä¸ä¼šå˜çš„å§ã€‚ä¹Ÿè®¸åœ¨å¥¹çš„å¿ƒä¸­ï¼Œå¥¹è¿˜æ˜¯è›®ä¿¡ä»»æˆ‘çš„å§ï¼Œæ‰€ä»¥æ‰ä¼šå’Œæˆ‘è¯´å‡ºè¿™æ ·æ¯”è¾ƒç§å¯†çš„è¯é¢˜ã€‚</p>
<p>Â </p>
<p>ä¸¤å¹´å‰ï¼Œåœ¨æˆ‘åŠ¨èº«æ¥ä¸Šæµ·ä¹‹å‰ï¼Œåœ¨é‚£å®¶æ—¥ä¼çš„èŒ¶æ°´é—´ï¼Œæˆ‘å†æ¬¡å¬åˆ°äº†å¥¹çš„å£°éŸ³ã€‚å¥¹æƒ³è·Ÿæˆ‘å€Ÿç‚¹é’±ã€‚æˆ‘çŠ¹è±«äº†ä¸€ä¸‹ï¼Œæˆ‘çŸ¥é“è¿™å…¶ä¸­çš„é£é™©ï¼Œæˆ‘è¿è¿™ä¸ªäººéƒ½æ²¡æœ‰è§è¿‡ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šäººè´¢ä¸¤ç©ºï¼Œå“¦ä¸å¯¹ï¼Œåªæœ‰è´¢ç©ºã€‚è§è¿‡å¾ˆå¤šå…¶ä»–äººçš„ä¾‹å­ï¼Œå‡ å¹´ä¸è¯´è¯ï¼Œä¸Šæ¥å°±å€Ÿé’±ï¼Œå€Ÿå®Œäººå°±å¤±è¸ªï¼Œæ¬ é’±çš„éƒ½æ˜¯å¤§çˆ·ã€‚</p>
<p>è½¬å¿µæˆ‘åˆåœ¨æƒ³ï¼Œå¥¹åº”è¯¥ä¸ä¼šæ˜¯è¿™æ ·çš„äººå§ï¼å¥¹çš„å£°éŸ³é‚£ä¹ˆæ¸©æŸ”ï¼Œå¯¹æˆ‘åˆå¾ˆä½“è´´ï¼Œæ˜¯å—è¿‡é«˜ç­‰æ•™è‚²çš„äººï¼Œåº”è¯¥ä¸ä¼šçš„å§ã€‚ç®€å•çš„éªŒè¯äº†èº«ä»½ä¹‹åï¼Œæˆ‘æ‰“æ¶ˆäº†é¡¾è™‘ï¼Œæˆ‘ä¾¿æŠŠé’±è½¬ç»™äº†å¥¹ã€‚</p>
<p>å½“ç„¶äº†ï¼Œå¥¹æ€ä¹ˆä¼šéª—æˆ‘å‘¢ã€‚äº‹å®è¯æ˜ï¼Œæˆ‘çš„é€‰æ‹©æœç„¶æ²¡æœ‰é”™ã€‚Trust is earned.</p>
<p>Â </p>
<p>ä¸€å¹´å‰çš„å¤å¤©ï¼Œå¥¹å’Œæˆ‘è¯´å¥¹è¦æ¥ä¸Šæµ·ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼Œè¯´å¥½äº†ç­‰å¥¹åˆ°äº†è¯·å¥¹åƒæˆ‘æœ€å–œæ¬¢çš„çƒ¤è‚‰å’Œçƒ¤é±¼ã€‚</p>
<p>è¯´æ¥ä¹Ÿå·§ï¼Œé‚£æ®µæ—¶é—´å› ä¸ºå‰å¥³å‹ï¼Œæ°å·§æ˜¯æœ€éƒé—·çš„æ—¶å€™ï¼Œéƒé—·åˆ°ç”šè‡³æƒ³åˆ°äº†æ­»ã€‚</p>
<p>äºæ˜¯æˆ‘ä¾¿ç»™è‡ªå·±æ‰¾ä¸ªæ–°çš„æ•£æ­¥çš„ç†ç”±ã€‚åœ¨æµ¦ä¸œæ–°åŒºï¼Œåœ¨å¤æ—¥é‡Œï¼Œéª‘ç€èƒ½æŠŠå±è‚¡æ…ä¸ªæ´çš„å…±äº«å•è½¦ï¼Œæˆ‘å»å®åœ°è€ƒå¯Ÿäº†å‡ ä¹æ‰€æœ‰å¥¹æƒ³å»çš„åœ°æ–¹ã€‚æ›´å·§çš„æ˜¯ï¼Œæ¯æ¬¡æ€»æ˜¯åœ¨åˆ°å®¶ä¹‹åå°±å¼€å§‹ç“¢æ³¼å¤§é›¨ã€‚æ˜¯ä¸æ˜¯å¥¹åœ¨å—æ–¹å¿µç€å’’è¯­å®ˆæŠ¤ç€æˆ‘å‘¢ã€‚</p>
<p>é‚£å‡ ä¸ªæœˆï¼Œå¥¹çš„è¿™ä¸ªè®¡åˆ’åº”è¯¥æ˜¯æˆ‘å¬åˆ°çš„æœ€å¥½çš„æ¶ˆæ¯äº†ã€‚</p>
<p>Â </p>
<p>å¯æ˜¯ï¼Œä¹‹åæœ‰å…³å¥¹çš„æ¶ˆæ¯ï¼Œæˆ‘å°±å…¨ç„¶ä¸çŸ¥é“äº†ã€‚</p>
<p>å®Œå…¨è”ç³»ä¸åˆ°ï¼Œå‘æ¶ˆæ¯ä¹Ÿä¸å›ï¼Œå°±ä»¿ä½›äººé—´è’¸å‘äº†ä¸€æ ·ï¼Œæœ‰äº›æ‹…å¿ƒå¥¹æ˜¯ä¸æ˜¯å‡ºäº‹äº†ã€‚æˆ‘ä»¬çš„å…³ç³»è¿˜æ²¡æœ‰å¥½åˆ°å¯ä»¥ç›´æ¥æ‰“ç”µè¯çš„åœ°æ­¥å§ï¼Ÿè€Œä¸”å¥¹è¯´å¥¹æ¥åˆ°ç”µè¯ä¼šPTSDï¼Œé‚£å°±æ›´ä¸è¦æ‰“äº†ã€‚</p>
<p>ä¸çŸ¥é“ä½•æ—¶ï¼Œæœ‰ä¸€æ¬¡å¶ç„¶åœ¨ç½‘æ˜“äº‘éŸ³ä¹ä¸Šçœ‹åˆ°å¥¹åˆ†äº«äº†å‡ é¦–æ­Œï¼Œå†…å¿ƒä¹Ÿé‡Šç„¶äº†ï¼Œäººè¿˜åœ¨ï¼Œé—®é¢˜åº”è¯¥ä¸å¤§ï¼Œä¹Ÿè®¸æ˜¯æœ‰ä»€ä¹ˆéš¾è¨€ä¹‹éšå§ã€‚</p>
<p>Â </p>
<p>æŒ‰ç…§åŸè®¡åˆ’ï¼Œä»Šå¹´çš„åŠ³åŠ¨èŠ‚æœŸé—´ï¼Œæ˜¯æ‰“ç®—å»å¹¿ä¸œç©ä¸€ç©çš„ã€‚è§ä¸¤ä½ä»æœªè§è¿‡é¢çš„æœ‹å‹ï¼ŒåŒ…æ‹¬è¿™ä½Aï¼Œè¿˜æœ‰ä¸€ä¸ªå¸®æˆ‘ä»æ¾³é—¨å¸¦å›æ¥Xboxçš„é«˜ä¸­åŒå­¦ã€‚</p>
<p>Â </p>
<p>æ„æ–™ä¹‹å¤–ã€ä½†ä¹Ÿæ˜¯æ„æ–™ä¹‹å†…çš„å°åŸäº†ã€‚å…ˆæ˜¯æ·±åœ³ï¼Œäºæ˜¯æˆ‘ä¸»åŠ¨è”ç³»å¥¹ã€‚</p>
<p>æ­¤æ—¶ï¼Œæ‰çŸ¥é“å¥¹å·²ç»è·‘åˆ°äº†æ±Ÿæµ™ä¸€å¸¦ï¼Œå·²ç»ä¸åœ¨æ·±åœ³äº†ï¼Œæ‰çŸ¥é“å¥¹çš„å¾®ä¿¡å·æ›¾ç»è¢«å°ï¼Œåˆä¸çŸ¥é“æˆ‘çš„å…¶ä»–è”ç³»æ–¹å¼ã€‚æ‰€ä»¥æ‰è¿™æ ·gone dark</p>
<p>å°±è¿™æ ·é‡æ–°å»ºç«‹äº†è”ç³»ã€‚</p>
<p>Â </p>
<p>ã€Œæˆ‘ä»¬ä»¥åå‡ºå»å·¥ä½œå‡ºå»ç”Ÿæ´»æ€ä¹ˆæ ·ã€ï¼Œæˆ‘ä¾¿è¢«è¿™æ ·çš„ä¸€å¥è¯å½»åº•æ‰“åŠ¨äº†ã€‚å‘ç°äº†æˆ‘ä»¬æ˜¯ä¸€æ ·çš„äººã€‚ç›´åˆ°ä»Šå¤©ï¼Œç›´åˆ°æ­¤æ—¶æ­¤åˆ»ã€‚</p>
<p>Â </p>
<p>ã€Šå½±å“åŠ›ã€‹ä¸­è¯´åˆ°ï¼Œæˆ‘ä»¬å–œæ¬¢é‚£äº›ä¸æˆ‘ä»¬ç›¸ä¼¼çš„äººã€‚ä¸ç®¡ä»–ä»¬æ˜¯åœ¨è§‚ç‚¹ä¸Šã€ä¸ªæ€§ä¸Šã€èƒŒæ™¯ä¸Šï¼Œè¿˜æ˜¯ç”Ÿæ´»æ–¹å¼ä¸Šä¸æˆ‘ä»¬ç›¸ä¼¼ï¼Œéƒ½ä¼šä½¿æˆ‘ä»¬å¯¹ä»–ä»¬äº§ç”Ÿå¥½æ„Ÿã€‚ä¹Ÿè®¸æ­£æ˜¯å› ä¸ºè¿™ä¸ªç›¸ä¼¼æ€§çš„å¿ƒç†å¼±ç‚¹ï¼Œæˆ‘æ— å¯æ•‘è¯åœ°è¢«å¥¹å¸å¼•ç€ã€‚</p>
<p>Â </p>
<p>ä½ çš„ä¸€è¨€ä¸€è¯­ï¼Œä½ çš„æ¯ä¸€æœµå°èŠ±èŠ±ï¼Œæ¯ä¸€é¢—å°å¿ƒå¿ƒï¼Œæ¯ä¸€å¥å…³æ€€å’Œé—®å€™ï¼Œéƒ½åƒç£æ€§è¶Šæ¥è¶Šå¼ºçš„ç£é“ï¼Œè¶Šæ¥è¶Šå¿«ã€è¶Šæ¥è¶Šå¼ºåœ°å¸å¼•ç€æˆ‘ã€‚æˆ‘ä¸çŸ¥é“ç»ˆç‚¹æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä¸çŸ¥é“æœ€ç»ˆçš„ç¢°æ’ä¼šæ€æ ·ï¼Œæˆ‘åªçŸ¥é“è¿™ä¸€åˆ‡ä»¿ä½›å°±æ˜¯ç‰©ç†å®šå¾‹ï¼Œæ— æ³•æŠµæŠ—ã€‚</p>
<p>å¯æ˜¯ï¼Œæˆ‘å¿ƒé‡Œå¾ˆæ¸…æ¥šï¼Œè¿™æ˜¯æˆ‘ä¸åº”è¯¥åšçš„äº‹æƒ…ï¼Œæˆ‘ä¸å¯ä»¥å–œæ¬¢ä¸Šä¸åº”è¯¥å–œæ¬¢çš„äººã€‚æˆ‘å·²ç»åœ¨æ‹¼å‘½å…‹åˆ¶äº†å•Šã€‚</p>
<p><img src="/images/202204232355407.jpeg"></p>
<p>You came and saved me through the night. So I promise you</p>
<p>Iâ€™ll be by your side</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/04/23/spring-shanghai/index/" data-id="clhp7rtk7008ws2qrclr106kp" data-title="è¢«å·èµ°äº†æ˜¥å¤©çš„ä¸Šæµ·" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-telegram-cjk-search/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/05/telegram-cjk-search/index/" class="article-date">
  <time class="dt-published" datetime="2022-04-05T00:00:00.000Z" itemprop="datePublished">2022-04-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/program/">program</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/05/telegram-cjk-search/index/">è®©Telegramæ”¯æŒä¸­æ–‡æœç´¢ï¼</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒTelegramæ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„å³æ—¶é€šä¿¡å·¥å…·ï¼Œå¯æ¯”é‚£ä¸ªä¸çŸ¥åçš„ç»¿è‰²å›¾æ ‡çš„è½¯ä»¶å¥½å¤šäº†ã€‚Telegramä¸ä»…ä½¿ç”¨æ›´å®‰å…¨ï¼Œåº”ç”¨ç¨‹åºä¹Ÿå¾ˆå°ï¼Œè¿˜æ”¯æŒå¤šå®¢æˆ·ç«¯ç™»å½•ï¼Œæ¶ˆæ¯è·¨å¹³å°æ— é™åˆ¶åŒæ­¥ã€‚</p>
<p><img src="/images/2022040513585338.jpeg"></p>
<p>å°½ç®¡Telegramè¿™ä¹ˆæ£’ï¼Œä½†æ˜¯å¯¹äºä¸­å›½ç”¨æˆ·æ¥è¯´ï¼Œæœ€è‡´å‘½çš„ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯æœç´¢ã€‚è¿™ä¸€ç‚¹å¯¹ä¸æ˜¯ç”¨åˆ†è¯çš„CJKç”¨æˆ·æ¥è¯´ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚æƒ³è¦æœç´¢ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œé‚£ç®€ç›´å°±æ˜¯è¦äº†å‘½äº†ï¼Œå¿…é¡»è¦è¾“å…¥æ•´ä¸ªå¥å­ã€‚</p>
<h2 id="æœ‰å•¥åŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ"><a href="#æœ‰å•¥åŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ" class="headerlink" title="æœ‰å•¥åŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ"></a>æœ‰å•¥åŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</h2><p>ä¸€ä¸ªæœ€å¸¸è§çš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨Telegram Desktopï¼Œæ³¨æ„æ˜¯Telegram Desktopï¼Œç”¨C++å†™çš„é‚£ä¸ªï¼Œå¯¼å‡ºèŠå¤©è®°å½•ä¸ºjsonï¼Œç„¶åæœç´¢ã€‚</p>
<p>å¯è¿™æ ·ä¹Ÿå¤ªç¹çäº†å§ï¼æœ‰æ²¡æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ¡ˆå‘¢â€¦â€¦</p>
<p>ä¸€ä¸ªæ–¹æ³•æ˜¯é­”æ”¹Telegramçš„å®¢æˆ·ç«¯ï¼Œåæ­£ä¹Ÿæ˜¯å¼€æºçš„ï¼Œèƒ½æœæœ¬åœ°æ•°æ®åº“å°±æœæœ¬åœ°çš„å§ï¼Œè‡³äºéœ€è¦è¯·æ±‚æœåŠ¡å™¨æœç´¢çš„ï¼Œé‚£å¤§æ¦‚ç‡æ˜¯æ²¡æ•‘äº†ã€‚å¯æƒœæˆ‘æ—¢ä¸ä¼šswiftä¹Ÿä¸ä¼šc++ï¼Œæ›´ä½•å†µæˆ‘ä¼°è®¡ä»¥æˆ‘çš„å°è„‘ç“œæˆ‘ä¹Ÿçœ‹ä¸æ‡‚ä»–ä»¬çš„ä»£ç â€¦â€¦</p>
<p>å¦ä¸€ä¸ªæ–¹æ³•å°±æ˜¯è‡ªå·±ä¿å­˜ä¸€ä»½ï¼è¿˜è®°å¾—Telegramæ”¯æŒå¤šå®¢æˆ·ç«¯ç™»å½•å—ï¼Œé‚£æˆ‘ä»¬å¦‚æœæ‹¿æ¥ä¸€ä¸ªclientç”¨æ¥æŠŠæ–‡å­—æ¶ˆæ¯ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œåç»­å†ä»æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œé‚£ä¸å°±æœ‰äº†å˜›ï¼</p>
<p>[v_error]å—¯ï¼Œè¿™ä¹ˆåšåƒæäº†æŸç»¿è‰²è½¯ä»¶ï¼šã€Œçœ‹äº†ä¼šè¢«å¼€é™¤ï¼Œæˆ‘ä»¬ä¸ä¿å­˜èŠå¤©è®°å½•ã€ [&#x2F;v_error] è¯´å¹²å°±å¹²ï¼</p>
<p><img src="/images/2022040513585313.jpeg"></p>
<h2 id="æŠ€æœ¯é€‰å‹"><a href="#æŠ€æœ¯é€‰å‹" class="headerlink" title="æŠ€æœ¯é€‰å‹"></a>æŠ€æœ¯é€‰å‹</h2><p>éœ€è¦ç”¨MTProtoåè®®ï¼Œé‚£ä¹ˆæœ€å¥½å°±æ˜¯ç”¨çº¯Pythonå®ç°çš„pyrogramäº†ï¼Œç”¨TDLibä»€ä¹ˆçš„å¤ªéº»çƒ¦äº†ã€‚</p>
<p>æ•°æ®åº“å°±ç”¨ElasticSearchå§ï¼Œå…¨æ–‡æ£€ç´¢æ›´æ–¹ä¾¿ã€‚Â  ç®—äº†ç®—äº†ï¼ŒESæƒ¹ä¸èµ·ï¼Œç”¨MongoDBå§</p>
<p>ä¸€ä¸ªclientï¼Œç™»å½•è´¦å·ï¼ŒæŠŠæ”¶å’Œå‘çš„æ¶ˆæ¯ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<p>ä¸€ä¸ªbotï¼Œç”¨äºä»æ•°æ®åº“ä¸­æ£€ç´¢æ•°æ®ã€‚</p>
<p>åŠ ä¸Šä¸€äº›èº«ä»½éªŒè¯ä¹‹ç±»çš„ã€‚</p>
<h2 id="ä½¿ç”¨æˆªå›¾"><a href="#ä½¿ç”¨æˆªå›¾" class="headerlink" title="ä½¿ç”¨æˆªå›¾"></a>ä½¿ç”¨æˆªå›¾</h2><p>è¯¦ç»†åŠŸèƒ½è¯´æ˜å¯ä»¥ç§»æ­¥GitHub</p>
<p><img src="/images/2022040513585435.jpeg"></p>
<p><img src="/images/2022040513585636.png"></p>
<p>ä»æ­¤ä»¥åCJKå†æ— çƒ¦æ¼ğŸ˜‚</p>
<p>æ€»è®¡ä»£ç ä¹Ÿå°±400å¤šè¡Œï¼</p>
<p>ç”±äºè¿™ç§æ“ä½œæ¶‰åŠåˆ°ä¸ªäººèŠå¤©è®°å½•ï¼Œæ˜¯éå¸¸æ•æ„Ÿä¸”é‡è¦çš„ä¿¡æ¯ï¼Œå› æ­¤ä¸æä¾›ä»»ä½•å…¬å¼€botï¼Œéœ€è¦è‡ªå·±éƒ¨ç½²ä¸€ä»½ã€‚</p>
<p>çœ‹è¿™ESè·‘å¾—å¤šæ¬¢å¿«ï¼Œå°±åƒè„±ç¼°çš„é‡é©¬ä¸€æ ·ï¼Œé…åˆä¸Škibanaè¿™ä¸ªåŠé€€çš„å·¥å…·ç®€ç›´å¤©ç”Ÿä¸€å¯¹ğŸ˜ </p>
<p><img src="/images/2022040513585967.png"></p>
<h2 id="å¼€æºåœ°å€"><a href="#å¼€æºåœ°å€" class="headerlink" title="å¼€æºåœ°å€"></a>å¼€æºåœ°å€</h2><p><a target="_blank" rel="noopener" href="https://github.com/tgbot-collection/SearchGram">https://github.com/tgbot-collection/SearchGram</a></p>
<p>æ”¾åˆ°äº†è¿™é‡Œï¼ŒğŸ˜‚è¿˜æ‰“ç®—åš chat history importçš„åŠŸèƒ½ï¼Œå°±æ˜¯ä»Šå¤©å¤ªç´¯äº†â€¦â€¦è¹²ä¸€ä¸ªPRå§ã€‚</p>
<p>å…·ä½“éƒ¨ç½²æ–¹æ³•åœ¨é‚£è¾¹ä¹Ÿæœ‰ï¼Œå†™çš„åº”è¯¥æ¯”è¾ƒè¯¦ç»†äº†ã€‚è¿™é‡Œå°±ä¸å¤è¿°äº†ã€‚</p>
<p>èƒ½ç”¨å°±è¡Œï¼Œä»æ­¤å†ä¹Ÿä¸æ€•æœä¸åˆ°èŠå¤©è®°å½•äº†.jpg</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/04/05/telegram-cjk-search/index/" data-id="clhp7rtl8009is2qr2ov67jsh" data-title="è®©Telegramæ”¯æŒä¸­æ–‡æœç´¢ï¼" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/china/">china</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/china/justsay/">justsay</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/cloudflare/">cloudflare</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/gfw/">gfw</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/">it</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/it/justsay/">justsay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/security/">security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/share/">share</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/">justsay</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/gfw/">gfw</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/security/">security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/website/">website</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/program/">program</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/program/share/">share</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/">security</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/security/justsay/">justsay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/share/">share</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/website/">website</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/website/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/what/">what</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/what/gfw/">gfw</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/05/01/zero-trust-private-dns/index/">Cloudflare Zero Trust æ·»åŠ ç§æœ‰è§£æDNS</a>
          </li>
        
          <li>
            <a href="/2023/04/29/cloudflare-access-gfwed-server/index/">ä½¿ç”¨Cloudflare Zero Trustè¿æ¥è¢«å¢™çš„æœåŠ¡å™¨</a>
          </li>
        
          <li>
            <a href="/2023/04/22/zero-trust-login-method/index/">Cloudflare Zero Trust App Launcherã€Access GroupåŠæ·»åŠ æ–°çš„ç™»å½•éªŒè¯æ–¹å¼</a>
          </li>
        
          <li>
            <a href="/2023/04/20/zero-trust-access-web/index/">ä½¿ç”¨Cloudflare Zero Trustä¿æŠ¤ä½ çš„Webåº”ç”¨</a>
          </li>
        
          <li>
            <a href="/2023/04/01/cf-zero-trust/index/">ä½¿ç”¨Cloudflare Zero Truståˆ›å»ºå¤§å†…ç½‘</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Bennyå°åœŸè±†<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>