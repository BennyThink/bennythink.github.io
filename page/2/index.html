<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>åœŸè±†ä¸å¥½åƒ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="åœŸè±†ä¸å¥½åƒ">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="åœŸè±†ä¸å¥½åƒ">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Bennyå°åœŸè±†">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="åœŸè±†ä¸å¥½åƒ" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">åœŸè±†ä¸å¥½åƒ</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-tron-trx/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/09/tron-trx/index/" class="article-date">
  <time class="dt-published" datetime="2023-12-09T00:00:00.000Z" itemprop="datePublished">2023-12-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/what/">what</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/09/tron-trx/index/">ä½¿ç”¨ Tron(TRX) æ”¶æ¬¾</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ä»Šå¹´å¹´åˆçš„æ—¶å€™ï¼Œæˆ‘å†™è¿‡<a target="_blank" rel="noopener" href="https://dmesg.app/stripe-telegram.html">å¦‚ä½•ç”¨ Stripe æ”¶æ¬¾</a>ã€‚ä½†æ˜¯ Stripe çš„æ³¨å†Œé—¨æ§›ç¡®å®è¦é«˜ä¸€äº›ï¼Œè¿™ä¸€ç‚¹å°±è¶³å¤ŸåŠé€€å¾ˆå¤šäººäº†ã€‚</p>
<p>é€€è€Œæ±‚å…¶æ¬¡ï¼Œç”¨åŠ å¯†è´§å¸æ¥æ”¶æ¬¾ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚åŒºå—é“¾ä¸Šæ‰€æœ‰çš„äº¤æ˜“éƒ½æ˜¯å…¬å¼€çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸€ç‚¹æ¥éªŒè¯ç”¨æˆ·çš„ä»˜æ¬¾æƒ…å†µã€‚</p>
<p>æƒ³è¦éªŒè¯ç”¨æˆ·ä»˜æ¬¾ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå¦‚ä¸‹æ–¹å¼ï¼š</p>
<ul>
<li>æ¯ç¬”äº¤æ˜“éƒ½ç”Ÿæˆä¸€å¯¹å¯†é’¥ï¼Œå¯¹åº”ä¸€ä¸ªä»˜æ¬¾åœ°å€ã€‚å¯†é’¥ç®¡ç†ä¼šéå¸¸éº»çƒ¦</li>
<li>æœ‰äº›äº¤æ˜“å¯ä»¥æ·»åŠ ä¸€ä¸ªæè¿°å­—æ®µï¼Œç”¨äºåŒºåˆ†ã€‚åƒæäº†ç»™å¯¹å…¬è´¦æˆ·è½¬è´¦æ—¶çš„OCR&#x2F;Reference</li>
<li>å°¾æ•°æ ‡è®°ï¼Œç•¥å¾®æ”¹å˜ä»˜æ¬¾é‡‘é¢ï¼Œæ¯”å¦‚åŒæ ·éœ€è¦ä»˜æ¬¾1 USDTï¼Œå¯ä»¥ä¸€ä¸ªç”¨æˆ·éœ€è¦ä»˜æ¬¾1.000001å¦å¤–ä¸€ä¸ªéœ€è¦ä»˜æ¬¾1.000002</li>
</ul>
<p>å‰å‡ å¤©äº†è§£åˆ° HD é’±åŒ…ï¼ˆé«˜æ¸…é’±åŒ… åˆ†å±‚ç¡®å®šæ€§é’±åŒ… Hierarchical Deterministic Walletï¼‰ï¼Œå‘ç°è¿™ç§æŠ€æœ¯éå¸¸æœ‰è¶£ã€‚å®ƒå…è®¸é€šè¿‡å•ä¸ªç§å­æºç”Ÿæˆä¸€æ•´å¥—å¯†é’¥å¯¹ï¼ˆå³å…¬é’¥å’Œç§é’¥ï¼‰ï¼Œåƒæ ‘å½¢ç»“æ„ä¸€æ ·ã€‚æœ‰ä¸€ä¸ªæ ¹ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºæ ‘ä¸Šä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å…¬ç§é’¥ã€‚</p>
<p>é‚£è¿™å°±åˆšåˆšå¥½ï¼Œæ¯ä¸€ç¬”äº¤æ˜“æˆ‘éƒ½ç»™æ ‘ä¸Šå¢åŠ ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œåªè¦æœ‰æ ¹å’Œè·¯å¾„ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºè¿™ä¸ªèŠ‚ç‚¹çš„å…¬ç§é’¥ã€‚</p>
<p>è¿™é‡Œæˆ‘é€‰æ‹© Tronçš„TRXï¼Œä¸»è¦åŸå› è¿˜æ˜¯è½¬è´¦æ‰‹ç»­è´¹æ¯”è¾ƒä½ğŸ˜‚</p>
<h2 id="é’±åŒ…è·¯å¾„"><a href="#é’±åŒ…è·¯å¾„" class="headerlink" title="é’±åŒ…è·¯å¾„"></a>é’±åŒ…è·¯å¾„</h2><p>ä»æ ‘æ ¹èµ°åˆ°æŸä¸€ä¸ªå¶å­ï¼Œè‚¯å®šè¦ä¸€ä¸ªç‰¹å®šçš„è·¯å¾„çš„ã€‚å¯¹äº tronæ¥è¯´ï¼Œä¸€ä¸ªå…¸å‹çš„è·¯å¾„æ˜¯è¿™æ ·çš„</p>
<p><strong>m&#x2F;44â€™&#x2F;195â€™&#x2F;0â€™&#x2F;0&#x2F;0</strong></p>
<ul>
<li><strong>m&#x2F;44</strong>è¡¨ç¤ºBIP44æ ‡å‡†</li>
<li><strong>195</strong>è¡¨ç¤º TRONï¼Œæ¯ç§åŠ å¯†è´§å¸éƒ½åˆ†é…æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç¼–å·</li>
<li>**0â€™**è¡¨ç¤ºé’±åŒ…çš„ç¬¬ä¸€ä¸ªè´¦æˆ·ï¼Œåˆ›å»ºå¤šä¸ªè´¦æˆ·é‚£å°±æ˜¯1â€˜ 2â€™</li>
<li><strong>0</strong> é“¾æ¥å±‚çº§ ä¸€èˆ¬0è¡¨ç¤ºæ¥æ”¶ 1è¡¨ç¤ºæ‰¾é›¶</li>
<li><strong>0</strong> ç‰¹å®šåœ°å€ç´¢å¼•ï¼Œæ”¹å˜è¿™ä¸ªæ•°å­—å°±ä¼šç”Ÿæˆæ–°çš„åœ°å€</li>
</ul>
<p>ç”±äºæˆ‘ä»¬æƒ³æ¯ä¸€ç¬”äº¤æ˜“éƒ½ç”Ÿæˆä¸åŒçš„åœ°å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·è®¾æƒ³</p>
<ul>
<li><strong>m&#x2F;44â€™&#x2F;195â€™&#x2F;0â€™&#x2F;0&#x2F;0</strong> è¿™ä¸ªè·¯å¾„ç”¨äºä¿å­˜æ‰€æœ‰çš„ä½™é¢</li>
<li><strong>m&#x2F;44â€™&#x2F;195â€™&#x2F;1â€™&#x2F;0&#x2F;(0-10000)</strong> æ¯ä¸€ç¬”äº¤æ˜“è¯·æ±‚éƒ½é€šè¿‡1é’±åŒ…çš„ä¸åŒç´¢å¼•ç”Ÿæˆä¸åŒåœ°å€</li>
<li>æ¯ä¸€ç¬”äº¤æ˜“ç¡®è®¤åï¼Œéƒ½è®¡ç®—å‡ºè¿™ä¸ªåœ°å€çš„ç§é’¥ï¼Œç„¶åæŠŠé’±è½¬åˆ°0è´¦æˆ·ä¸­</li>
</ul>
<h2 id="åº“"><a href="#åº“" class="headerlink" title="åº“"></a>åº“</h2><p>Python ä¸­æœ‰å¾ˆå¤šåº“å¯ä»¥å¤„ç†åŠ å¯†è´§å¸ã€‚æ¯”å¦‚ <a target="_blank" rel="noopener" href="https://github.com/meherett/python-hdwallet">python-hdwallet</a> å®ç°äº†ä¸€ç™¾å¤šç§è´§å¸çš„HDé’±åŒ…ï¼›æˆ‘ä»¬æœ¬æ¬¡çš„ç›®çš„éå¸¸ç®€å•ï¼Œåªä½¿ç”¨ TRONï¼Œé‚£ä¹ˆå°±ç”¨ <a target="_blank" rel="noopener" href="https://github.com/andelf/tronpy">tronpy</a> å¥½äº†</p>
<h2 id="ç”ŸæˆåŠ©è®°è¯"><a href="#ç”ŸæˆåŠ©è®°è¯" class="headerlink" title="ç”ŸæˆåŠ©è®°è¯"></a>ç”ŸæˆåŠ©è®°è¯</h2><p>[v_tips]mnemonic, mä¸å‘éŸ³[&#x2F;v_tips] è¿™ä¸ªåŠ©è®°è¯ä¹Ÿå°±æ˜¯æ‰€è°“çš„æ ¹å¯†é’¥ï¼Œå¯ä»¥æ‹¿æ¥ç”Ÿæˆä¸‹é¢ä»»æ„èŠ‚ç‚¹çš„å¯†é’¥ã€‚å¯ä¸èƒ½æ³„æ¼å‡ºå»ï¼Œè¦ä¸ç„¶æ‰€æœ‰çš„èŠ‚ç‚¹çš„å¯†é’¥éƒ½å¯ä»¥è¢«æ¨æ–­å‡ºæ¥ã€‚</p>
<p>from tronpy.hdwallet import generate_mnemonic<br>m &#x3D; generate_mnemonic(12, â€œenglishâ€)<br>print(m)</p>
<h2 id="è¿æ¥åŒºå—é“¾ç½‘ç»œ"><a href="#è¿æ¥åŒºå—é“¾ç½‘ç»œ" class="headerlink" title="è¿æ¥åŒºå—é“¾ç½‘ç»œ"></a>è¿æ¥åŒºå—é“¾ç½‘ç»œ</h2><p>TRON æœ‰å¦‚ä¸‹å‡ ä¸ªç½‘ç»œï¼š</p>
<ul>
<li>mainnet ä¸»ç½‘ï¼Œé‡Œé¢çš„é’±æ˜¯å…·æœ‰ç»æµä»·å€¼çš„ï¼Œæ„å‘³ç€å¯ä»¥å…‘æ¢æ³•å¸</li>
<li>shastaã€nile æµ‹è¯•ç½‘ï¼Œé‡Œé¢çš„é’±æ²¡ç»æµä»·å€¼ï¼Œå®Œå…¨æµ‹è¯•ç”¨</li>
</ul>
<p><strong>ç”±äºä¸åŒå›½å®¶å’Œåœ°åŒºå¯¹äºåŠ å¯†è´§å¸çš„æ³•å¾‹æ”¿ç­–é™åˆ¶ä¸åŒ</strong>ï¼ŒåŒæ—¶æˆ‘å¹¶ä¸æƒ³çœŸæ­£çš„å»èŠ±é’±ï¼Œé‚£ä¹ˆæµ‹è¯•ç½‘å°±æ˜¯å†å¥½ä¸è¿‡çš„äº†ã€‚</p>
<p>from tronpy import Tron</p>
<p>MNEMONIC &#x3D; â€œslogan reduce clap umbrella liquid crumble outer exchange quiz promote owner buffaloâ€<br>client &#x3D; Tron(network&#x3D;â€nileâ€)<br>addr &#x3D; client.generate_address_from_mnemonic(MNEMONIC, â€œâ€, â€œm&#x2F;44â€™&#x2F;195â€™&#x2F;0â€™&#x2F;0&#x2F;0â€)<br>print(addr[â€œbase58check_addressâ€])</p>
<p>è¾“å‡ºå¦‚ä¸‹</p>
<p>TERbSCnpFp4FG6SLpUHpFRBRT69ZhHbLFp</p>
<p>ä½ çœ‹æˆ‘ä»¬è¿™é‡Œä½¿ç”¨äº† account pathï¼Œè¿™ä¸ª<code>0&#39;/0/0</code>å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆé›†èµ„çš„é’±åŒ…</p>
<h2 id="ä¸ºæ¯ç¬”äº¤æ˜“ç”Ÿæˆæ”¶æ¬¾åœ°å€"><a href="#ä¸ºæ¯ç¬”äº¤æ˜“ç”Ÿæˆæ”¶æ¬¾åœ°å€" class="headerlink" title="ä¸ºæ¯ç¬”äº¤æ˜“ç”Ÿæˆæ”¶æ¬¾åœ°å€"></a>ä¸ºæ¯ç¬”äº¤æ˜“ç”Ÿæˆæ”¶æ¬¾åœ°å€</h2><p>æˆ‘ä»¬ä½¿ç”¨ 1â€™è´¦æˆ·ï¼Œç„¶åéœ€è¦åœ¨æ•°æ®åº“ä¸­è®°å½•ä¸‹ç´¢å¼•ï¼Œæ¯ç¬”äº¤æ˜“éƒ½è¦ç”Ÿæˆä¸åŒçš„ç´¢å¼•ï¼Œè‡ªå¢å°±å¯ä»¥äº†ï¼Œè¦è®°ä½è¿™ä¸ªç´¢å¼•ï¼Œå¦åˆ™å°±æ²¡åŠæ³•ç”Ÿæˆç§é’¥äº†</p>
<p>addr &#x3D; client.generate_address_from_mnemonic(MNEMONIC, â€œâ€, â€œm&#x2F;44â€™&#x2F;195â€™&#x2F;1â€™&#x2F;0&#x2F;1â€)<br>print(addr[â€œbase58check_addressâ€])</p>
<p>è¾“å‡ºå¦‚ä¸‹ï¼Œè¿™ä¸ªåœ°å€å°±æ˜¯ç”¨æˆ·è¦æ‰“é’±çš„åœ°æ–¹</p>
<p>TD2g6siz3NP4wcjP5iAueW9tottaAgP98a</p>
<h2 id="æ¨¡æ‹Ÿç”¨æˆ·"><a href="#æ¨¡æ‹Ÿç”¨æˆ·" class="headerlink" title="æ¨¡æ‹Ÿç”¨æˆ·"></a>æ¨¡æ‹Ÿç”¨æˆ·</h2><p>æ¨¡æ‹Ÿç”¨æˆ·ä»˜é’±ï¼Œé‚£ä¹ˆå°±è¦å…ˆå¼„åˆ°ä¸€ä¸ªæœ‰æ•°å­—è´§å¸çš„é’±åŒ…åœ°å€ã€‚å¯æ˜¯è¿™åˆæ˜¯æµ‹è¯•ç½‘ï¼Œæ²¡åŠæ³•çœŸæ­£å…‘æ¢æ³•å¸çš„ã€‚ä¸æ…Œï¼Œæœ‰ç½‘ç«™å¯ä»¥å…è´¹é¢†ç”¨äºæµ‹è¯•çš„å¸ï¼Œå¦‚ï¼š <a target="_blank" rel="noopener" href="https://nileex.io/join/getJoinPage">https://nileex.io/join/getJoinPage</a></p>
<p>åŒæ ·ç”Ÿæˆä¸€ä¸ªåœ°å€ï¼Œè®°ä½åœ°å€å’Œç§é’¥ï¼Œç„¶åé¡µé¢æäº¤å°±å¥½äº†ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿å®ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå°ç¨‹åº</p>
<h2 id="ä»˜æ¬¾"><a href="#ä»˜æ¬¾" class="headerlink" title="ä»˜æ¬¾"></a>ä»˜æ¬¾</h2><p>client.trx.transfer(from_, to, amount).build().inspect().sign(priv).broadcast()<br>print(t.wait())</p>
<p><code>amount</code>æ˜¯é‡‘é¢ï¼Œ<code>1_000_000</code> æ˜¯ 1 TRX</p>
<p><code>priv</code> æ˜¯ç§é’¥ï¼Œå¦‚æœé€šè¿‡åŠ©è®°è¯å’Œè·¯å¾„ç”Ÿæˆkeyï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç </p>
<p>def mnemonic_to_private_key():<br>    seed &#x3D; seed_from_mnemonic(mnemonic, passphrase&#x3D;â€â€)<br>    private_key &#x3D; key_from_seed(seed, account_path&#x3D;â€m&#x2F;44â€™&#x2F;195â€™&#x2F;0â€™&#x2F;0&#x2F;0â€)<br>    return PrivateKey(private_key)</p>
<h2 id="éªŒè¯ä»˜æ¬¾"><a href="#éªŒè¯ä»˜æ¬¾" class="headerlink" title="éªŒè¯ä»˜æ¬¾"></a>éªŒè¯ä»˜æ¬¾</h2><p>ç®€å•çš„è½®è¯¢å³å¯</p>
<p># è·å–åœ°å€ä¿¡æ¯<br>client.get_account(â€œTD2g6siz3NP4wcjP5iAueW9tottaAgP98aâ€)<br>è·å–åœ°å€ä½™é¢ï¼Œè¿”å›å€¼ç±»å‹æ˜¯ Decimal é¿å…å‡ºç° 0.1 + 0.2 &#x3D; 0.30000000000000004 çš„æ‚²å‰§<br>client.get_account_balance(â€œTD2g6siz3NP4wcjP5iAueW9tottaAgP98aâ€)</p>
<h2 id="éªŒè¯æˆåŠŸåè½¬é’±åˆ°é›†ä¸­åœ°å€"><a href="#éªŒè¯æˆåŠŸåè½¬é’±åˆ°é›†ä¸­åœ°å€" class="headerlink" title="éªŒè¯æˆåŠŸåè½¬é’±åˆ°é›†ä¸­åœ°å€"></a>éªŒè¯æˆåŠŸåè½¬é’±åˆ°é›†ä¸­åœ°å€</h2><p>å’Œä»˜æ¬¾ä¸€æ ·ï¼ŒæŠŠ To æ”¹æˆè‡ªå·±çš„åœ°å€å°±å¥½ã€‚å¦‚æœä½ æƒ³ä¹Ÿå¯ä»¥å¼„æˆäº¤æ˜“æ‰€ç»™çš„åœ°å€ã€æˆ–è€…æœ¬åœ°é’±åŒ…è½¯ä»¶ç»™çš„åœ°å€ã€‚</p>
<p>åœ¨è½¬è´¦å¤±è´¥æ—¶ï¼Œåº”è¯¥æŠŠé‡‘é¢å‡å°‘ 1.1 TRXç”¨äºä»˜çŸ¿å·¥è´¹</p>
<h2 id="ä½¿ç”¨-Telegram-Botå¤„ç†"><a href="#ä½¿ç”¨-Telegram-Botå¤„ç†" class="headerlink" title="ä½¿ç”¨ Telegram Botå¤„ç†"></a>ä½¿ç”¨ Telegram Botå¤„ç†</h2><p>ç†è§£äº†ä»¥ä¸Šæ‰€æœ‰æ­¥éª¤ä¹‹åï¼Œç®€å•å°è£…ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œä¸‹é¢æ˜¯ä¸€ç»„ç¤ºä¾‹ä»£ç ï¼Œä½¿ç”¨ apscheduler è½®è¯¢è·å–ä»˜æ¬¾çŠ¶æ€ã€‚ç®€å•èµ·è§æ²¡æœ‰å¼•å…¥æ•°æ®åº“ï¼Œæ­£å¸¸è¦ç”¨èµ·æ¥çš„è¯ï¼Œè¿˜æ˜¯è¦æŠŠä¸€äº›å…³é”®çš„ä¿¡æ¯ï¼Œå¦‚ä»˜æ¬¾åœ°å€ã€è·¯å¾„ç­‰å†™å…¥åˆ°æ•°æ®åº“ä¸­çš„ã€‚</p>
<p>import logging</p>
<p>import telebot<br>from apscheduler.schedulers.background import BackgroundScheduler<br>from telebot.types import Message<br>from tronpy import Tron<br>from tronpy.exceptions import TransactionError, ValidationError<br>from tronpy.hdwallet import key_from_seed, seed_from_mnemonic<br>from tronpy.keys import PrivateKey</p>
<p>logging.basicConfig(level&#x3D;logging.INFO)<br>bot &#x3D; telebot.TeleBot(â€œ12345â€)</p>
<p>index &#x3D; 0</p>
<h1 id="address-user-id-123-path-â€œm-x2F-44â€™-x2F-195â€™-x2F-1â€™-x2F-0-x2F-0â€"><a href="#address-user-id-123-path-â€œm-x2F-44â€™-x2F-195â€™-x2F-1â€™-x2F-0-x2F-0â€" class="headerlink" title="address: {user_id: 123, path: â€œm&#x2F;44â€™&#x2F;195â€™&#x2F;1â€™&#x2F;0&#x2F;0â€"></a>address: {user_id: 123, path: â€œm&#x2F;44â€™&#x2F;195â€™&#x2F;1â€™&#x2F;0&#x2F;0â€</h1><p>unpaid_map &#x3D; {}</p>
<p>mnemonic &#x3D; â€œslogan reduce clap umbrella liquid crumble outer exchange quiz promote owner buffaloâ€</p>
<p>class TronTrx:<br>    def __init__(self):<br>        self.client &#x3D; Tron(network&#x3D;â€nileâ€)<br>        self.central &#x3D; â€œm&#x2F;44â€™&#x2F;195â€™&#x2F;0â€™&#x2F;0&#x2F;0â€</p>
<pre><code>def mnemonic\_to\_private\_key(self, path):
    seed = seed\_from\_mnemonic(mnemonic, passphrase=&quot;&quot;)
    private\_key = key\_from\_seed(seed, account\_path=path)
    return PrivateKey(private\_key)

def central\_wallet(self):
    return self.client.generate\_address\_from\_mnemonic(mnemonic, &quot;&quot;, self.central)\[&quot;base58check\_address&quot;\]

def generate\_address(self, user\_id):
    global index
    path = f&quot;m/44&#39;/195&#39;/1&#39;/0/&#123;index&#125;&quot;
    logging.info(&quot;Generating address for user %s with path %s&quot;, user\_id, path)
    addr = self.client.generate\_address\_from\_mnemonic(mnemonic, &quot;&quot;, path)\[&quot;base58check\_address&quot;\]
    unpaid\_map\[addr\] = &#123;&quot;user\_id&quot;: user\_id, &quot;path&quot;: path&#125;
    index += 1
    return addr

def transfer(self, from\_: str, to: str, amount: int):
    logging.info(&quot;Transfer %s TRX from %s to %s&quot;, amount, from\_, to)
    from\_path = unpaid\_map\[from\_\]\[&quot;path&quot;\]
    try:
        (
            self.client.trx.transfer(from\_, to, amount)
            .build()
            .sign(self.mnemonic\_to\_private\_key(from\_path))
            .broadcast()
        )
    except (TransactionError, ValidationError):
        logging.warning(&quot;Balance not enough, try to transfer %s TRX&quot;, amount - 1\_100\_000)
        (
            self.client.trx.transfer(from\_, to, amount - 1\_100\_000)
            .build()
            .sign(self.mnemonic\_to\_private\_key(from\_path))
            .broadcast()
        )

def verify\_payment(self):
    logging.info(&quot;Checking %s unpaid payment&quot;, len(unpaid\_map))
    for addr, meta in unpaid\_map.items():
        try:
            balance = self.client.get\_account\_balance(addr)
        except:
            balance = 0
        if balance:
            logging.info(&quot;addr %s has %s TRX&quot;, addr, balance)
            self.transfer(addr, self.central\_wallet(), int(balance \* 1\_000\_000))
            bot.send\_message(meta\[&quot;user\_id&quot;\], f&quot;You have paid &#123;balance&#125; TRX&quot;)
            del unpaid\_map.copy()\[addr\]
</code></pre>
<p>trx &#x3D; TronTrx()</p>
<p>@bot.message_handler(commands&#x3D;[â€œpayâ€])<br>def send_address(message: Message):<br>    bot.send_message(message.chat.id, trx.generate_address(message.chat.id))</p>
<p>@bot.message_handler(commands&#x3D;[â€œstartâ€])<br>def send_start(message: Message):<br>    bot.send_message(message.chat.id, â€œhelloâ€)</p>
<p>if __name__ &#x3D;&#x3D; â€œ__main__â€œ:<br>    scheduler &#x3D; BackgroundScheduler()<br>    scheduler.add_job(trx.verify_payment, â€œintervalâ€, seconds&#x3D;10, max_instances&#x3D;1)<br>    scheduler.start()<br>    bot.infinity_polling()</p>
<p><img src="/images/2023120904562828.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/12/09/tron-trx/index/" data-id="clqxhsveu0005w1qr9o58cj7i" data-title="ä½¿ç”¨ Tron(TRX) æ”¶æ¬¾" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-nodejs-dual-stack/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/26/nodejs-dual-stack/index/" class="article-date">
  <time class="dt-published" datetime="2023-11-26T00:00:00.000Z" itemprop="datePublished">2023-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/program/">program</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/26/nodejs-dual-stack/index/">Node.js 18å‡çº§ï¼šåŒæ ˆåè®®è¸©å‘</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å¾ˆä¹…ä¹‹å‰æˆ‘å°±å‘ç°äº†ä¸€ä¸ªç°è±¡ï¼Œæœ‰äº›æ—¶å€™æˆ‘åœ¨ä½¿ç”¨ ncå»æ¢æµ‹æœ¬åœ°çš„æŸäº›æœåŠ¡æ˜¯å¦å¼€å¯æ—¶ï¼Œä¼šæœ‰ä¸¤ä¸ªè¾“å‡ºï¼Œç¬¬ä¸€æ¬¡æ‹’ç»ç¬¬äºŒæ¬¡æˆåŠŸï¼Œè¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p>$ nc -v localhost 12345</p>
<p>nc: connectx to localhost port 12345 (tcp) failed: Connection refused<br>Connection to localhost port 12345 [tcp&#x2F;italk] succeeded!</p>
<p>å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯åˆä¸æ˜¯ä¸èƒ½ç”¨ï¼Œå°±ä¸€ç›´æ²¡å»æ·±ç©¶ï¼Œç”šè‡³è¿ä¸€ç‚¹ç‚¹æ€è€ƒéƒ½æ²¡æœ‰ã€‚</p>
<p>å‰å‡ å¤©åœ¨æŠŠé¡¹ç›®çš„ Node.js ä»16å‡çº§åˆ°18æ—¶ï¼Œçªç„¶å‘ç°èƒ½ç”¨ redbird è¿ä¸ä¸Šåç«¯çš„ä¸€ä¸ªæœåŠ¡äº†ã€‚</p>
<p>äºæ˜¯æˆ‘å°±ç»§ç»­ <code>nc</code> äº†ä¸€ä¸‹ï¼Œä½¿ç”¨ nc æ˜¯ä½œä¸ºç½‘ç»œå·¥ç¨‹å¸ˆçš„åŸºæœ¬æŠ€èƒ½ã€‚ç»“æœè¾“å‡ºå’Œä¸Šé¢ä¸€æ ·ï¼Œç¬¬ä¸€æ¬¡æ‹’ç»ç¬¬äºŒæ¬¡æˆåŠŸã€‚</p>
<p>æƒ³äº†å‡ åˆ†é’Ÿçªç„¶æ‡‚äº†ï¼Œæˆ‘çš„æœåŠ¡åªç›‘å¬åœ¨äº† IPv4çš„åœ°å€ï¼Œå¹¶æ²¡æœ‰ç›‘å¬ IPv6çš„åœ°å€ï¼Œè€Œ<code>localhost</code> é€šå¸¸ä¼šåŒæ—¶è§£æä¸º IPv6çš„æœ¬åœ°ç¯å›åœ°å€ <code>::1</code> å’Œ IPv4çš„<code>127.0.0.1</code> ã€‚åŒæ—¶å¯¹äºå¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œåœ¨åŒæ ˆçš„æƒ…å†µä¸‹ä¼šä¼˜å…ˆå°è¯• IPv6ï¼Œå¦‚æœå¤±è´¥é‚£ä¹ˆå†å›è½åˆ° IPv4.</p>
<p>$ ping localhost</p>
<p>PING localhost (127.0.0.1): 56 data bytes<br>64 bytes from 127.0.0.1: icmp_seq&#x3D;0 ttl&#x3D;64 time&#x3D;0.115 ms<br>^C<br>â€” localhost ping statistics â€”<br>1 packets transmitted, 1 packets received, 0.0% packet loss<br>round-trip min&#x2F;avg&#x2F;max&#x2F;stddev &#x3D; 0.115&#x2F;0.115&#x2F;0.115&#x2F;nan ms</p>
<p>benny@Yogurt ~<br>$ ping6 localhost<br>PING6(56&#x3D;40+8+8 bytes) ::1 â€“&gt; ::1<br>16 bytes from ::1, icmp_seq&#x3D;0 hlim&#x3D;64 time&#x3D;0.053 ms</p>
<p>å½“æ—¶ä¹Ÿæ²¡å¤šæƒ³ï¼ŒçŒœæµ‹å°±æ˜¯ redbird ç”±äºä»€ä¹ˆåŸå› åªå°è¯•äº† IPv6 çš„åœ°å€ã€‚é‚£å°±ç®€å•ç‚¹æ”¹ hosts è®© <code>localhost</code> åªè§£æåˆ° <code>127.0.0.1</code>å°±å¥½äº†ã€‚ [v_tips]å¯æ˜¯æˆ‘æ²¡æœ‰ IPv6åœ°å€å‘€ï¼Ÿ æ²¡å…³ç³»ï¼Œå³ä¾¿ä½ æ²¡æœ‰è¢«åˆ†é…IPv6åœ°å€ï¼Œåªè¦æ²¡æœ‰æ˜ç¡®ç¦ç”¨IPv6ï¼Œå¦‚ net.ipv6.conf.all.disable_ipv6 &#x3D; 1 é‚£ä¹ˆ ::1 ç­‰å°±æ˜¯æœ‰çš„ï¼ [&#x2F;v_tips]</p>
<p>è¿™æ ·æ”¹ hosts ç¡®å®ç®¡ç”¨ï¼Œä½†æ˜¯çŸ¥å…¶ç„¶ï¼Œæ›´è¦çŸ¥å…¶æ‰€ä»¥ç„¶â€¦â€¦</p>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å‡ ä¸ªæ¦‚å¿µ</p>
<h2 id="127-0-0-1-ä¸-1"><a href="#127-0-0-1-ä¸-1" class="headerlink" title="127.0.0.1 ä¸ ::1"></a>127.0.0.1 ä¸ ::1</h2><p>ä¸ºè¡¨ç¤ºæœ¬åœ°è®¡ç®—æœºæ‰€ä¿ç•™çš„IPåœ°å€ï¼Œå¯¹äº IPv4è€Œè¨€ï¼Œå…¶èŒƒå›´æ˜¯ <code>127.0.0.0/8</code>ï¼Œå…¶åœ°å€èŒƒå›´ä¸º <code>127.0.0.0</code> ï½ <code>127.255.255.255</code>ï¼Œé™¤å»å¼€å¤´çš„0è¡¨ç¤ºç½‘ç»œä½å’Œç»“å°¾255è¡¨ç¤ºå¹¿æ’­åœ°å€ï¼Œå…¶ä½™æ‰€æœ‰åœ°å€éƒ½å¯ä»¥è¡¨ç¤ºæœ¬æœºã€‚</p>
<p>~: ping 127.255.255.254</p>
<p>PING 127.255.255.254 (127.255.255.254) 56(84) bytes of data.<br>64 bytes from 127.255.255.254: icmp_seq&#x3D;1 ttl&#x3D;64 time&#x3D;0.028 ms<br>^C<br>â€” 127.255.255.254 ping statistics â€”<br>1 packets transmitted, 1 received, 0% packet loss, time 0ms<br>rtt min&#x2F;avg&#x2F;max&#x2F;mdev &#x3D; 0.028&#x2F;0.028&#x2F;0.028&#x2F;0.000 ms</p>
<p>~: ping 127.8.9.2<br>PING 127.8.9.2 (127.8.9.2) 56(84) bytes of data.<br>64 bytes from 127.8.9.2: icmp_seq&#x3D;1 ttl&#x3D;64 time&#x3D;0.045 ms<br>64 bytes from 127.8.9.2: icmp_seq&#x3D;2 ttl&#x3D;64 time&#x3D;0.039 ms</p>
<p>è‡³å°‘åœ¨ Linuxä¸‹æ˜¯è¿™æ ·çš„ï¼<code>127.0.0.1</code>æ˜¯å¸¸ç”¨çš„æ ‡å‡†ç¯å›åœ°å€ï¼Œå…¶ä»–åœ°å€å¹¶ä¸æ˜¯æ‰€æœ‰æ“ä½œç³»ç»Ÿéƒ½æ”¯æŒã€‚</p>
<p>å¯¹äº IPv6 æ¥è¯´ï¼Œäº‹æƒ…å°±ç®€å•äº†ï¼Œä¸€ä¸ª <code>::1</code> æ²¡æœ‰å…¶ä»–çš„èŠ±æ ·ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç›‘å¬åœ¨ <code>127.0.0.1</code>ï¼Œé‚£ä¹ˆæ„å‘³ç€åªæœ‰æœ¬æœºï¼Œæ›´å‡†ç¡®çš„è¯´æ¥è‡ªäº <code>127.0.0.1</code> çš„è¯·æ±‚æ‰ä¼šè¢«æ¥å—ï¼›ç±»ä¼¼åœ°ï¼Œç›‘å¬åœ¨ <code>::1</code> ä¹Ÿæ˜¯ä¸€æ ·ï¼Œæ„å‘³ç€åªæœ‰æ¥è‡ª <code>::1</code> çš„è¯·æ±‚æ‰ä¼šè¢«æ¥å—ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ncæ¥åšè¿™æ ·ä¸€ä¸ªå®éªŒï¼Œkè¡¨ç¤ºè¿æ¥åä¸æ–­å¼€ï¼Œlè¡¨ç¤ºlisten</p>
<p>nc -klv 127.0.0.1 12345</p>
<p>ç„¶åå¦å¼€ä¸€ä¸ªçª—å£ <code>nc -v 127.0.0.1 12345</code></p>
<p>$ nc -v 127.0.0.1 12345<br>Connection to 127.0.0.1 port 12345 [tcp&#x2F;italk] succeeded!<br>^C</p>
<p>benny@Yogurt: ~<br>$ nc -v ::1 12345<br>nc: connectx to ::1 port 12345 (tcp) failed: Connection refused</p>
<p>ä½ çœ‹ï¼Œè™½ç„¶éƒ½æ˜¯ä¸€å°ç”µè„‘ï¼Œä½†æ˜¯ <code>::1</code> å´ä¸è¡Œï¼Œå¦‚æœä½ æœ‰ dockerï¼Œ<code>docker0</code>ç½‘æ¡¥çš„åœ°å€æ˜¯<code>172.17.0.1</code>ï¼Œå¼€ä¸ªå®¹å™¨è¯•è¯•</p>
<p>~ # ping 172.17.0.1<br>PING 172.17.0.1 (172.17.0.1): 56 data bytes<br>64 bytes from 172.17.0.1: seq&#x3D;0 ttl&#x3D;64 time&#x3D;0.213 ms<br>^C<br>â€” 172.17.0.1 ping statistics â€”<br>1 packets transmitted, 1 packets received, 0% packet loss<br>round-trip min&#x2F;avg&#x2F;max &#x3D; 0.213&#x2F;0.213&#x2F;0.213 ms</p>
<p>~ # nc -vv 172.17.0.1 12345<br>nc: 172.17.0.1 (172.17.0.1:12345): Connection refused<br>sent 0, rcvd 0</p>
<p>ä¹Ÿä¸è¡Œï¼å› ä¸ºè¯·æ±‚ä¸æ˜¯ä» 127 æ¥çš„è€Œæ˜¯172ï¼å¦‚æœæƒ³è¦ä»å®¹å™¨å†…å¯ä»¥è®¿é—®ï¼Œé‚£ä¹ˆncå°±è¦ç›‘å¬åœ¨ç½‘æ¡¥çš„åœ°å€ï¼Œå¦‚ <code>nc -klv 172.17.0.1</code></p>
<p>[v_act]å’±ä¹Ÿä¸çŸ¥é“ä¸ºå•¥è¦ç»™loopbackåˆ†é…é‚£ä¹ˆå¤šåœ°å€ï¼Œèƒ½æŠŠè¿™äº›æ‹¿å‡ºæ¥åšå…¶ä»–çš„ç”¨é€”å¯èƒ½ä¼šæ›´æœ‰è¶£ã€‚[&#x2F;v_act]</p>
<h2 id="0-0-0-0ä¸"><a href="#0-0-0-0ä¸" class="headerlink" title="0.0.0.0ä¸ ::"></a>0.0.0.0ä¸ ::</h2><p>[v_act]è¿™é‡Œçš„ 0.0.0.0 ä¸æ˜¯åœ¨æŒ‡é»˜è®¤è·¯ç”±ï¼ŒæŒ‡çš„æ˜¯æœ¬æœºæ‰€æœ‰çš„ IPv4åœ°å€ï¼Œ:: ç±»ä¼¼åœ°æŒ‡çš„æ˜¯æœ¬æœºæ‰€æœ‰çš„IPv6 åœ°å€ã€‚[&#x2F;v_act]</p>
<p>å½“ä½ çš„åº”ç”¨ç›‘å¬åœ¨ <code>0.0.0.0</code>æ—¶ï¼Œæ‰€æœ‰çš„å¯è¾¾çš„IPv4åœ°å€éƒ½å¯ä»¥è®¿é—®åˆ°ã€‚æ¯”å¦‚è¯´ï¼Œæœ¬æœºï¼Œdocker å®¹å™¨ï¼Œä½ çš„è·¯ç”±å™¨ç­‰ç­‰éƒ½å¯ä»¥ã€‚æˆ‘ä»¬å¯ä»¥è¯•è¯•çœ‹<code>nc -klv 0.0.0.0 12345</code></p>
<h3 id="ä»MacBookè¿åˆ°-PVE-çš„è™šæ‹Ÿæœº"><a href="#ä»MacBookè¿åˆ°-PVE-çš„è™šæ‹Ÿæœº" class="headerlink" title="ä»MacBookè¿åˆ° PVE çš„è™šæ‹Ÿæœº"></a>ä»MacBookè¿åˆ° PVE çš„è™šæ‹Ÿæœº</h3><p>[18:17:02] benny:~ $ nc -v 192.168.7.55 12345<br>Connection to 192.168.7.55 port 12345 [tcp&#x2F;italk] succeeded!</p>
<h3 id="ä»PVEçš„è™šæ‹Ÿæœºçš„å®¹å™¨è¿ç½‘æ¡¥"><a href="#ä»PVEçš„è™šæ‹Ÿæœºçš„å®¹å™¨è¿ç½‘æ¡¥" class="headerlink" title="ä»PVEçš„è™šæ‹Ÿæœºçš„å®¹å™¨è¿ç½‘æ¡¥"></a>ä»PVEçš„è™šæ‹Ÿæœºçš„å®¹å™¨è¿ç½‘æ¡¥</h3><p>~ # cat &#x2F;etc&#x2F;issue<br>Welcome to Alpine Linux 3.18<br>Kernel \r on an \m (\l)</p>
<p>~ # nc -v 172.17.0.1 12345<br>172.17.0.1 (172.17.0.1:12345) open</p>
<p>å™¢ï¼æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œå¦‚æœä½ æ˜¯ macOSæˆ–è€…Windowsçš„è¯ï¼Œç”±äºè¿™ä¸¤è€…å¹¶ä¸åŸç”Ÿæ”¯æŒ dockerï¼Œæ‰€ä»¥ä»–ä»¬çš„dockerå®é™…ä¸Šæ˜¯è·‘åœ¨è™šæ‹Ÿæœºé‡Œçš„ã€‚æ­¤æ—¶ä½  <code>nc -v 172.17.0.1</code> ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºè¿™é‡Œ<code>172.17.0.1</code> ä»£è¡¨çš„æ˜¯è™šæ‹Ÿæœºçš„ç½‘æ¡¥ï¼Œè€Œä¸æ˜¯ä½ çš„ç”µè„‘çš„ç½‘æ¡¥ã€‚æ­¤æ—¶ä½ éœ€è¦ <code>host.docker.internal</code>è¿™ä¸ªå†…éƒ¨åŸŸåã€‚ [v_blue]Windows çš„è¯ï¼Œå…·ä½“æƒ…å†µæˆ‘æ²¡æµ‹è¯•ï¼Œå› ä¸ºæœ‰ Hyper Vå’ŒWSLä¸¤ç§æƒ…å†µã€‚[&#x2F;v_blue]</p>
<h3 id="å¦‚æœæ­¤æ—¶æˆ‘ä»¬åœ¨æœ¬æœºé€šè¿‡-1-å°è¯•è¿æ¥"><a href="#å¦‚æœæ­¤æ—¶æˆ‘ä»¬åœ¨æœ¬æœºé€šè¿‡-1-å°è¯•è¿æ¥" class="headerlink" title="å¦‚æœæ­¤æ—¶æˆ‘ä»¬åœ¨æœ¬æœºé€šè¿‡ ::1 å°è¯•è¿æ¥"></a>å¦‚æœæ­¤æ—¶æˆ‘ä»¬åœ¨æœ¬æœºé€šè¿‡ <code>::1</code> å°è¯•è¿æ¥</h3><p>~ â¤ nc -v ::1 12345<br>nc: connectx to ::1 port 12345 (tcp) failed: Connection refused</p>
<p>å½“ç„¶ä¸è¡Œäº†ï¼Œncéƒ½æ˜ç¡®æŒ‡æ˜åªç›‘å¬ IPv4çš„ï¼Œé‚£ä¹ˆé€šè¿‡v6è‡ªç„¶è¿ä¸ä¸Š</p>
<p>Â </p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¦‚æœæŒ‡å®š nc åªç›‘å¬ IPv6ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯ <code>nc -v 127.0.0.1 12345</code> å°±ä¸è¡Œäº†å‘¢ï¼Ÿ</p>
<p>nc -klv :: 12345</p>
<p>å†å¼€ä¸€ä¸ªæ–°çª—å£</p>
<p>~ â¤ nc -v 127.0.0.1 12345<br>Connection to 127.0.0.1 port 12345 [tcp&#x2F;italk] succeeded!<br>^C</p>
<p>~ â¤ nc -v ::1 12345<br>Connection to ::1 port 12345 [tcp&#x2F;italk] succeeded!</p>
<p>å•Šï¼Œç«Ÿç„¶éƒ½å¯ä»¥ï¼Œæ„å‘³ç€æ— è®ºæ˜¯IPv4è¿˜æ˜¯IPv6éƒ½å¯ä»¥è¿æ¥ï¼</p>
<p>[v_blue]nc -klv localhost 12345 å‘¢ï¼Ÿè¿™å–å†³äº localhost çš„è§£æç»“æœ[&#x2F;v_blue]</p>
<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<h2 id="net-ipv6-bindv6only"><a href="#net-ipv6-bindv6only" class="headerlink" title="net.ipv6.bindv6only"></a>net.ipv6.bindv6only</h2><p>è¿™æ˜¯ Linux å†…æ ¸çš„ä¸€ä¸ªå‚æ•°ï¼Œç”¨äºå®šä¹‰ç›‘å¬IPv6åœ°å€æ—¶çš„è¡Œä¸ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå€¼æ˜¯0 ç¦ç”¨ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œå¦‚æœä½ ç›‘å¬äº†<code>::</code> é‚£ä¹ˆä¹Ÿç›¸å½“äºç›‘å¬äº† <code>0.0.0.0</code></p>
<p>ä» <code>netstat</code> ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡º</p>
<h3 id="å¦‚æœæ˜¯-çš„è¯"><a href="#å¦‚æœæ˜¯-çš„è¯" class="headerlink" title="å¦‚æœæ˜¯ :: çš„è¯"></a>å¦‚æœæ˜¯ :: çš„è¯</h3><p>tcp6 0 0 :::12345 :::* LISTEN 1925847&#x2F;nc</p>
<h3 id="å¦‚æœæ˜¯-0-0-0-0çš„è¯"><a href="#å¦‚æœæ˜¯-0-0-0-0çš„è¯" class="headerlink" title="å¦‚æœæ˜¯ 0.0.0.0çš„è¯"></a>å¦‚æœæ˜¯ 0.0.0.0çš„è¯</h3><p>tcp 0 0 0.0.0.0:12345 0.0.0.0:* LISTEN 1926110&#x2F;nc</p>
<h3 id="å¦‚æœæˆ‘ä»¬é€šè¿‡-sysctl-å¯ç”¨è¿™ä¸ªå‚æ•°"><a href="#å¦‚æœæˆ‘ä»¬é€šè¿‡-sysctl-å¯ç”¨è¿™ä¸ªå‚æ•°" class="headerlink" title="å¦‚æœæˆ‘ä»¬é€šè¿‡ sysctl å¯ç”¨è¿™ä¸ªå‚æ•°"></a>å¦‚æœæˆ‘ä»¬é€šè¿‡ <code>sysctl</code> å¯ç”¨è¿™ä¸ªå‚æ•°</h3><p>sysctl net.ipv6.bindv6only&#x3D;1</p>
<p>ç„¶åå†æ¬¡ç›‘å¬ <code>nc -klv :: 12345</code></p>
<p>å†æ¬¡é€šè¿‡ ncå»è¿æ¥ <code>127.0.0.1</code></p>
<p>nc -v 127.0.0.1 12345<br>nc: connect to 127.0.0.1 port 12345 (tcp) failed: Connection refused</p>
<p>å°±ä¼šå‘ç°è¿ä¸ä¸Šäº†ï¼Œå› ä¸ºæ­¤æ—¶åªç›‘å¬ IPv6çš„åœ°å€ï¼Œå¯¹äºIPv4çš„å¯¹åº”ç«¯å£å¹¶æ²¡æœ‰ç¨‹åºåœ¨ç›‘å¬ã€‚</p>
<p>åœ¨ç»å¤§å¤šæ•° Linux å‘è¡Œç‰ˆä¸­ï¼Œ <code>net.ipv6.bindv6only</code> çš„é»˜è®¤å€¼éƒ½æ˜¯0ï¼Œä¹Ÿå°±æ„å‘³ç€ç›‘å¬åœ¨ <code>::</code> ä¹ŸåŒæ ·æ„å‘³ç€ç›‘å¬åœ¨ <code>0.0.0.0</code> ï¼›æ¢å¥è¯è¯´ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œçœ‹åˆ° <code>tcp6 :::port</code> ä¹Ÿå°±æ„å‘³ç€é€šè¿‡ IPv4 ä¹Ÿå¯ä»¥è¿æ¥ä¸Šã€‚</p>
<p>macOSä¹ŸåŒæ ·æœ‰è¿™æ ·çš„è¡Œä¸ºï¼Œè‡³äºWindowså˜›â€¦â€¦å¯èƒ½ä¹Ÿæ˜¯ï¼Œæˆ‘æ²¡æœ‰Windowsçš„æœºå™¨æ¥åšæµ‹è¯•ã€‚</p>
<h2 id="ç‰¹æ®Šæƒ…å†µ"><a href="#ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="ç‰¹æ®Šæƒ…å†µ"></a>ç‰¹æ®Šæƒ…å†µ</h2><p>å¯¹äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºï¼Œ<code>localhost</code> æ— éå°±æ˜¯å¯¹åº” <code>::1</code> å’Œæˆ– <code>127.0.0.1</code> .ä½†æ˜¯MySQLæ˜¯ä¸ªä¾‹å¤–ï¼Œå½“ä½ ç”¨ <code>localhost</code> æ—¶ï¼ŒMySQLä¼šé€šè¿‡ UNIXå¥—æ¥å­—ï¼ˆ<code>/var/run/mysqld/mysqld.sock</code>ï¼‰ å»è¿æ¥</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li>ç›‘å¬ <code>127.0.0.1</code> æ„å‘³ç€åªæœ‰ä» 127æ¥çš„è¯·æ±‚å¯ä»¥æ¥å—ï¼Œ<code>::1</code> åŒç†</li>
<li>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ <code>net.ipv6.bindv6only=0</code>ä¸ºé»˜è®¤å€¼ã€‚ ç›‘å¬ <code>::</code> åŒæ—¶æ„å‘³ç€ç›‘å¬<code>0.0.0.0</code></li>
<li>åœ¨æœªæ˜ç¡®ç¦ç”¨ IPv6çš„æƒ…å†µä¸‹ï¼Œå³ä¾¿ä½ æ²¡æœ‰IPv6 åœ°å€ï¼Œé‚£ä¹ˆå¤§å¤šæ•°æƒ…å†µä¸‹ <code>localhost</code> ä¹Ÿä¼šè¢« hostså®šä¹‰åˆ° <code>::1</code> å’Œ <code>127.0.0.1</code>ï¼›å¹¶ä¸”ä½ ä¹Ÿèƒ½ç›‘å¬åœ¨ <code>::</code></li>
<li>MySQLçš„localhostæ˜¯å¥—æ¥å­—</li>
<li>å¦‚æœåŒæ—¶è§£æåˆ°äº†IPv6å’ŒIPv4ï¼Œé‚£ä¹ˆåº”è¯¥ä¼˜å…ˆ IPv6ï¼›å¦‚æœIPv6è¿æ¥å¤±è´¥ï¼Œé‚£ä¹ˆç†æƒ³æƒ…å†µæ˜¯åº”è¯¥å›è½åˆ° IPv4ï¼Œæ‰€è°“â€œ<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-cn/Happy_Eyeballs">å¿«ä¹çœ¼çƒï¼ˆHappy eyeballsï¼‰</a>â€ç®—æ³•</li>
</ul>
<hr>
<h2 id="Node-js-ï¼Ÿï¼Ÿï¼Ÿ"><a href="#Node-js-ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="Node.js ï¼Ÿï¼Ÿï¼Ÿ"></a>Node.js ï¼Ÿï¼Ÿï¼Ÿ</h2><p>ä½ ä»¥ä¸ºäº‹æƒ…åˆ°è¿™é‡Œå°±ç»“æŸäº†å—ï¼Ÿå¹¶æ²¡æœ‰ã€‚</p>
<p>æ˜æ˜åº”è¯¥æ”¯æŒå¿«ä¹çœ¼çƒç®—æ³•çš„ï¼Œä½†æ˜¯åç«¯åªç›‘å¬äº† <code>0.0.0.0</code> ä¸ºä»€ä¹ˆ redbirdçš„é…ç½®ä¸­å†™ <code>localhost</code>è¿˜æ˜¯å¤±è´¥äº†å‘¢ï¼Ÿå¹¶ä¸”åœ¨ä½¿ç”¨ Node.js 16çš„æ—¶å€™æ²¡é—®é¢˜ï¼Œ18å°±æœ‰é—®é¢˜äº†ã€‚</p>
<h3 id="é‡æ–°ä½¿ç”¨-nc-ç›‘å¬åˆ°-0-0-0-0"><a href="#é‡æ–°ä½¿ç”¨-nc-ç›‘å¬åˆ°-0-0-0-0" class="headerlink" title="é‡æ–°ä½¿ç”¨ nc ç›‘å¬åˆ° 0.0.0.0"></a>é‡æ–°ä½¿ç”¨ nc ç›‘å¬åˆ° <code>0.0.0.0</code></h3><p>nc -klv 0.0.0.0 12345</p>
<p>å¹¶ä¸”å·²ç»ç¡®è®¤åªæœ‰ IPv4å¯è¾¾ï¼Œåœ¨ <code>nc -v localhost 12345</code> æ—¶ä¼šå…ˆå¤±è´¥å†æˆåŠŸ</p>
<h3 id="ä½¿ç”¨å¦‚ä¸‹ç®€å•çš„-Node-js-ä»£ç æ¥æµ‹è¯•"><a href="#ä½¿ç”¨å¦‚ä¸‹ç®€å•çš„-Node-js-ä»£ç æ¥æµ‹è¯•" class="headerlink" title="ä½¿ç”¨å¦‚ä¸‹ç®€å•çš„ Node.js ä»£ç æ¥æµ‹è¯•"></a>ä½¿ç”¨å¦‚ä¸‹ç®€å•çš„ Node.js ä»£ç æ¥æµ‹è¯•</h3><p>const net &#x3D; require(â€œnetâ€);<br>const client &#x3D; new net.Socket();<br>client.connect(12345, â€œlocalhostâ€, function () {<br>    client.write(`node js ${process.version}\n`);<br>    console.log(â€œConnectedâ€);<br>    process.exit(0);<br>});</p>
<p><img src="/images/2023112603044820.jpeg" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº, ç”µå­é‚®ä»¶ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>è¿™æ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</p>
<p><img src="/images/2023112603044973.png" alt="è²“è²“èŸ²å’–æ³¢-é–‹å¿ƒéš¨ä½ (ä¸Š) - Download Stickers from Sigstick"></p>
<p>$ for i in {12..21}; do nvm use $i &amp;&amp; node test.js; done<br>Now using node v12.22.12 (npm v6.14.16)<br>Connected<br>Now using node v13.14.0 (npm v6.14.4)<br>Connected<br>Now using node v14.21.3 (npm v6.14.18)<br>Connected<br>Now using node v15.14.0 (npm v7.7.6)<br>Connected<br>Now using node v16.20.2 (npm v8.19.4)<br>Connected<br>Now using node v17.9.1 (npm v8.11.0)<br>node:events:505<br>      throw er; &#x2F;&#x2F; Unhandled â€˜errorâ€™ event<br>      ^</p>
<p>Error: connect ECONNREFUSED ::1:12345<br>    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1195:16)<br>Emitted â€˜errorâ€™ event on Socket instance at:<br>    at emitErrorNT (node:internal&#x2F;streams&#x2F;destroy:164:8)<br>    at emitErrorCloseNT (node:internal&#x2F;streams&#x2F;destroy:129:3)<br>    at processTicksAndRejections (node:internal&#x2F;process&#x2F;task_queues:83:21) {<br>  errno: -61,<br>  code: â€˜ECONNREFUSEDâ€™,<br>  syscall: â€˜connectâ€™,<br>  address: â€˜::1â€™,<br>  port: 12345<br>}</p>
<p>Node.js v17.9.1<br>Now using node v18.18.2 (npm v9.8.1)<br>node:events:495<br>      throw er; &#x2F;&#x2F; Unhandled â€˜errorâ€™ event<br>      ^</p>
<p>Error: connect ECONNREFUSED ::1:12345<br>    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)<br>Emitted â€˜errorâ€™ event on Socket instance at:<br>    at emitErrorNT (node:internal&#x2F;streams&#x2F;destroy:151:8)<br>    at emitErrorCloseNT (node:internal&#x2F;streams&#x2F;destroy:116:3)<br>    at process.processTicksAndRejections (node:internal&#x2F;process&#x2F;task_queues:82:21) {<br>  errno: -61,<br>  code: â€˜ECONNREFUSEDâ€™,<br>  syscall: â€˜connectâ€™,<br>  address: â€˜::1â€™,<br>  port: 12345<br>}</p>
<p>Node.js v18.18.2<br>Now using node v19.9.0 (npm v9.6.3)<br>node:events:491<br>      throw er; &#x2F;&#x2F; Unhandled â€˜errorâ€™ event<br>      ^</p>
<p>Error: connect ECONNREFUSED ::1:12345<br>    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1532:16)<br>Emitted â€˜errorâ€™ event on Socket instance at:<br>    at emitErrorNT (node:internal&#x2F;streams&#x2F;destroy:151:8)<br>    at emitErrorCloseNT (node:internal&#x2F;streams&#x2F;destroy:116:3)<br>    at process.processTicksAndRejections (node:internal&#x2F;process&#x2F;task_queues:82:21) {<br>  errno: -61,<br>  code: â€˜ECONNREFUSEDâ€™,<br>  syscall: â€˜connectâ€™,<br>  address: â€˜::1â€™,<br>  port: 12345<br>}</p>
<p>Node.js v19.9.0<br>Now using node v20.10.0 (npm v10.2.3)<br>Connected<br>Now using node v21.2.0 (npm v10.2.3)<br>Connected</p>
<p>å’³ï¼Œä¸è¿‡æ˜¯Node.jsè‡ªä»17å°±å¼„åäº†å¿«ä¹çœ¼çƒç®—æ³•ï¼Œ18ã€19ä¹Ÿæ˜¯åç€çš„ï¼Œç›´åˆ°20æ‰ä¿®å¥½ã€‚16ä¹‹å‰çš„ç‰ˆæœ¬å…¨æ˜¯å¥½çš„ã€‚</p>
<p>18æ˜¯LTSå•Šï¼Œå“ï¼Œè¿™éš¾å…æœ‰ç‚¹å¤ª<a target="_blank" rel="noopener" href="https://twitter.com/BennyThinks/status/1728062988765335859">è‰å°ç­å­</a>äº†å§ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a target="_blank" rel="noopener" href="https://github.com/nodejs/node/issues/41625">https://github.com/nodejs/node/issues/41625</a> <a target="_blank" rel="noopener" href="https://github.com/nodejs/node/issues/40702">https://github.com/nodejs/node/issues/40702</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/26/nodejs-dual-stack/index/" data-id="clqxhsveg0002w1qr4j6o89d1" data-title="Node.js 18å‡çº§ï¼šåŒæ ˆåè®®è¸©å‘" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-steam-deck-stuck/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/25/steam-deck-stuck/index/" class="article-date">
  <time class="dt-published" datetime="2023-11-25T00:00:00.000Z" itemprop="datePublished">2023-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/it/">it</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/25/steam-deck-stuck/index/">Steam Deck å¯åŠ¨æ¸¸æˆå¡ logo</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ€è¿‘ä¹°äº†ä¸ª Steam Deckï¼Œåœ¨ç©æ¸¸æˆçš„æ—¶å€™å‘ç°ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„bugã€‚å½“ä¼‘çœ ä¹‹åå†æ¬¡æ‰“å¼€æ¸¸æˆï¼Œå°±ä¼šä¸åœè½¬ steam logoï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2023/11/2023111419033136.jpeg"><img src="/images/2023111419033136.jpeg"></a></p>
<p>ä½†æ˜¯å¦‚æœæŒ‰èœå•é”®ï¼Œä¼šå‘ç°æ¸¸æˆå·²ç»åŠ è½½æˆåŠŸäº†</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2023/11/2023111419033188.jpeg"><img src="/images/2023111419033188.jpeg"></a></p>
<p>é‡å¯ä¹‹åå¯ä»¥è§£å†³ï¼Œä½†æ˜¯ä¸èƒ½æ¯æ¬¡éƒ½é‡å¯å•Šã€‚</p>
<p>åæ¥å‘ç°ï¼Œåœ¨ <strong>è®¾ç½®-è‡ªå®šä¹‰-ç”¨ä½œå”¤é†’å½±ç‰‡</strong> è¿™ä¸ªå…³æ‰å°±å¯ä»¥äº† ğŸ˜‚</p>
<p>è¿™ç§ Bug ä¹Ÿæ˜¯ç»äº†ğŸ˜“</p>
<h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a target="_blank" rel="noopener" href="https://steamcommunity.com/app/1675200/discussions/1/6348431004268742880/">https://steamcommunity.com/app/1675200/discussions/1/6348431004268742880/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/25/steam-deck-stuck/index/" data-id="clqxhsvet0003w1qr6tqg2y2l" data-title="Steam Deck å¯åŠ¨æ¸¸æˆå¡ logo" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-es-ee-se-unicode/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/09/es-ee-se-unicode/index/" class="article-date">
  <time class="dt-published" datetime="2023-11-09T00:00:00.000Z" itemprop="datePublished">2023-11-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/program/">program</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/09/es-ee-se-unicode/index/">Unicodeç¼–ç ä¹‹è°œï¼šä¸ºä»€ä¹ˆğŸ‡ªğŸ‡¸ğŸ‡ªğŸ‡ªåŒ…å«äº†ğŸ‡¸ğŸ‡ªï¼Ÿ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å¦‚æœä½ æ‰“å¼€ Python consoleï¼Œè¾“å…¥å¦‚ä¸‹ä»£ç </p>
<p>â€œğŸ‡¸ğŸ‡ªâ€ in â€œğŸ‡ªğŸ‡¸ğŸ‡ªğŸ‡ªâ€</p>
<p>ä½ ä¼šæƒŠäººçš„å‘ç°ï¼Œç»“æœæ˜¯ <code>True</code>ï¼ŒåŒæ ·çš„äº‹æƒ…ä¹Ÿå‘ç”Ÿåœ¨ JavaScript ä¸­ã€‚</p>
<p><img src="/images/2023110902065099.png" alt="pasted-movie.png"></p>
<p>ä»€ä¹ˆï¼Ÿ</p>
<p>å…¶å®è¿™ä¸€åˆ‡éƒ½æ˜¯Unicodeçš„é”…ã€‚</p>
<h2 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h2><p>Unicodeæ˜¯ä¸€ç§ç¼–ç æ ‡å‡†ï¼Œå®ƒçš„ç›®çš„æ˜¯ç”µè„‘èƒ½ä»¥é€šç”¨åˆ’ä¸€çš„å­—ç¬¦é›†æ¥å¤„ç†å’Œæ˜¾ç¤ºæ–‡å­—ï¼Œä¸ä½†å‡è½»åœ¨ä¸åŒç¼–ç ç³»ç»Ÿé—´åˆ‡æ¢å’Œè½¬æ¢çš„å›°æ‰°ï¼Œæ›´æä¾›äº†ä¸€ç§è·¨å¹³å°çš„ä¹±ç é—®é¢˜è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ç®€å•çš„è¯´ï¼ŒUnicodeå°±æ˜¯ç»™ä¸–ç•Œä¸Šæ‰€æœ‰çš„æ–‡å­—ç¬¦å·éƒ½ç”¨ä¸€ä¸ªå”¯ä¸€çš„ç¼–å·æ›¿ä»£ã€‚å¤§å®¶éƒ½ç”¨è¿™ä¸€ä¸ªç¼–å·ï¼Œé‚£ä¹ˆå°±èƒ½å¤Ÿæ˜¾ç¤ºä¸€æ ·çš„ä¸œè¥¿è€Œä¸ä¼šé”™ä¹±äº†ã€‚è¿™ä¸ªç¼–å·ï¼Œè¢«ç§°ä½œç ä½(code points)</p>
<h2 id="ç ä½ä¸å­—ä½"><a href="#ç ä½ä¸å­—ä½" class="headerlink" title="ç ä½ä¸å­—ä½"></a>ç ä½ä¸å­—ä½</h2><p>ç ä½æ˜¯ä»€ä¹ˆä¸Šé¢å·²ç»è§£é‡Šäº†ï¼Œå­—ä½ï¼ˆgraphemeï¼‰ æŒ‡çš„æ˜¯æœ€å°çš„æœ‰æ„ä¹‰çš„ä¹¦å†™å•ä½ã€‚æ¯”å¦‚ <code>ğŸ˜„</code> <code>å¡</code> <code>Ã¶</code> è¿™ç§éƒ½ç®—ä¸€ä¸ªå­—ä½ï¼Œæ¢å¥è¯è¯´ï¼Œäººç±»è®¤ä¸ºæ˜¯å•ä¸ªå­—ç¬¦çš„ä¸œè¥¿ï¼Œå°±æ˜¯å­—ä½ã€‚</p>
<p>Unicodeç¥å¥‡çš„åœ°æ–¹åœ¨äºï¼Œå­—ä½å¯ä»¥ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªç ä½ç»„æˆã€‚</p>
<p>æœ‰çš„æ—¶å€™ä½ èƒ½çœ‹åˆ°æœ‰äº›äººçš„IDå¾ˆé•¿é£˜æ»¡æ•´ä¸ªå±å¹•ï¼Œæˆ–è€…è¿™ç§ Òˆçƒ­Òˆå¾—Òˆå­—Òˆéƒ½Òˆå‡ºÒˆæ±—Òˆäº†Òˆ éƒ½æ˜¯å› ä¸ºUnicodeå…è®¸å¤šä¸ªç ä½ç»„æˆä¸€ä¸ªå­—ä½ï¼</p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>ğŸ’©çš„ç ä½æ˜¯ <code>U+1F4A9</code>ï¼Œåªæœ‰è¿™ä¸€ä¸ª</li>
<li>ğŸ‡ªğŸ‡¸çš„ç ä½æ˜¯ä¸¤ä¸ªåŒºåŸŸæŒ‡ç¤ºç¬¦ï¼ŒEå’ŒS <code>U+1F1EA</code> <code>U+1F1F8</code></li>
<li>ğŸ‡ªğŸ‡ªçš„ç ä½ä¹Ÿæ˜¯ä¸¤ä¸ªåŒºæŒ‡ç¤ºç¬¦ï¼ŒE å’ŒE <code>U+1F1EA</code> <code>U+1F1EA</code></li>
<li>ğŸ‡¸ğŸ‡ªä¹ŸåŒç†ï¼ŒSå’ŒEï¼ŒU+1F1F8 U+1F1EA</li>
<li>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ è¿™ä¸ªå°±ææ€–äº†ï¼Œå®ƒæ˜¯è¿™æ ·çš„ ğŸ‘¨ZWSPğŸ‘©ZWSPğŸ‘§ZWSPğŸ‘¦ ç”·å¥³ç”·å­©å¥³å­©+ä¸‰ä¸ª é›¶å®½ç©ºæ ¼ç»„æˆ</li>
</ul>
<p>é‚£ä¹ˆ <code>U+1F1EA U+1F1F8 U+1F1EA U+1F1EA</code> æ˜¯å¦åŒ…å«<code>U+1F1F8 U+1F1EA</code> ï¼Ÿå½“ç„¶äº†ï¼æ°å·§åœ¨ä¸­é—´å‘€ã€‚ç¾å›½å’Œå„ç“œå¤šå°”ä¹ŸåŒ…å«äº†ç‘å…¸ã€‚</p>
<h2 id="å­—ç¬¦ä¸²çš„é•¿åº¦"><a href="#å­—ç¬¦ä¸²çš„é•¿åº¦" class="headerlink" title="å­—ç¬¦ä¸²çš„é•¿åº¦"></a>å­—ç¬¦ä¸²çš„é•¿åº¦</h2><p>å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦åˆ¤æ–­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä»¥ç¡®ä¿ä»–ä»¬ä¸è¶…è¿‡æŒ‡å®šçš„èŒƒå›´ã€‚é‚£ä¹ˆè¿™ä¸ªé•¿åº¦æ˜¯æ€ä¹ˆåˆ¤å®šçš„ï¼Ÿæ¯”å¦‚è¯´å¯¹äºè¿™ä¸ªææ€–å­—ç¬¦ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦æ˜¯ç®—æœ‰å¤šå°‘ä¸ª code pointï¼Œè¿˜æ˜¯å ç”¨å¤šå°‘ä¸ªå­—èŠ‚ï¼Œè¿˜æ˜¯å­—ä½ï¼Ÿ</p>
<p>å¦‚æœæ˜¯å¤šå°‘ä¸ª code pointï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯4+3&#x3D;7ï¼›å¦‚æœæ˜¯å¤šå°‘å­—èŠ‚ï¼Œä»¥UTF8ä¸ºä¾‹ï¼Œé‚£ä¹ˆemoji 4å­—èŠ‚ï¼Œé›¶å®½3å­—èŠ‚ï¼Œ4*4 + 3*3 &#x3D; 16 + 9 &#x3D;25å­—èŠ‚</p>
<h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><p>&gt;&gt; len(â€œğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦â€)</p>
<blockquote>
<blockquote>
<p>7</p>
</blockquote>
</blockquote>
<h3 id="Go"><a href="#Go" class="headerlink" title="Go"></a>Go</h3><p>s :&#x3D; â€œğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦â€</p>
<p>fmt.Println(len(s))<br>fmt.Println(utf8.RuneCountInString(s))</p>
<p>è¾“å‡ºåˆ†åˆ«ä¸º25 å’Œ 7</p>
<h3 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h3><p>â€œğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦â€.length<br>11</p>
<p>æ²¡é”™ï¼ŒJavaScriptæ€»æ˜¯è¿™æ ·ç‹¬æ ‘ä¸€å¸œã€‚å› ä¸ºJavaScriptæ˜¯ç”¨UTF-16ç¼–ç çš„å•¦ã€‚è¡¨æƒ…ç¬¦å·æ˜¯2å­—èŠ‚ï¼Œé›¶å®½å­—ç¬¦æ˜¯1ï¼Œ4*2+3*1&#x3D;11</p>
<p>æ‰€ä»¥å½“ä½ åœ¨è®¡ç®—æœ€é•¿å¤šå°‘ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œå¯è¦æƒ³å¥½äº†å¯¹é¢æ˜¯æ€ä¹ˆç®—çš„ã€‚è¦ä¸ç„¶å¾ˆå®¹æ˜“ç®—é”™å“¦ã€‚</p>
<h2 id="å¾ªç¯å­—ç¬¦ä¸²"><a href="#å¾ªç¯å­—ç¬¦ä¸²" class="headerlink" title="å¾ªç¯å­—ç¬¦ä¸²"></a>å¾ªç¯å­—ç¬¦ä¸²</h2><p>æ‰€ä»¥å¾ªç¯å­—ç¬¦ä¸²ä¹Ÿè¦å°å¿ƒäº†â€¦â€¦è¦ä¸ç„¶å°±å¾ˆå®¹æ˜“ä¼šæŠŠemojiè¿™ç§ä¸œè¥¿å‡­ç©ºåŠˆå¼€ã€‚æ¯”å¦‚è¯´ Pythoné‡Œå¯ä»¥è¿™æ ·å¤„ç†</p>
<p>import grapheme</p>
<p>s &#x3D; â€œğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‡¸ğŸ‡ªğŸ‡¨ğŸ‡³â€<br>for i in grapheme.graphemes(s):<br>    print(i)</p>
<p>è¿™æ ·å°±ä¼šä¾æ¬¡æ‰“å°ä¸‰ä¸ªemoji</p>
<p>æˆ–è€…ä½¿ç”¨è¯­è¨€å¯¹åº”çš„ICUï¼Œæ¯”å¦‚ PyICUç­‰ã€‚</p>
<p>è¿˜æœ‰å¾ˆå¤šç—›è‹¦çš„äº‹æƒ…ç­‰å¾…ä½ å»å‘ç°ğŸ˜‚</p>
<hr>
<p>æ‰€ä»¥ï¼Œæ‡‚äº†å¦‚ä¸Šé“ç†çš„ä½ ï¼Œä¸€å®šçŸ¥é“ä¸ºä»€ä¹ˆ <strong>æ‘©çº³å“¥å’Œè·å…°åŒ…å«äº†ä¸­å›½</strong> äº†å§ï¼Ÿä¸å¦‚æ‰“å¼€å°çº¢ä¹¦â€¦â€¦</p>
<p><img src="/images/2023110902065097.png" alt="pasted-movie.png"></p>
<h2 id="å‚è€ƒé˜…è¯»"><a href="#å‚è€ƒé˜…è¯»" class="headerlink" title="å‚è€ƒé˜…è¯»"></a>å‚è€ƒé˜…è¯»</h2><p><a target="_blank" rel="noopener" href="https://blog.xinshijiededa.men/unicode/">https://blog.xinshijiededa.men/unicode/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/11/09/es-ee-se-unicode/index/" data-id="clqxhsvee0001w1qra4wkat0b" data-title="Unicodeç¼–ç ä¹‹è°œï¼šä¸ºä»€ä¹ˆğŸ‡ªğŸ‡¸ğŸ‡ªğŸ‡ªåŒ…å«äº†ğŸ‡¸ğŸ‡ªï¼Ÿ" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-lede-shadowtls/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/25/lede-shadowtls/index/" class="article-date">
  <time class="dt-published" datetime="2023-05-25T00:00:00.000Z" itemprop="datePublished">2023-05-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/gfw/">gfw</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/25/lede-shadowtls/index/">åœ¨LEDE/OpenWRTä¸Šä½¿ç”¨ShadowTLS</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å‰å‡ å¤©æˆ‘çš„Trojanè¿ç»­è¢«å¢™äº†ä¸¤æ¬¡ã€‚å°½ç®¡Trojanè£…ä½œè‡ªå·±æ˜¯æ­£å¸¸ä¸”æ™®é€šçš„httpsæµé‡ï¼Œä½†è¿˜æ˜¯ä¸­æªäº†ã€‚å¯èƒ½æ˜¯å› ä¸ºæœ€è¿‘æ—¥å­æ¯”è¾ƒéš¾è¿‡ï¼Œæˆ–è€…çƒ­é—¨æœºæˆ¿ä¸æ˜å¤§é‡æµé‡å¼•èµ·äº†æ€€ç–‘</p>
<p>æœ‰ä¸€ä¸ªæ¯”è¾ƒç±»ä¼¼çš„ä¸œè¥¿ï¼Œå«ShadowTLSï¼Œä¹Ÿæ˜¯ç”¨æ¥ä¼ªè£…æµé‡çš„ï¼Œä½“éªŒäº†ä¸€ä¸‹æ„Ÿè§‰ä¹Ÿä¸é”™ã€‚</p>
<p>ShadowTLSæœ¬èº«å¹¶ä¸æä¾›åŠ å¯†ä»£ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾€å¾€è¿˜è¦é…åˆä¸€ä¸ªShadowsocksã€vmessæˆ–è€…trojanä¹‹ç±»çš„ä¸œè¥¿ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡ç«¯è¦è·‘ ShadowTLS Serverå’ŒShadowsocks Serverï¼Œå®¢æˆ·ç«¯è¦è·‘ShadowTLS Clientå’ŒShadowsocks Clientã€‚å½“ç„¶ï¼Œè‰ºé«˜äººèƒ†å¤§çš„ä½ ä¹Ÿå¯ä»¥æŠŠshadowsocksæ›¿æ¢æˆ<code>nc</code>ï¼Œãªã‚“ã§ã‚‚ãªã„ã‚ˆï¼</p>
<h2 id="æœåŠ¡ç«¯é…ç½®"><a href="#æœåŠ¡ç«¯é…ç½®" class="headerlink" title="æœåŠ¡ç«¯é…ç½®"></a>æœåŠ¡ç«¯é…ç½®</h2><p>ä»¥dockerä¸ºä¾‹ï¼Œç›´æ¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://github.com/ihciah/shadow-tls/wiki/Run-with-Docker-Compose">å®˜æ–¹wiki</a>æ”¹æ”¹å°±è¡Œäº†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œå¿…é¡»è¦ç”¨hostç½‘ç»œæ¨¡å¼ï¼Œå› ä¸ºè¦é…ç½®<code>ss-server</code>ç»‘å®šåˆ° ShadowTLSçš„åœ°å€ï¼ˆé€šå¸¸æˆ‘ä»¬æ˜¯ç›‘å¬åˆ°<code>0.0.0.0</code>ï¼‰ï¼Œå› æ­¤hostæ¨¡å¼æœ€ç®€å•</p>
<p>version: â€˜2.4â€™<br>services:<br>  shadowsocks:<br>    image: shadowsocks&#x2F;shadowsocks-libev<br>    restart: always<br>    network_mode: â€œhostâ€<br>    environment:<br>      - SERVER_PORT&#x3D;24000<br>      - SERVER_ADDR&#x3D;127.0.0.1<br>      - METHOD&#x3D;aes-256-gcm<br>      - PASSWORD&#x3D;test-ss-password</p>
<p>  shadow-tls:<br>    image: ghcr.io&#x2F;ihciah&#x2F;shadow-tls:latest<br>    restart: always<br>    network_mode: â€œhostâ€<br>    environment:<br>      - MODE&#x3D;server<br>      - LISTEN&#x3D;0.0.0.0:443<br>      - SERVER&#x3D;127.0.0.1:24000<br>      - TLS&#x3D;<a target="_blank" rel="noopener" href="http://www.microsoft.com:443/">www.microsoft.com:443</a><br>      - PASSWORD&#x3D;test-shadow-tls-password</p>
<ul>
<li><code>test-ss-password</code> sså®¢æˆ·ç«¯ä½¿ç”¨çš„å¯†ç ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨ShadowTLSçš„ç›‘å¬ç«¯å£443æ¥è¿æ¥</li>
<li><code>test-shadow-tls-password</code> ShadowTLSå®¢æˆ·ç«¯ä½¿ç”¨çš„å¯†ç </li>
</ul>
<h2 id="Shadowrocketå®¢æˆ·ç«¯é…ç½®"><a href="#Shadowrocketå®¢æˆ·ç«¯é…ç½®" class="headerlink" title="Shadowrocketå®¢æˆ·ç«¯é…ç½®"></a>Shadowrocketå®¢æˆ·ç«¯é…ç½®</h2><p>å¦‚æœä½ ä½¿ç”¨shadowrocketï¼Œé‚£ä¹ˆå°±å¾ˆç®€å•äº†ï¼Œæ­£å¸¸é…ç½®ï¼Œç«¯å£å†™ShadowTLSçš„443ï¼Œæ’ä»¶-ShadowTLSï¼Œç‰ˆæœ¬2ï¼Œå¡«å…¥å¯†ç å’Œhostï¼ˆæœ¬ä¾‹<code>www.microsoft.com</code> ï¼‰</p>
<p><img src="/images/2023052503080949.jpeg" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº, ç”µå­é‚®ä»¶ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="æ‰‹åŠ¨é…ç½®å®¢æˆ·ç«¯"><a href="#æ‰‹åŠ¨é…ç½®å®¢æˆ·ç«¯" class="headerlink" title="æ‰‹åŠ¨é…ç½®å®¢æˆ·ç«¯"></a>æ‰‹åŠ¨é…ç½®å®¢æˆ·ç«¯</h2><p>shadow-tls-aarch64-apple-darwin client â€“server IP:443 â€“sni <a target="_blank" rel="noopener" href="http://www.microsoft.com/">www.microsoft.com</a> â€“password test-shadow-tls-password â€“listen 127.0.0.1:3443</p>
<p>sslocal -s localhost:3443 -m aes-256-gcm -k test-ss-password -b 127.0.0.1:17765</p>
<p>è¿™æ ·ä¸€æ³¢æ“ä½œä¹‹åï¼Œä½ çš„ 17765å°±æ˜¯socks5äº†ï¼ŒProxySwitchyOmegaä¹‹ç±»çš„é…ç½®ä¸€ä¸‹å°±å¯ä»¥ç”¨äº†ã€‚</p>
<h2 id="docker-composeé…ç½®å®¢æˆ·ç«¯"><a href="#docker-composeé…ç½®å®¢æˆ·ç«¯" class="headerlink" title="docker-composeé…ç½®å®¢æˆ·ç«¯"></a>docker-composeé…ç½®å®¢æˆ·ç«¯</h2><p>è¿™é‡Œæ²¡æœ‰å¿…è¦hostç½‘ç»œï¼Œ<code>ss-local</code>è¿æ¥åˆ°ShadowTLSçš„ç›‘å¬ç«¯å£å°±å¯ä»¥ï¼Œç”±äºéƒ½åœ¨ä¸€ä¸ªç½‘ç»œé‡Œï¼Œæ‰€ä»¥ç›´æ¥æŒ‡å®šå®¹å™¨åtlså°±å¯ä»¥äº†ã€‚</p>
<p>version: â€˜2.4â€™<br>services:<br>  shadow-tls:<br>    image: ghcr.io&#x2F;ihciah&#x2F;shadow-tls:latest<br>    restart: always<br>    environment:<br>      - MODE&#x3D;client<br>      - LISTEN&#x3D;0.0.0.0:3443<br>      - SERVER&#x3D;64.176.34.43:443<br>      - TLS&#x3D;<a target="_blank" rel="noopener" href="http://www.microsoft.com/">www.microsoft.com</a><br>      - PASSWORD&#x3D;test-shadow-tls-password</p>
<p>  shadowsocks:<br>    image: shadowsocks&#x2F;shadowsocks-libev<br>    restart: always<br>    command: ss-local -s shadow-tls -p 3443 -l 17765 -b 0.0.0.0 -k test-ss-password -m aes-256-gcm<br>    ports:<br>      - â€œ127.0.0.1:17765:17765â€</p>
<h2 id="LEDE-x2F-OpenWRTé…ç½®"><a href="#LEDE-x2F-OpenWRTé…ç½®" class="headerlink" title="LEDE&#x2F;OpenWRTé…ç½®"></a>LEDE&#x2F;OpenWRTé…ç½®</h2><p>åŸºæœ¬å’Œä¸Šé¢ä¸€æ ·ï¼Œä¹Ÿè®¸å·²ç»æœ‰äººåšè¿‡æ’ä»¶äº†ï¼Ÿåæ­£ä¹Ÿè¦å…ˆè¿è¡ŒShadowTLS</p>
<p><img src="/images/2023052503080929.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, èŠå¤©æˆ–çŸ­ä¿¡ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>ç„¶åå»LUCIä¸­æ·»åŠ é…ç½®ï¼ŒssæœåŠ¡å™¨åœ°å€å†™<code>127.0.0.1</code>ï¼Œç«¯å£å†™<code>3443</code>ï¼ˆShadowTLSçš„ç«¯å£ï¼‰å¯åŠ¨æœåŠ¡ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼Œå¦‚æœä½ çš„è¿è¡Œæ¨¡å¼æ˜¯GFWlistï¼Œé‚£ä¹ˆæ²¡é—®é¢˜ï¼›å¦‚æœæ˜¯å…¨å±€æˆ–è€…chnrouteï¼ˆç»•è¿‡å¤§é™†IPï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šæ‰“ç¯ã€‚æˆ‘ä¸€èˆ¬å–œæ¬¢ç”¨chnrouteï¼Œä¸¤è¾¹çš„å¥½å¤„éƒ½å ğŸ™ƒï¸</p>
<p><img src="/images/2023052503081094.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>æ­¤æ—¶è¦åšçš„äº‹æƒ…æ˜¯æ·»åŠ ä¸€ä¸ªä¾‹å¤–ï¼Œåœ¨æˆ‘çš„è¿™ä¸ªæ’ä»¶é‡Œï¼Œæ˜¯è®¿é—®æ§åˆ¶- WAN IPè®¿é—®æ§åˆ¶ -ä¸èµ°ä»£ç†çš„WAN IP</p>
<p><img src="/images/2023052503081193.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº, Teams æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>å…¶ä»–çš„æ’ä»¶ï¼Œæ¯”å¦‚passwallï¼Œä¹Ÿåº”è¯¥æœ‰ç±»ä¼¼çš„è®¾ç½®ğŸ« </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/05/25/lede-shadowtls/index/" data-id="cli8jlcy00000g9qr9go2b3xa" data-title="åœ¨LEDE/OpenWRTä¸Šä½¿ç”¨ShadowTLS" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-zero-trust-private-dns/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/01/zero-trust-private-dns/index/" class="article-date">
  <time class="dt-published" datetime="2023-05-01T00:00:00.000Z" itemprop="datePublished">2023-05-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloudflare/">cloudflare</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/01/zero-trust-private-dns/index/">Cloudflare Zero Trust æ·»åŠ ç§æœ‰è§£æDNS</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å¾ˆå¤šå…¬å¸ï¼Œå°¤å…¶æ˜¯è·¨å›½å¤§å…¬å¸ï¼Œä¼šè¦æ±‚å‘˜å·¥è¿æ¥VPNï¼ˆæˆ–è€…åˆ°åŠå…¬å®¤ï¼‰æ¥è¿›å…¥åˆ°ä¸€ä¸ª10æ®µçš„å¤§å†…ç½‘ã€‚åœ¨è¿™ä¸ªå†…ç½‘å†…æ–¹èƒ½è®¿é—®å„ç§å…¬å¸å†…éƒ¨çš„èµ„æºï¼Œæ¯”å¦‚GitLabã€Confluenceã€Jiraä¹‹ç±»çš„ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹å°±æ˜¯åšäº†ç§æœ‰DNSè§£æï¼Œè¿™ä¸ªè§£æè®°å½•å¹¶ä¸ä¼šå‘å¸ƒåˆ°å…¬ç½‘ä¸Šï¼Œå°±åƒä½ å®¶è·¯ç”±å™¨å¯¹äºä¸»æœºåä¸ºhomeè¿™å°è®¾å¤‡çš„è§£æä¸€æ ·ï¼Œåªæœ‰è¿›å…¥äº†ä½ å®¶çš„ç½‘ç»œæ‰æœ‰ã€‚</p>
<p>åœ¨ä½¿ç”¨Cloudflare Zero Trustçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åšåˆ°ç§æœ‰DNSè§£æï¼Œå¹¶ä¸”å®Œå…¨å…è´¹ï¼ä½¿ç”¨Cloudflare Zero Trustï¼Œé›¶æˆæœ¬çš„åˆ›å»ºä½ çš„å·¥ä½œç½‘ç»œç¯å¢ƒï¼Œå¦‚æ­¤ç®€å•ï¼</p>
<h2 id="è®¾ç½®DNSæœåŠ¡å™¨"><a href="#è®¾ç½®DNSæœåŠ¡å™¨" class="headerlink" title="è®¾ç½®DNSæœåŠ¡å™¨"></a>è®¾ç½®DNSæœåŠ¡å™¨</h2><p>æ—¢ç„¶è¦è®¾ç½®ç§æœ‰DNSè§£æï¼Œé‚£ä¹ˆæ¯«æ— ç–‘é—®éœ€è¦è®¾ç½®ä¸€ä¸ªç”±æˆ‘ä»¬æŒæ§çš„DNSæœåŠ¡å™¨ã€‚ç®€å•èµ·è§ï¼Œè¿™é‡Œæˆ‘ç›´æ¥åœ¨è·¯ç”±å™¨ä¸Šè®¾ç½®è§£æã€‚å¦‚æœä½ ä½¿ç”¨çš„ä¹Ÿæ˜¯LEDE&#x2F;OpenWRTï¼Œé‚£ä¹ˆåœ¨ ç½‘ç»œ-DHCP&#x2F;DNSï¼Œæœ€ä¸‹é¢ ã€Œè‡ªå®šä¹‰åŸŸåæŒŸæŒã€ä¸­å¡«å…¥ä½ çš„åŸŸåå’Œè§£æåˆ°çš„IPåœ°å€ã€‚å½“ç„¶è¿™ä¸ªIPv4åœ°å€ä¹Ÿå¯ä»¥å†™åˆ°å…¬ç½‘IPï¼Œåªä¸è¿‡è¿™æ ·æœ‰äº›æç¬‘ğŸ¥¸</p>
<p><img src="/images/2023042200381642.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>æ·»åŠ ä¿å­˜ä¹‹åï¼Œåˆ·æ–°ä¸€ä¸‹æœ¬åœ°çš„DNSç¼“å­˜ï¼Œå°±åº”è¯¥å‘ç°å·²ç»èƒ½pingé€šäº†</p>
<p><img src="/images/2023042200381753.png" alt="æ–‡æœ¬ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="æ³¨å†ŒWARP"><a href="#æ³¨å†ŒWARP" class="headerlink" title="æ³¨å†ŒWARP"></a>æ³¨å†ŒWARP</h2><p>å…·ä½“å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« <a target="_blank" rel="noopener" href="https://dmesg.app/cf-zero-trust.html">ã€Šä½¿ç”¨Cloudflare Zero Truståˆ›å»ºå¤§å†…ç½‘ã€‹</a>ï¼Œç®€å•çš„è¯´å°±æ˜¯é…ç½®Cloudflared Tunnelã€åˆ›å»ºWARPè®¾å¤‡æ³¨å†Œæƒé™ã€åˆ›å»ºWARP Profileã€é€‰æ‹©Split Tunnelçš„æ¨¡å¼ï¼Œç„¶åä¸‹è½½WARPè®¤è¯è¿æ¥ã€‚è¿™é‡ŒWARPå°±ç›¸å½“äºå…¬å¸ç»™ä½ å®‰è£…çš„VPNäº†ã€‚</p>
<p>å†æä¸€ä¸‹includeå’Œexcludeè¿™ä¸¤ç§Split Tunnelçš„åŒºåˆ«ï¼š</p>
<ul>
<li>Includeï¼šç±»ä¼¼äºWireGuardçš„<code>allowIP=192.168.7.0/24</code>, å…¶ä»–éæŒ‡å®šç½‘æ®µçš„æµé‡ä¼šç›´æ¥ä»ä½ çš„ç½‘ç»œå‡ºå»ï¼Œä¸èµ°Cloudflareï¼Œå¯ä»¥ç†è§£æˆéå…¨å±€VPNã€‚æ­¤æ—¶ä½ éœ€è¦å»includeçš„è§„åˆ™ä¸­æ·»åŠ ä½ çš„ <code>192.168.7.0/24</code></li>
<li>Excludeï¼šæ‰€æœ‰æµé‡éƒ½è¦èµ°Cloudflareï¼Œç±»ä¼¼å…¨å±€VPNã€‚æ­¤æ—¶ä½ éœ€è¦å»excludeçš„è§„åˆ™ä¸­åˆ é™¤ä½ çš„<code>192.168.7.0/24</code></li>
</ul>
<p>æ— è®ºä½ æ˜¯é€‰æ‹©includeè¿˜æ˜¯excludeï¼Œç¡®ä¿è¿æ¥WARPåï¼Œèƒ½å¤Ÿpingé€šå†…ç½‘çš„IPå°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥äº†ã€‚</p>
<h2 id="é…ç½®DNS-fallback"><a href="#é…ç½®DNS-fallback" class="headerlink" title="é…ç½®DNS fallback"></a>é…ç½®DNS fallback</h2><p>åœ¨Zero Trustç½‘é¡µä¸Šï¼Œè¿›å…¥åˆ°Profileé…ç½®é¡µé¢ï¼Œä¸‹æ‹‰èƒ½æ‰¾åˆ° Local Domain Fallback</p>
<p><img src="/images/2023042200381896.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº, Teams æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>ç‚¹å‡»Manageï¼Œå·¦ä¾§æ·»åŠ åŸŸåã€DNSæœåŠ¡å™¨å’Œå¤‡æ³¨ã€‚è¿™ä¸ªDNSæœåŠ¡å™¨å°±æ˜¯ä¸Šé¢é…ç½®å¥½çš„é‚£ä¸ªã€‚</p>
<p><img src="/images/2023042200381969.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><h3 id="å†…ç½‘æµ‹è¯•"><a href="#å†…ç½‘æµ‹è¯•" class="headerlink" title="å†…ç½‘æµ‹è¯•"></a>å†…ç½‘æµ‹è¯•</h3><p>æˆ‘ç°åœ¨è¿åˆ°äº†å®¶é‡Œçš„ç½‘ç»œï¼Œå› æ­¤è‚¯å®šèƒ½è§£æ <code>samba.dmesg.app</code> è¿™ä¸ªåŸŸåçš„ï¼Œæ­¤å¤„æ²¡æœ‰ä»»ä½•é—®é¢˜</p>
<h3 id="å¤–ç½‘æµ‹è¯•"><a href="#å¤–ç½‘æµ‹è¯•" class="headerlink" title="å¤–ç½‘æµ‹è¯•"></a>å¤–ç½‘æµ‹è¯•</h3><p>æ‰‹æœºå¼€ä¸ªçƒ­ç‚¹ï¼Œç”µè„‘è¿æ¥ä¸Š</p>
<p><img src="/images/2023042200382056.png" alt="æ–‡æœ¬ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>è¿æ¥WARPï¼</p>
<p><img src="/images/2023042200382134.png"></p>
<p>ç§æœ‰è§£æå®Œæˆï¼</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ„Ÿè°¢Cloudflareä¸ºæˆ‘ä»¬æä¾›äº†è¿™ä¹ˆå¥½ç”¨çš„ç½‘ç»œæœåŠ¡ã€‚å°å…¬å¸å¯ä»¥ç›´æ¥ç”¨Cloudflare Zero Trust ç»„å»ºè‡ªå·±çš„å†…ç½‘äº†ï¼Œç„¶åç”¨Firewall Policiesè¿›è¡Œé€‚å½“çš„æƒé™æ§åˆ¶ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/05/01/zero-trust-private-dns/index/" data-id="clhp7rto100c4s2qrgntdhgy2" data-title="Cloudflare Zero Trust æ·»åŠ ç§æœ‰è§£æDNS" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-cloudflare-access-gfwed-server/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/29/cloudflare-access-gfwed-server/index/" class="article-date">
  <time class="dt-published" datetime="2023-04-29T00:00:00.000Z" itemprop="datePublished">2023-04-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloudflare/">cloudflare</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/29/cloudflare-access-gfwed-server/index/">ä½¿ç”¨Cloudflare Zero Trustè¿æ¥è¢«å¢™çš„æœåŠ¡å™¨</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æˆ‘æœ‰äº›æœåŠ¡å™¨è¢«å¢™äº†ï¼Œé™¤äº†é€šè¿‡è·³æ¿æœºè¿æ¥ï¼Œè¿˜æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•å—ï¼Ÿå½“ç„¶æœ‰äº†ï¼Œä½¿ç”¨Cloudflare Zero Trustå³å¯ã€‚æˆ‘ä»¬ä¸ä»…å¯ä»¥ä½¿ç”¨sshå®¢æˆ·ç«¯ï¼Œç”šè‡³è¿˜å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®ã€‚é™¤äº†SSHåè®®ä¹‹å¤–ï¼ŒRDPã€SMBç”šè‡³ä»»ä½•å¥‡å¥‡æ€ªæ€ªçš„åè®®éƒ½å¯ä»¥ã€‚</p>
<h2 id="å®‰è£…å¹¶è¿æ¥cloudflared"><a href="#å®‰è£…å¹¶è¿æ¥cloudflared" class="headerlink" title="å®‰è£…å¹¶è¿æ¥cloudflared"></a>å®‰è£…å¹¶è¿æ¥cloudflared</h2><p>é¦–å…ˆè¿˜æ˜¯è¦æƒ³åŠæ³•è¿æ¥åˆ°è¢«å¢™çš„æœºå™¨ï¼Œä¸‹è½½cloudflared</p>
<p><a target="_blank" rel="noopener" href="https://github.com/cloudflare/cloudflared/releases">https://github.com/cloudflare/cloudflared/releases</a></p>
<p>åœ¨ç½‘é¡µä¸ŠAccess â€“ Tunnelsä¸­åˆ›å»ºä¸€ä¸ª Tunnelï¼Œç„¶åæŒ‰ç…§æç¤ºå®‰è£…ã€‚</p>
<hr>
<h1 id="è¿æ¥åˆ°æœåŠ¡å™¨"><a href="#è¿æ¥åˆ°æœåŠ¡å™¨" class="headerlink" title="è¿æ¥åˆ°æœåŠ¡å™¨"></a>è¿æ¥åˆ°æœåŠ¡å™¨</h1><p>Cloudflareæä¾›äº†ä¸‰ç§é€šè¿‡tunnelè¿æ¥åˆ°æœåŠ¡å™¨çš„æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯é€šè¿‡å®¢æˆ·ç«¯å®‰è£…WARPï¼Œç¬¬äºŒç§æ˜¯é€šè¿‡å®¢æˆ·ç«¯å®‰è£…<code>cloudflared</code>ï¼Œç¬¬ä¸‰ç§æ˜¯ç›´æ¥é€šè¿‡æµè§ˆå™¨è®¿é—®ã€‚</p>
<h2 id="é€šè¿‡WARPè¿æ¥æœåŠ¡å™¨"><a href="#é€šè¿‡WARPè¿æ¥æœåŠ¡å™¨" class="headerlink" title="é€šè¿‡WARPè¿æ¥æœåŠ¡å™¨"></a>é€šè¿‡WARPè¿æ¥æœåŠ¡å™¨</h2><p>è¿™ç§åŠæ³•å…¶å®å’Œ<a target="_blank" rel="noopener" href="https://dmesg.app/cf-zero-trust.html">ã€Šä½¿ç”¨Cloudflare Zero Truståˆ›å»ºå¤§å†…ç½‘ã€‹</a>ä¸€æ ·ï¼ŒåŒºåˆ«åªæ˜¯åˆ›å»ºå¤§å†…ç½‘æ—¶ï¼Œæˆ‘ä»¬å†…ç½‘çš„è®¾å¤‡å†™çš„æ˜¯å±€åŸŸç½‘IPï¼Œè€Œè¿™é‡Œåˆ™å¯èƒ½ä¼šå†™å…¬ç½‘IPã€‚ä½†æ˜¯æœ¬è´¨ä¸Šæ²¡æœ‰åŒºåˆ«å“’ï¼</p>
<p>åœ¨ç½‘é¡µä¸ŠTunnelä¸­ï¼Œé…ç½®<strong>Private Network</strong>ï¼Œå¡«å…¥æœåŠ¡å™¨çš„IPã€‚å¦‚æœç±»ä¼¼GCPé‚£ç§åˆ†é…çš„å†…ç½‘IPï¼Œç›´æ¥å†™å†…ç½‘IPå¯¹åº”çš„æ®µä¹Ÿå¯ä»¥ï¼›å¦åˆ™ç›´æ¥å†™å…¬ç½‘IPä¹Ÿå¯ä»¥ã€‚</p>
<p>è€ç”Ÿå¸¸è°ˆï¼Œåˆ›å»ºProfileï¼Œè¡¨è¾¾å¼å†™æ¯”å¦‚è¯´ <a href="mailto:ssh@dmesg.app">ssh@dmesg.app</a></p>
<p><img src="/images/2023042202404060.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>Split Tunnelé€‰æ‹©includeï¼Œç„¶åæ·»åŠ æœåŠ¡å™¨çš„IPã€‚</p>
<p><img src="/images/2023042202404112.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>ä½¿ç”¨WARPè¿æ¥ï¼Œè¾“å…¥é‚®ç®±è¿›è¡ŒéªŒè¯</p>
<p>WARPè¿æ¥æˆåŠŸä¹‹åï¼Œå°±ä¼šå‘ç°èƒ½SSHå•¦ï¼Œå†ä¹Ÿä¸æ€•GFWäº†</p>
<p><img src="/images/2023042202404290.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, èŠå¤©æˆ–çŸ­ä¿¡ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="é€šè¿‡cloudflared-accessè¿æ¥"><a href="#é€šè¿‡cloudflared-accessè¿æ¥" class="headerlink" title="é€šè¿‡cloudflared accessè¿æ¥"></a>é€šè¿‡cloudflared accessè¿æ¥</h2><p>åœ¨ç½‘é¡µä¸Šï¼Œé…ç½®<strong>Public Hostname</strong>ï¼Œä¸‹é¢Service Typeé€‰æ‹©SSHï¼ŒURLå†™<code>127.0.0.1:22</code>ï¼Œå¦‚æœä½ æƒ³é€šè¿‡è¿™ä¸ªè·³åˆ°å…¶ä»–æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå°±å†™<code>IP:22</code></p>
<p><img src="/images/2023042202404214.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>å®¢æˆ·ç«¯éœ€è¦å®‰è£…cloudflaredï¼Œå…ˆç™»å½• <code>cloudflared login</code></p>
<p>ç„¶åä¿®æ”¹SSHé…ç½®æ–‡ä»¶ <code>~/.ssh/config</code></p>
<p>Host ssh.dmesg.app</p>
<h1 id="è®°å¾—ä¿®æ”¹cloudflaredè·¯å¾„"><a href="#è®°å¾—ä¿®æ”¹cloudflaredè·¯å¾„" class="headerlink" title="è®°å¾—ä¿®æ”¹cloudflaredè·¯å¾„"></a>è®°å¾—ä¿®æ”¹cloudflaredè·¯å¾„</h1><p>ProxyCommand &#x2F;opt&#x2F;homebrew&#x2F;bin&#x2F;cloudflared access ssh â€“hostname %h</p>
<p>ç„¶åå†<code>ssh username@ssh.dmesg.app</code> å°±å¯ä»¥å•¦</p>
<p>å½“ç„¶å¦‚æœä¸æƒ³æ”¹configé‚£ä¹ˆä¹Ÿå¯ä»¥</p>
<p>cloudflared access ssh â€“hostname ssh.dmesg.app â€“url 127.0.0.1:10022</p>
<p>ç„¶åå¦å¤–ä¸€ä¸ªçª—å£</p>
<p>ssh <a href="mailto:&#x72;&#x6f;&#111;&#116;&#x40;&#49;&#50;&#x37;&#46;&#x30;&#x2e;&#x30;&#x2e;&#49;">&#x72;&#x6f;&#111;&#116;&#x40;&#49;&#50;&#x37;&#46;&#x30;&#x2e;&#x30;&#x2e;&#49;</a> -p 10022</p>
<p>æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼</p>
<p>åªè¦ä½ çš„è„‘æ´è¶³å¤Ÿå¤§ï¼Œç”šè‡³å¯ä»¥é€šè¿‡<code>cloudflared access</code> å»è¿æ¥ä»»æ„TCPåè®®ï¼Œç”šè‡³è¿UNIXå¥—æ¥å­—éƒ½å¯ä»¥å“¦</p>
<h2 id="ä½¿ç”¨æµè§ˆå™¨è¿æ¥"><a href="#ä½¿ç”¨æµè§ˆå™¨è¿æ¥" class="headerlink" title="ä½¿ç”¨æµè§ˆå™¨è¿æ¥"></a>ä½¿ç”¨æµè§ˆå™¨è¿æ¥</h2><p>åŒä¸Šï¼Œ<strong>Public Hostname</strong>åˆ›å»ºä¸€ä¸ªSSHæœåŠ¡ï¼Œæ¯”å¦‚è¯´åŸŸåå« <code>browser.dmesg.app</code></p>
<p>ç„¶å Application â€“ Add Application â€“ Self-hostedï¼Œapplication sub domain åŒæ ·å†™ <code>browser.dmesg.app</code></p>
<p>ç„¶ååˆ›å»ºpoliciesï¼Œå’Œä»¥å‰çš„æ–¹æ³•ä¸€æ ·ï¼Œå¦‚æœåªæ˜¯æµ‹è¯•ç”¨ç”šè‡³å¯ä»¥Everyone</p>
<p>ä¸‹ä¸€æ­¥Additional Settingsä¸­ï¼Œé€‰æ‹©SSH</p>
<p><img src="/images/2023042202404319.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p><img src="/images/2023042202404461.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢ ä½å¯ä¿¡åº¦æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>æµè§ˆå™¨æ‰“å¼€é“¾æ¥å°±å¯ä»¥äº†ï¼Œæ³¨æ„è¿™é‡Œçš„ç”¨æˆ·åæ˜¯æœåŠ¡å™¨çš„ç”¨æˆ·åï¼Œæ¯”å¦‚<code>root</code>ï¼Œå¹¶ä¸æ˜¯è¿›è¡Œé‚®ç®±éªŒè¯çš„ <code>xxx@dmesg.app</code></p>
<p><img src="/images/2023042202404579.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº, Teams æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>ä¸‹ä¸€æ­¥è¾“å…¥è®¤è¯ä¿¡æ¯å³å¯ç™»å½•ã€‚æ ¹æ®æœåŠ¡å™¨sshdé…ç½®ä¸åŒï¼Œé€‰æ‹©å¯†ç æˆ–è€…keyç™»å½•å³å¯ã€‚</p>
<p><img src="/images/2023042202404680.png" alt="æ–‡æœ¬ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/29/cloudflare-access-gfwed-server/index/" data-id="clhp7rtet000xs2qr2kqcfyc5" data-title="ä½¿ç”¨Cloudflare Zero Trustè¿æ¥è¢«å¢™çš„æœåŠ¡å™¨" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-zero-trust-login-method/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/22/zero-trust-login-method/index/" class="article-date">
  <time class="dt-published" datetime="2023-04-22T00:00:00.000Z" itemprop="datePublished">2023-04-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloudflare/">cloudflare</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/22/zero-trust-login-method/index/">Cloudflare Zero Trust App Launcherã€Access GroupåŠæ·»åŠ æ–°çš„ç™»å½•éªŒè¯æ–¹å¼</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ä»€ä¹ˆæ˜¯App-Launcher"><a href="#ä»€ä¹ˆæ˜¯App-Launcher" class="headerlink" title="ä»€ä¹ˆæ˜¯App Launcher"></a>ä»€ä¹ˆæ˜¯App Launcher</h2><p>æ‰€è°“App launcherï¼Œå°±æ˜¯å½“ç”¨æˆ·ç™»å½•ä¹‹åï¼Œä¼šæ˜¾ç¤ºä¸€äº›åº”ç”¨ï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡»è·³è½¬è¿‡å»ã€‚å†ä¹Ÿä¸ç”¨å•ç‹¬æ”¶è—æ¯ä¸€ä¸ªé“¾æ¥å•¦ï¼Œåªè¦æ”¶è—è¿™ä¸ª App Launcherå³å¯ã€‚é•¿è¿™æ ·</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2023/04/2023042003361458.png"><img src="/images/2023042003361458.png"></a></p>
<h2 id="æ·»åŠ æ–°ç™»å½•éªŒè¯æ–¹å¼"><a href="#æ·»åŠ æ–°ç™»å½•éªŒè¯æ–¹å¼" class="headerlink" title="æ·»åŠ æ–°ç™»å½•éªŒè¯æ–¹å¼"></a>æ·»åŠ æ–°ç™»å½•éªŒè¯æ–¹å¼</h2><p>é€šå¸¸æ¥è®²ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡é‚®ä»¶çš„æ–¹å¼æ¥è¿›è¡ŒéªŒè¯çš„ã€‚éå¸¸ç®€å•ï¼Œä½†æ˜¯æœ‰æ—¶é‚®ä»¶å¯èƒ½ä¼šå‘é€å¤±è´¥ï¼Œæ¯”å¦‚è¯´è¢«Gmailæ‹¦æˆªã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰åŠæ³•æ·»åŠ æ–°çš„éªŒè¯æ–¹å¼å‘¢ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯æœ‰çš„å•¦ã€‚Cloudflareç»§æ‰¿äº†éå¸¸å¤šçš„ç™»å½•æ–¹å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç”šè‡³æœ‰ä¸€ä¸ªé€šç”¨çš„SAMLï¼š</p>
<p><img src="/images/2023042003351149.png" alt="è¡¨æ ¼ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>ä¸‹é¢å°±ä»¥é…ç½®GitHubç™»å½•æ¥è¯´ï¼ŒGoogleç­‰åŒç†åŸºæœ¬æ²¡å¤ªå¤§å·®åˆ«ã€‚</p>
<h2 id="åˆ›å»ºGitHub-App"><a href="#åˆ›å»ºGitHub-App" class="headerlink" title="åˆ›å»ºGitHub App"></a>åˆ›å»ºGitHub App</h2><p>æ‰“å¼€GitHubï¼Œè¿›å…¥Settings â€“ Developer Settings â€“ OAuth Appsï¼Œæ–°å»ºä¸€ä¸ªapp</p>
<ul>
<li>Application nameï¼šéšä¾¿å†™ï¼Œè‡ªå·±è®°å¾—å°±å¯ä»¥</li>
<li>Homepage URLï¼š ä½ çš„team urlï¼Œæ¯”å¦‚è¯´ <a target="_blank" rel="noopener" href="https://bennythink.cloudflareaccess.com/">https://bennythink.cloudflareaccess.com/</a></li>
<li>Callbackï¼šåŒä¸Šï¼Œ<a target="_blank" rel="noopener" href="https://bennythink.cloudflareaccess.com/cdn-cgi/access/callback">https://bennythink.cloudflareaccess.com/cdn-cgi/access/callback</a></li>
</ul>
<p>åˆ›å»ºä¹‹åï¼Œå¤åˆ¶ Client IDï¼Œç„¶åç‚¹å‡»Generate a new client secret å¤åˆ¶secretçš„å€¼</p>
<h2 id="åˆ›å»ºGitHub-Organization"><a href="#åˆ›å»ºGitHub-Organization" class="headerlink" title="åˆ›å»ºGitHub Organization"></a>åˆ›å»ºGitHub Organization</h2><p>åˆ›å»ºä¸€ä¸ªGitHub Organizationï¼Œåç»­åšéªŒè¯çš„æ—¶å€™è¦ç”¨è¿™ä¸ªã€‚</p>
<h2 id="é…ç½®Zero-Trust"><a href="#é…ç½®Zero-Trust" class="headerlink" title="é…ç½®Zero Trust"></a>é…ç½®Zero Trust</h2><p>å›åˆ°Cloudflare Zero Trustï¼Œé€‰æ‹©Settings â€“ Authentication â€“ Login Methodsï¼Œå³ä¾§æœ‰ä¸€ä¸ªAdd newï¼Œç„¶åé€‰æ‹©GitHub</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2023/04/2023042003372621.png"><img src="/images/2023042003372621.png"></a></p>
<p>å¡«å…¥åˆšåˆšå¤åˆ¶çš„IDå’Œsecretï¼Œç‚¹å‡»ä¿å­˜</p>
<p>Â </p>
<p>ä¸‹é¢ä¼šå¼¹å‡ºä¸€ä¸ªå°çš„æ¡†æ¡†</p>
<p><img src="/images/2023042003351386.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº, ç”µå­é‚®ä»¶ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>ç‚¹å‡»finish setupæˆ–è€…å¤åˆ¶é“¾æ¥åˆ°æ–°çª—å£æ‰“å¼€ï¼Œåœ¨orgä¸­ç»™æˆ‘ä»¬æ–°åˆ›å»ºçš„orgæˆæƒï¼Œç‚¹å‡»Grantï¼Œç„¶åauthorize</p>
<p><img src="/images/2023042003351323.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>æ­¤æ—¶å›åˆ°Login Methods å°±å¯ä»¥çœ‹åˆ°å·²ç»æ·»åŠ æˆåŠŸå•¦ï¼Œç‚¹å‡» TestæŒ‰é’®å¯ä»¥çœ‹ä¸‹Cloudflareä»GitHubçš„APIæ‹¿åˆ°çš„æ•°æ®</p>
<p><img src="/images/2023042003351481.png" alt="èƒŒæ™¯å›¾æ¡ˆ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="é…ç½®éªŒè¯"><a href="#é…ç½®éªŒè¯" class="headerlink" title="é…ç½®éªŒè¯"></a>é…ç½®éªŒè¯</h2><p>æ­¤æ—¶å¦‚æœä½ æ‰“å¼€ team urlï¼Œæ¯”å¦‚ <a target="_blank" rel="noopener" href="https://bennythink.cloudflareaccess.com/">https://bennythink.cloudflareaccess.com/</a> åœ¨Loginå°±å·²ç»èƒ½çœ‹åˆ°GitHubäº†ã€‚</p>
<p><img src="/images/202304200335155.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>å½“ç„¶è¿™è¿˜æ²¡å®Œï¼Œä¸èƒ½æ‰€æœ‰äººéƒ½èƒ½é€šè¿‡GitHub OAuthè¿›å…¥App Launcherå‘€ï¼å› æ­¤æˆ‘ä»¬è¿˜éœ€è¦è¿›ä¸€æ­¥é…ç½®</p>
<p>ç‚¹å¼€Zero Trust â€“ Settings â€“ App Launcher â€“ Manage</p>
<p>é¦–å…ˆç¡®è®¤ä¸€ä¸‹Authenticationé¡µé¢å·²ç»é€‰ä¸­äº†GitHubï¼Œé»˜è®¤åº”è¯¥æ˜¯æ‰€æœ‰è®¤è¯æ–¹å¼éƒ½å¯ä»¥ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰</p>
<p><img src="/images/2023042003351550.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>ç„¶ååœ¨Rulesä¸­ï¼Œæ–°å»ºæˆ–è€…ç¼–è¾‘å·²æœ‰è§„åˆ™ï¼Œæˆ‘ä»¬ä¼šå‘ç°æœ‰ä¸‰ç§å¯ä»¥é€‰æ‹©çš„æ¨¡å¼ï¼š includeã€requireå’Œexclude</p>
<p><img src="/images/2023042003351695.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<ul>
<li>includeï¼šç±»ä¼¼é€»è¾‘ORæ“ä½œç¬¦ï¼Œç”¨æˆ·åªè¦æ»¡è¶³æ¡ä»¶ä¹‹ä¸€å°±å¯ä»¥</li>
<li>requireï¼šç±»ä¼¼é€»è¾‘ANDæ“ä½œç¬¦ï¼Œç”¨æˆ·è¦æ»¡è¶³æ‰€æœ‰çš„æ¡ä»¶</li>
<li>excludeï¼šç±»ä¼¼é€»è¾‘NOTï¼Œæ’é™¤æ¡ä»¶</li>
</ul>
<p>[v_error] æ·»åŠ requireè§„åˆ™çš„æ—¶å€™è¦æ³¨æ„ï¼Œæ˜¯è¦æ»¡è¶³æ‰€æœ‰æ¡ä»¶æ‰å¯ä»¥æˆæƒã€‚æ¯”å¦‚æˆ‘çš„requireè§„åˆ™æ·»åŠ äº†ä¸¤æ¡ï¼Œåˆ†åˆ«æ˜¯County&#x3D;China &amp; Country&#x3D;USï¼Œé‚£ä¹ˆæ²¡äººå¯ä»¥é€šè¿‡ï¼Œå› ä¸ºIPåªèƒ½åœ¨ä¸€ä¸ªå›½å®¶è€Œä¸æ˜¯ä¸¤ä¸ªå›½å®¶ã€‚ [&#x2F;v_error]</p>
<p>è¿™é‡Œæˆ‘ä»¬çš„éœ€æ±‚æ˜¯ï¼Œç”¨æˆ·è¦ä¹ˆé€šè¿‡ dmesg.app çš„é‚®ç®±éªŒè¯ï¼Œè¦ä¹ˆåœ¨æ–°åˆ›å»ºçš„é‚£ä¸ªOrganizationé‡Œï¼Œæ‰€ä»¥æ–°æ·»åŠ ä¸€ä¸ªincludeï¼ŒSelectoré€‰æ‹©GitHub Organizationï¼Œorganization nameå†™åˆ›å»ºçš„name</p>
<p><img src="/images/2023042003351779.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>å¦‚æœæˆ‘ä»¬çš„éœ€æ±‚æ˜¯ï¼Œç”¨æˆ·åœ¨orgé‡Œï¼Œå¹¶ä¸”é‚®ç®±ä¸º <a href="mailto:xxx@xxx.com">xxx@xxx.com</a>ï¼Œé‚£ä¹ˆå°±è¦ä¸€ä¸ªinclude é‚®ç®±è§„åˆ™ï¼Œä¸€ä¸ªrequire GitHub organizationè§„åˆ™ã€‚</p>
<p>è¿”å› team urlå°±å¯ä»¥ç™»å½•äº†ã€‚</p>
<p>æ³¨æ„ï¼šé…ç½® App Launcherçš„æƒé™ï¼Œå¹¶ä¸ç­‰äºæ‹¥æœ‰åº”ç”¨çš„æƒé™ï¼Œ<strong>åº”ç”¨çš„æƒé™æ˜¯ç‹¬ç«‹çš„</strong>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä¹‹å‰åˆ›å»ºçš„redisï¼Œåªèƒ½é‚®ç®±è¿›è¡ŒéªŒè¯ï¼Œå¹¶ä¸”æ”¾åˆ°äº†launcherä¹‹ä¸­ï¼Œé‚£ä¹ˆåœ¨App Launcherè¿™é‡Œæˆ‘é€šè¿‡GitHub OAuthåï¼Œå¹¶çœ‹ä¸åˆ°é‚£ä¸ªredisã€‚æƒ³è¦çœ‹åˆ°å¯¹åº”çš„åº”ç”¨ï¼Œé‚£åªèƒ½å»ç¼–è¾‘å¯¹åº”åº”ç”¨çš„è§„åˆ™ã€‚</p>
<h2 id="Access-Group"><a href="#Access-Group" class="headerlink" title="Access Group"></a>Access Group</h2><p>æŠŠä¸€æ ·çš„è§„åˆ™é…ç½®å¤šæ¬¡å°±æ˜¾å¾—å¾ˆè ¢ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨Access Groupã€‚</p>
<p>Access â€“ Access Groupï¼Œè®¾ç½®åç§°å’Œé…ç½®å’Œå‰é¢ä¸€æ ·</p>
<p><img src="/images/2023042003351846.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>åœ¨å…¶ä»–åœ°æ–¹ï¼Œæ·»åŠ ç­–ç•¥çš„æ—¶å€™é€‰æ‹©è¿™ä¸ªGroupå°±å¯ä»¥äº†ã€‚ç”šè‡³åœ¨WARPçš„Device enrollment permissionsä¸­ä¹Ÿå¯ä»¥è¿™æ ·æï¼</p>
<h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2><p><a target="_blank" rel="noopener" href="https://developers.cloudflare.com/cloudflare-one/policies/access/">https://developers.cloudflare.com/cloudflare-one/policies/access/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/22/zero-trust-login-method/index/" data-id="clhp7rtnz00c2s2qrbtpb4apw" data-title="Cloudflare Zero Trust App Launcherã€Access GroupåŠæ·»åŠ æ–°çš„ç™»å½•éªŒè¯æ–¹å¼" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-zero-trust-access-web/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/20/zero-trust-access-web/index/" class="article-date">
  <time class="dt-published" datetime="2023-04-20T00:00:00.000Z" itemprop="datePublished">2023-04-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloudflare/">cloudflare</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/20/zero-trust-access-web/index/">ä½¿ç”¨Cloudflare Zero Trustä¿æŠ¤ä½ çš„Webåº”ç”¨</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ‰äº›æ—¶å€™æˆ‘ä»¬è·‘ä¸€äº›webåº”ç”¨ï¼Œæƒ³æŠŠä»–ä»¬æ”¾åœ¨å…¬ç½‘ä¸Šï¼Œä½†æ˜¯åˆä¸èƒ½æ¯ä¸ªäººéƒ½å¯ä»¥è®¿é—®ã€‚å¦‚æœè¿™ä¸ªç¨‹åºä¸æ”¯æŒé€šè¿‡èº«ä»½éªŒè¯ï¼Œé‚£ä¹ˆä¹‹å‰çš„åšæ³•å¤§æ¦‚ä¼šå‰é¢å¥—ä¸Šä¸€ä¸ªnginxä¹‹ç±»çš„åå‘ä»£ç†ï¼Œåœ¨åå‘ä»£ç†ä¸­é…ç½®èº«ä»½è®¤è¯ã€‚</p>
<p>è¿™æ ·â€¦â€¦ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œä½†æ˜¯é…ç½®nginxå°±è®©äººæ„Ÿè§‰å¾ˆç¹çï¼åœ¨æœ‰äº†Cloudflare Zero Trustä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨Cloudflareåšåˆ°è¿™ç§èº«ä»½è®¤è¯çš„äº‹æƒ…ã€‚</p>
<p>æˆ‘è¿™åˆšå¥½æœ‰ä¸€ä¸ªredis insightï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥è¯´ä¸€ä¸‹è¿™ä¸ªä¸œè¥¿æ€ä¹ˆè·‘</p>
<h2 id="Redis-Insight"><a href="#Redis-Insight" class="headerlink" title="Redis Insight"></a>Redis Insight</h2><p>Rediså®˜æ–¹å‡ºçš„ä¸€ä¸ªç”¨æˆ·ç®¡ç†redisçš„å·¥å…·ï¼Œå¯ä»¥å¢åˆ æ”¹æŸ¥å•¦ä»€ä¹ˆçš„ã€‚è·‘èµ·æ¥å¾ˆå®¹æ˜“ï¼Œç”¨dockerè·‘æ˜¯è¿™æ ·çš„ï¼šæ‰ä¸ç”¨é‚£ä¸ªelectronå¥—å£³å‘¢</p>
<p>docker run -d â€“restart&#x3D;unless-stopped â€“name&#x3D;redisinsight \<br>    -v redisinsight:&#x2F;db -p 127.0.0.1:8001:8001 \<br>    -e RITRUSTEDORIGINS&#x3D;<a target="_blank" rel="noopener" href="https://redis.dmesg.app/">https://redis.dmesg.app</a> \<br>    redislabs&#x2F;redisinsight</p>
<p>ç”±äº Redis Insightæœ‰ CORSæ£€æŸ¥ï¼Œå› æ­¤è¿™é‡Œè¦è®¾ç½®ç¯å¢ƒå˜é‡æ¥æ§åˆ¶ï¼Œè¦è®°ä½ä¸å¯ä»¥å¸¦ <code>/</code>å“¦</p>
<p>ç„¶åæŠŠå®¹å™¨è¿æ¥åˆ°ç½‘ç»œï¼Œå› ä¸ºæˆ‘çš„redisé€šè¿‡docker-composeè·‘äº†ä¸¤ä¸ªï¼Œå› æ­¤è¦æŠŠå®¹å™¨å’Œç½‘ç»œè¿æ¥èµ·æ¥ï¼š</p>
<p>docker network connect botsrunner_default redisinsight<br>docker network connect yyetsbot_default redisinsight</p>
<h2 id="åˆ›å»ºArgo-tunnelï¼Œæ·»åŠ Public-Hostname"><a href="#åˆ›å»ºArgo-tunnelï¼Œæ·»åŠ Public-Hostname" class="headerlink" title="åˆ›å»ºArgo tunnelï¼Œæ·»åŠ Public Hostname"></a>åˆ›å»ºArgo tunnelï¼Œæ·»åŠ Public Hostname</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æ­¤æ—¶<code>redis.dmesg.app</code>åº”è¯¥å¯ä»¥è®¿é—®äº†</p>
<p><img src="/images/2023042003301977.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="å¼€å¯access"><a href="#å¼€å¯access" class="headerlink" title="å¼€å¯access"></a>å¼€å¯access</h2><p>Zero Trust â€“ Access â€“ Applications â€“ Add Application â€“ Self-hosted</p>
<p>é€‰æ‹©å¯¹åº”çš„ä¼šè¯æœ‰æ•ˆæœŸï¼Œå¯¹åº”çš„å­åŸŸå</p>
<p><img src="/images/2023042003302065.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>ä¸‹ä¸€é¡µconfigure rulesé€‰æ‹©æœ€ç®€å•çš„emailæ–¹å¼å³å¯</p>
<p><img src="/images/2023042003302199.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>æ­¤æ—¶æ‰“å¼€å¯¹åº”çš„ç½‘ç«™ï¼Œå°±ä¼šå‘ç°å·²ç»è¿›å…¥äº†éªŒè¯é¡µé¢</p>
<p><img src="/images/2023042003302235.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, åº”ç”¨ç¨‹åº æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<p>è¾“å…¥é‚®ç®±éªŒè¯ä¹‹åå°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚</p>
<p>åœ¨Redis Insightä¸­ï¼Œæ·»åŠ è¿æ¥çš„æ—¶å€™ï¼Œç”¨<code>redis.yyetsbot_default</code> æ¥è¡¨ç¤º<code>yyetsbot_default</code>è¿™ä¸ªç½‘ç»œçš„<code>redis</code> serviceã€‚</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2023/04/2023042003342554.png"><img src="/images/2023042003342554.png"></a></p>
<h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><h3 id="æ”¶ä¸åˆ°éªŒè¯ç "><a href="#æ”¶ä¸åˆ°éªŒè¯ç " class="headerlink" title="æ”¶ä¸åˆ°éªŒè¯ç "></a>æ”¶ä¸åˆ°éªŒè¯ç </h3><p>åˆ«æ€•ï¼Œå¯èƒ½æ˜¯è¢«æ‹¦æˆªäº†ï¼Œæ¯”å¦‚è¯´Gmailâ€¦â€¦</p>
<p><img src="/images/2023042003302348.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬ ä¸­åº¦å¯ä¿¡åº¦æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h3 id="Redis-Insighté¡µé¢æ— æ³•æ˜¾ç¤º"><a href="#Redis-Insighté¡µé¢æ— æ³•æ˜¾ç¤º" class="headerlink" title="Redis Insighté¡µé¢æ— æ³•æ˜¾ç¤º"></a>Redis Insighté¡µé¢æ— æ³•æ˜¾ç¤º</h3><p>åº”è¯¥æ˜¯cacheçš„é—®é¢˜ï¼Œå¼€development modeæš‚æ—¶ç»•è¿‡ï¼ŒéªŒè¯é€šè¿‡ä¹‹åå†å…³æ‰å¥½äº†</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/20/zero-trust-access-web/index/" data-id="clhp7rtny00c0s2qr0qjzc0ow" data-title="ä½¿ç”¨Cloudflare Zero Trustä¿æŠ¤ä½ çš„Webåº”ç”¨" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-cf-zero-trust/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/01/cf-zero-trust/index/" class="article-date">
  <time class="dt-published" datetime="2023-04-01T00:00:00.000Z" itemprop="datePublished">2023-04-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/cloudflare/">cloudflare</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/01/cf-zero-trust/index/">ä½¿ç”¨Cloudflare Zero Truståˆ›å»ºå¤§å†…ç½‘</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åˆ›å»ºå¤§å†…ç½‘æ˜¯ä¸€ä»¶éå¸¸é‡è¦çš„äº‹æƒ…ã€‚ä¸€æ—¦æœ‰äº†å®‰å…¨çš„å†…ç½‘ç¯å¢ƒä¹‹åï¼Œæˆ‘çš„æœåŠ¡å™¨ä¹‹é—´å°±å¯ä»¥ä½¿ç”¨ç§æœ‰IPè¿›è¡Œé€šä¿¡ï¼Œä¸ç”¨å†è€ƒè™‘è¿™ä¸ªåè®®æ˜¯å¦é€‚åˆæš´éœ²åœ¨å…¬ç½‘ä¸Šã€æ˜¯å¦ä¼šè¢«MITMç­‰é—®é¢˜äº†ã€‚ç®¡ä»–ä»€ä¹ˆåè®®çš„ï¼Œtelnetæˆ‘éƒ½ç…§æ ·è·‘ğŸ¤ªï¼</p>
<p>é€šå¸¸æ¥è¯´ï¼Œæˆ‘æ˜¯<a target="_blank" rel="noopener" href="https://nova.moe/deploy-wireguard-on-ubuntu-bionic/">ä½¿ç”¨WireGuardæ¥åˆ›å»ºå†…ç½‘</a>çš„ã€‚é€‰æ‹©ä¸€ä¸ªæœºå™¨ä½œä¸ºâ€œæœåŠ¡å™¨â€ï¼Œå…¶ä»–çš„èŠ‚ç‚¹ä½œä¸ºå®¢æˆ·ç«¯åŠ è¿›æ¥å°±å¥½äº†ã€‚è¿™ä¹Ÿæ˜¯ä¸šç•Œæœ€ä¸ºæˆç†Ÿçš„æ–¹æ¡ˆäº†</p>
<p>ä½†æ˜¯è¿™æ ·åšä»æœ‰ä¸€äº›é™åˆ¶å’Œç¼ºé™·ï¼Œæ¯”å¦‚è¯´ï¼š</p>
<ul>
<li>å¦‚ä½•æš´éœ²æ•´ä¸ªå®¶åº­å†…ç½‘ï¼Œå¦‚<code>192.168.7.0/24</code> ç»™å‡ºé—¨åœ¨å¤–çš„æˆ‘ï¼Œå®¶é‡Œçš„æ¯ä¸€ä¸ªè®¾å¤‡éƒ½è¦é€šè¿‡WireGuardåŠ è¿›æ¥å—ï¼Œæˆ–è€…å†™å¥‡å¥‡æ€ªæ€ªçš„iptablesè§„åˆ™ï¼Ÿ</li>
<li>æ‰€æœ‰çš„æ•°æ®è¦é€šè¿‡â€œæœåŠ¡å™¨â€ä¸­è½¬ï¼Œä¸¤ä¸ªç¾å›½çš„æœåŠ¡å™¨æ˜æ˜ç›´æ¥å°±èƒ½æ²Ÿé€šï¼Œ50msè§£å†³ï¼Œå¦‚æœWGæœåŠ¡å™¨åœ¨äºšæ´²ï¼Œé‚£ä¹ˆå°±åŸºæœ¬ä¸Š300mså·¦å³äº†</li>
<li>ç©·åˆ°ä¹°ä¸èµ·æœåŠ¡å™¨ï¼Œæ²¡æœ‰å…¬ç½‘IP</li>
</ul>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯ç”¨Cloudflare Zero Trustä¸­çš„tunnelå•¦ï¼</p>
<p>ä¹‹å‰ç®€å•çš„æè¿‡æˆ‘å·²ç»æŠŠ<a target="_blank" rel="noopener" href="https://dmesg.app/argo-real-ip.html">æ‰€æœ‰çš„webæœåŠ¡éƒ½é€šè¿‡argo tunnel æš´éœ²äº†</a>ï¼Œæ‹“æ‰‘å›¾å¤§æ¦‚æ˜¯è¿™æ ·ï¼Œä»Cloudflareé‚£è¾¹å·è¿‡æ¥çš„ï¼š</p>
<p><img src="/images/2023040101321423.png"></p>
<p>åœ¨æˆ‘çš„æœåŠ¡å™¨ä¸Šå®‰è£…<code>cloudflared</code>ï¼Œç„¶åæ·»åŠ Public Hostnameï¼Œæ‰€æœ‰çš„è®¿é—®ç›´æ¥ä»Cloudflareçš„ç½‘ç»œæ¥ã€‚å®‰å…¨ä¸”ç¯ä¿ï¼</p>
<p>é‚£ä¹ˆCloudflare tunnelè¿˜æœ‰é‚£äº›æœ‰è¶£çš„ç”¨æ³•å‘¢ï¼Ÿå…ˆä»æš´éœ²æ•´ä¸ªå®¶åº­å†…ç½‘æ¥è¯´å§ï¼åŒæ ·çš„é“ç†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®¶é‡Œè¿è¡Œä¸€ä¸ªcloudflared connectorï¼Œç„¶åå…¶ä»–ç»ˆç«¯è®¾å¤‡é€šè¿‡WARPè¿æ¥åˆ°Cloudflareï¼Œç„¶åæŠŠæ•´ä¸ªç½‘ç»œæš´éœ²ç»™ç»ˆç«¯è®¾å¤‡ï¼Œæ‹“æ‰‘å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/images/2023040101323051.png"></p>
<hr>
<h1 id="æš´éœ²å®¶åº­å†…ç½‘"><a href="#æš´éœ²å®¶åº­å†…ç½‘" class="headerlink" title="æš´éœ²å®¶åº­å†…ç½‘"></a>æš´éœ²å®¶åº­å†…ç½‘</h1><h2 id="è·å–team-domain"><a href="#è·å–team-domain" class="headerlink" title="è·å–team domain"></a>è·å–team domain</h2><p>æ‰“å¼€Cloudflare Zero Trustï¼Œè®¾ç½®é‡Œå°±å¯ä»¥çœ‹åˆ°ä½ çš„team nameï¼Œæˆ‘è¿™é‡Œå°±æ˜¯<code>bennythink</code>å•¦</p>
<p><img src="/images/202304010132311.png"></p>
<h2 id="é…ç½®ç½‘ç»œåè®®"><a href="#é…ç½®ç½‘ç»œåè®®" class="headerlink" title="é…ç½®ç½‘ç»œåè®®"></a>é…ç½®ç½‘ç»œåè®®</h2><p>Settings-networkï¼Œæ‰¾åˆ°proxyï¼ŒæŠŠTCPã€UDPã€ICMPå’ŒWARP to WARPéƒ½æ‰“å¼€ï¼ˆè¿™ä¸ªåç»­è¦ç”¨ï¼‰</p>
<p><img src="/images/2023040101323257.png"></p>
<h2 id="åˆ›å»ºWARP-è®¾å¤‡æ³¨å†Œæƒé™"><a href="#åˆ›å»ºWARP-è®¾å¤‡æ³¨å†Œæƒé™" class="headerlink" title="åˆ›å»ºWARP è®¾å¤‡æ³¨å†Œæƒé™"></a>åˆ›å»ºWARP è®¾å¤‡æ³¨å†Œæƒé™</h2><p>é¦–å…ˆè¦å®šä¹‰å¦‚ä½•æ³¨å†Œè®¾å¤‡ï¼Œç®€å•çš„æ¥è¯´é€šè¿‡é‚®ç®±å°±å¥½äº†ã€‚æ¯”å¦‚è¯´ä¸€ä¸ªå…¬å¸çš„äººï¼Œç”¨å…¬å¸åç¼€çš„é‚®ç®±è¿æ¥åˆ°åŒä¸€ä¸ªå†…ç½‘ã€‚åœ¨Zero Trustçš„é¢æ¿ä¸­ï¼ŒSettings - WARP client - Dvice enrollment permission</p>
<p><img src="/images/2023040101323341.png"></p>
<p><img src="/images/2023040101323478.png"></p>
<h2 id="åˆ›å»º-WARP-Profile"><a href="#åˆ›å»º-WARP-Profile" class="headerlink" title="åˆ›å»º WARP Profile"></a>åˆ›å»º WARP Profile</h2><p>æ‰€è°“Profileï¼Œå°±æ˜¯å®šä¹‰ä»€ä¹ˆç”¨æˆ·ä½¿ç”¨ä»€ä¹ˆæ ·çš„WARPçš„è§„åˆ™ï¼Œè§„åˆ™åŒ…æ‹¬ç”¨æˆ·èƒ½å¦æ–­å¼€ï¼Œè‡ªåŠ¨é‡è¿ç­‰ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯è·¯ç”±è§„åˆ™ã€‚</p>
<p>å¦‚å›¾ï¼Œåœ¨æ­¤æˆ‘é…ç½®çš„<code>home@dmesg.app</code> è¿™ä¸ªç”¨æˆ·çš„è§„åˆ™</p>
<p><img src="/images/2023040101323579.png"></p>
<p>Split tunnelç”¨æ¥é…ç½®å¦‚ä½•åˆ†å‘æµé‡ï¼Œåˆ†ä¸ºä¸¤ç§æ¨¡å¼ï¼Œ<strong>includeå’Œexclude</strong>ï¼Œæœ‰ç‚¹åƒé»‘åå•ç™½åå•çš„æ¦‚å¿µã€‚</p>
<p><img src="/images/2023040101323644.png"></p>
<ul>
<li>Includeï¼Œå°±åƒWireGuard <code>allowIP</code>é…ç½®ä¸º<code>192.168.6.0/24</code>ä¸€æ ·ï¼Œåªæœ‰è¿™ä¸ªç½‘æ®µçš„æµé‡ä¼šèµ°WireGuardï¼Œå…¶ä»–æµé‡ä¼šç›´æ¥å‡ºå»ï¼Œä¸èµ°cloudflare</li>
<li>Excludeï¼Œå°±æ˜¯æ‰€æœ‰æµé‡éƒ½è¦èµ°cloudflareï¼Œå› æ­¤<code>192.168.7.0/24</code>èµ°äº†cloudflareæ‰€ä»¥å¯ä»¥è®¿é—®ï¼Œåˆ—è¡¨ä¸­çš„ç›´æ¥è¿æ¥</li>
</ul>
<p>è¯´äººè¯çš„è¯ï¼Œæ¯”å¦‚ä½ åœ¨å¤–é¢ï¼Œè¦è®¿é—®å®¶é‡Œ<code>192.168.7.0/24</code>ï¼Œå¹¶ä¸”<strong>æ‰€æœ‰å…¶ä»–æµé‡è¦èµ°cloudflare</strong>ï¼Œé‚£ä¹ˆä½ è¦ç”¨excludeæ¨¡å¼ï¼›</p>
<p>ä½ åœ¨å¤–é¢ï¼Œè¦è®¿é—®å®¶é‡Œçš„<code>192.168.7.0/24</code>ï¼Œ<strong>å…¶ä»–æµé‡ç›´æ¥å‡º</strong> ä»¥æ–¹ä¾¿çœŸäººå¿«æ‰“ï¼Œé‚£ä¹ˆå°±è¦ç”¨includeæ¨¡å¼ã€‚</p>
<p>è¿™é‡Œæˆ‘å°±é€‰æ‹©includeæ¨¡å¼ï¼Œå› æ­¤ä¸Šå›¾åˆ‡æ¢åˆ°includeï¼Œç„¶åæ·»åŠ IPæ®µï¼ŒCIDRè¡¨ç¤ºæ³•</p>
<p><img src="/images/2023040101323785.png"></p>
<p>åŒæ—¶åœ¨tunnelçš„Private Networkä¹Ÿè¦åˆ›å»ºä¸€æ ·çš„CIDR</p>
<p><img src="/images/2023040101323865.png"></p>
<p>çœ‹cloudflaredæ—¥å¿—å¯ä»¥çœ‹åˆ°å·²ç»è‡ªåŠ¨æ›´æ–°äº†é…ç½®</p>
<p><img src="/images/2023040101323951.png"></p>
<h2 id="é…ç½®å®¢æˆ·ç«¯è¿æ¥"><a href="#é…ç½®å®¢æˆ·ç«¯è¿æ¥" class="headerlink" title="é…ç½®å®¢æˆ·ç«¯è¿æ¥"></a>é…ç½®å®¢æˆ·ç«¯è¿æ¥</h2><p>å®¢æˆ·ç«¯éœ€è¦ä¸‹è½½WARPï¼Œç„¶åÂ  Login to Cloudflare Zero Trustï¼Œè¾“å…¥team name</p>
<p><img src="/images/2023040101323984.png"></p>
<p>è¿›è¡Œé‚®ä»¶éªŒè¯</p>
<p><img src="/images/2023040101324032.png"></p>
<p>ç„¶åä½ çš„warpå°±ä¼šæ¥æ”¶åˆ°æ–°çš„é…ç½®ï¼Œè¿æ¥èµ·æ¥ï¼Œå°±ä¼šå‘ç°<code>192.168.7.0/24</code>å·²ç»é€šå•¦</p>
<p><img src="/images/2023040101324165.png"></p>
<p>å¹¶ä¸”è·¯ç”±å™¨çš„ç®¡ç†ç•Œé¢æ˜¯æ‰“å¾—å¼€çš„</p>
<p><img src="/images/2023040101325018.png"></p>
<hr>
<h1 id="åˆ›å»ºå¤§å†…ç½‘"><a href="#åˆ›å»ºå¤§å†…ç½‘" class="headerlink" title="åˆ›å»ºå¤§å†…ç½‘"></a>åˆ›å»ºå¤§å†…ç½‘</h1><p>æ‹“æ‰‘å›¾å¦‚ä¸‹ï¼Œæ‰€æœ‰åŒä¸€ä¸ªorganizationï¼ˆteamï¼‰çš„WARPéƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å†…ç½‘ï¼Œå¯ä»¥å®‰å…¨è¿›è¡Œæ•°æ®äº¤æ¢ã€‚è¿˜è®°å¾—ä¸Šé¢å¼€çš„TCPã€UDPã€WARP to WRAPå—ï¼Ÿè¿™é‡Œç”¨åˆ°çš„å°±æ˜¯WARP to WARP</p>
<p><img src="/images/2023040101325762.png" alt="å›¾ç¤º æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="åˆ›å»ºprofile"><a href="#åˆ›å»ºprofile" class="headerlink" title="åˆ›å»ºprofile"></a>åˆ›å»ºprofile</h2><p>åŒæ ·åˆ›å»ºä¸€ä¸ªæ–°çš„profile</p>
<p><img src="/images/2023040101330798.png"></p>
<p>Split tunnelçš„åŸç†ç›¸ä¿¡å¤§å®¶å·²ç»æ‡‚äº†ï¼Œç®€å•èµ·è§ï¼ŒåŒæ ·é€‰æ‹©includeï¼Œåªä¸è¿‡IPæ®µå†™<code>100.64.0.0/10</code>ï¼Œè¿™ä¸ªæ˜¯Cloudflare é»˜è®¤çš„Virtual Networkï¼Œä½¿ç”¨äº†WARPçš„è®¾å¤‡ä¼šè¢«åˆ†é…åˆ°è¿™ä¸ªIPæ®µé‡Œã€‚è¿™é‡Œä¸€å…±æœ‰400å¤šä¸‡ä¸ªå¯ç”¨çš„IPï¼Œæ²ƒå°”ç›å‘˜å·¥äººæ‰‹2ä¸ªWARPï¼Œæˆ–è€…å…‹ç½—åœ°äºšäººä¸€äººä¸€ä¸ªéƒ½è¶³å¤ŸğŸ¤£</p>
<p><img src="/images/2023040101331898.png"></p>
<h2 id="æ³¨å†Œè®¾å¤‡"><a href="#æ³¨å†Œè®¾å¤‡" class="headerlink" title="æ³¨å†Œè®¾å¤‡"></a>æ³¨å†Œè®¾å¤‡</h2><p>å®‰è£…warp-cliï¼Œç„¶å</p>
<p>warp-cli teams-enroll bennythink</p>
<p>åœ¨ä½ çš„æµè§ˆå™¨ä¸Šæ‰“å¼€é“¾æ¥ï¼Œè¾“å…¥é‚®ç®±<code>wg@dmesg.app</code>éªŒè¯ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»»ä½•ä¿¡æ¯å‘Šè¯‰ä½ æ€ä¹ˆæ‰“å¼€ç»ˆç«¯é‡Œçš„warp-cliï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿåˆ«æ€•ï¼Œæ‰“å¼€F12ï¼Œæ‰¾åˆ°Open Cloudflare WARPé‚£ä¸ªæŒ‰é’®çš„å…ƒç´ ï¼Œæ‰¾åˆ°<code>onclick</code>äº‹ä»¶ï¼Œå¤åˆ¶ä»<code>com.cloudflare.warp</code>å¼€å§‹çš„ä¿¡æ¯åˆ°ç»“å°¾çš„å•å¼•å·</p>
<p><img src="/images/2023040101333518.png"></p>
<p>ç„¶ååœ¨ç»ˆç«¯ä¸­ï¼š</p>
<p>warp-cli teams-enroll-token com.cloudflare.warp:&#x2F;&#x2F;bennythink.cloudflareaccess.com&#x2F;auth?token&#x3D;</p>
<p>[v_error]è­¦å‘Šï¼š å¦‚æœä½ ä½¿ç”¨çš„æ˜¯zshï¼Œè®°å¾—ç»™é‚£æ®µtokenä¸Šç”¨å¼•å·åŒ…èµ·æ¥ â€œyour-token-with?weird&#x2F;&#x3D;+stuffâ€æˆ–è€…åˆ‡æ¢åˆ°bash[&#x2F;v_error]</p>
<h2 id="è¿æ¥è®¾å¤‡"><a href="#è¿æ¥è®¾å¤‡" class="headerlink" title="è¿æ¥è®¾å¤‡"></a>è¿æ¥è®¾å¤‡</h2><p>Î» maria-pl ~ â†’ warp-cli status<br>Status update: Disconnected. Reason: Manual Disconnection<br>Success</p>
<p>Î» maria-pl ~ â†’ warp-cli connect<br>Success</p>
<p>åœ¨Zero Trust - My team - Devicesä¸­å°±å¯ä»¥çœ‹åˆ°ä½ çš„è¿™ä¸ªè®¾å¤‡çš„IPåœ°å€äº†ï¼</p>
<p><img src="/images/2023040101352637.png"></p>
<p>åŒç†ï¼Œè¿æ¥å¦å¤–ä¸€ä¸ªè®¾å¤‡ï¼ŒåŒæ ·çš„é‚®ç®±å°±å¯ä»¥ã€‚</p>
<h2 id="æµ‹è¯•å†…ç½‘äº’è”"><a href="#æµ‹è¯•å†…ç½‘äº’è”" class="headerlink" title="æµ‹è¯•å†…ç½‘äº’è”"></a>æµ‹è¯•å†…ç½‘äº’è”</h2><p>ç›´æ¥sshè¿‡å»è¯•è¯•çœ‹</p>
<p>Î» maria-pl ~ â†’ nc -v 100.96.0.14 22<br>Connection to 100.96.0.14 22 port [tcp&#x2F;ssh] succeeded!<br>SSH-2.0-OpenSSH_8.9p1 Ubuntu-3<br>^C</p>
<p>Î» maria-pl ~ â†’ ssh 100.96.0.14<br>The authenticity of host â€˜100.96.0.14 (100.96.0.14)â€™ canâ€™t be established.<br>ED25519 key fingerprint is SHA256:Gffeu3+72Z9pwZDawOHGSN7M2JxrbBub1hZoueKGJ1o.<br>This key is not known by any other names<br>Are you sure you want to continue connecting (yes&#x2F;no&#x2F;[fingerprint])?</p>
<p><img src="/images/2023040101352719.png"></p>
<p>iperf3æµ‹è¯•</p>
<p>é€Ÿåº¦ä¹Ÿè¿˜ä¸é”™ï¼Œæœ¬æ¥å¸¦å®½ä¹Ÿæ˜¯100Mbps</p>
<p><img src="/images/2023040101352925.png"></p>
<h2 id="å»¶è¿Ÿæµ‹è¯•"><a href="#å»¶è¿Ÿæµ‹è¯•" class="headerlink" title="å»¶è¿Ÿæµ‹è¯•"></a>å»¶è¿Ÿæµ‹è¯•</h2><p>å»¶è¿Ÿç•¥æœ‰å¢å¤§ï¼Œå¯èƒ½æ˜¯peerè¿æ¥åˆ°äº†ä¸åŒçš„æ•°æ®ä¸­å¿ƒå¯¼è‡´çš„ã€‚ä½†æ˜¯è‚¯å®šä¸ä¼šå‡ºç°ç¾å›½-æ—¥æœ¬-ç¾å›½è¿™ç§ç»•åœˆåœˆçš„æ¨¡å¼äº†ã€‚</p>
<p><img src="/images/202304010135315.png"></p>
<h2 id="å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„ç½‘æ®µ"><a href="#å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„ç½‘æ®µ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„ç½‘æ®µ"></a>å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„ç½‘æ®µ</h2><p>å¦‚æœä¸å–œæ¬¢ä¸Šé¢çš„<code>100.96.0.0/10</code>ç½‘æ®µï¼Œæ€ä¹ˆåˆ‡æ¢åˆ°è‡ªå·±çš„ç½‘æ®µå‘¢ï¼Œæ¯”å¦‚<code>192.168.6.0/24</code>ï¼Ÿ</p>
<p>æ ¹æ®æ–‡æ¡£æ¥è¯´ï¼Œä¼¼ä¹æ˜¯å¯ä»¥é€šè¿‡åˆ›å»ºè‡ªå·±çš„Virtual networkï¼ˆè¿˜ä¸èƒ½åœ¨ç½‘é¡µä¸Šåˆ›å»ºï¼‰ï¼Œç„¶åWARPè¿æ¥çš„æ—¶å€™é€‰æ‹©è¿™ä¸ªnetworkï¼Œç„¶åIPå°±åº”è¯¥æ˜¯ä½ å®šä¹‰çš„è€Œä¸æ˜¯<code>100.96</code>ä¹‹ç±»çš„äº†</p>
<p>cloudflared tunnel vnet add private<br>cloudflared tunnel route ip add â€“vnet private 192.168.89.0&#x2F;24 home</p>
<p>warp-cli get-virtual-networks<br>warp-cli set-virtual-network UUID<br>warp-cli connect</p>
<p>ä½†æ˜¯æˆ‘æµ‹è¯•çš„æ—¶å€™ï¼Œæ— è®ºæ˜¯CLIè¿˜æ˜¯macOS WARPï¼Œå³ä½¿é€‰æ‹©äº†æ–°å»ºçš„ç½‘ç»œï¼Œç½‘é¡µä¸Šçœ‹åˆ°çš„IPä¹Ÿå§‹ç»ˆæ˜¯<code>100.96</code>ï¼Œä¸çŸ¥é“ä¸ºä½•ï¼Œå¯èƒ½æ˜¯ä»–ä»¬çš„bug</p>
<p><img src="/images/2023040101354065.png" alt="å›¾å½¢ç”¨æˆ·ç•Œé¢, æ–‡æœ¬, åº”ç”¨ç¨‹åº, èŠå¤©æˆ–çŸ­ä¿¡ æè¿°å·²è‡ªåŠ¨ç”Ÿæˆ"></p>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>Zero Trustè¿˜æœ‰å¾ˆå¤šå¥½ç©çš„ç©æ³•ï¼Œæ¯”å¦‚å¯ä»¥ç»™ä¸åŒç”¨æˆ·é…ç½®ä¸åŒçš„ç½‘ç»œè®¿é—®è§„åˆ™ï¼Œç§æœ‰DNSï¼Œå¯æ§ç½‘ç»œï¼ˆå°±æ˜¯åœ¨å®¶é‡Œè¿åˆ°VPNï¼Œåœ¨å…¬å¸ç›´æ¥èµ°å†…ç½‘ï¼Œä¸æ˜¯æ ¹æ®SSIDåˆ¤æ–­ï¼‰ï¼Œä»¥åŠå¤§å®¶éƒ½çˆ±çš„ä¸­è½¬æ¢¯å­ç­‰ç­‰ç©æ³•ã€‚æœ‰ç©ºå¯ä»¥å†æ¢ç´¢æ¢ç´¢ã€‚</p>
<p>Cloudflare çš„WARPç›´æ¥ç”¨èµ·æ¥ä¹Ÿä¸é”™ï¼Œæ¯”å¦‚åœ¨å…¬å¸ã€å¤–é¢çš„å…¬å…±Wi-Fiï¼Œæˆ‘éƒ½æ˜¯ç›´æ¥æ‰“å¼€çš„ï¼Œä½“éªŒéå¸¸å¥½ï¼Œåœ¨ä¸éœ€è¦æ¢IPçš„æƒ…å†µä¸‹ï¼Œå¯æ¯”ä¹°çš„é‚£ä¸ªSurfshark VPNå¥½å¤šäº†ğŸ¥¸</p>
<p>å†æ¬¡æ„Ÿå¹ï¼ŒCloudflareçœŸæ˜¯ä¸€å®¶ä¼Ÿå¤§çš„å…¬å¸ã€‚<strong>Cloudflare çš„ä½¿å‘½æ˜¯å¸®åŠ©å»ºç«‹ä¸€ä¸ªæ›´å¥½çš„äº’è”ç½‘</strong>ğŸ‘</p>
<p><a target="_blank" rel="noopener" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/private-net/create-private-networks/">https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/private-net/create-private-networks/</a></p>
<p><a target="_blank" rel="noopener" href="https://help.teams.cloudflare.com/">https://help.teams.cloudflare.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/">https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/</a></p>
<p><a target="_blank" rel="noopener" href="https://developers.cloudflare.com/cloudflare-one/tutorials/warp-to-tunnel/">https://developers.cloudflare.com/cloudflare-one/tutorials/warp-to-tunnel/</a></p>
<p><a target="_blank" rel="noopener" href="https://dash.cloudflare.com/argotunnel">https://dash.cloudflare.com/argotunnel</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/01/cf-zero-trust/index/" data-id="clhp7rteu0012s2qr1z5k1pho" data-title="ä½¿ç”¨Cloudflare Zero Truståˆ›å»ºå¤§å†…ç½‘" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/china/">china</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/china/justsay/">justsay</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/cloudflare/">cloudflare</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/gfw/">gfw</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/">it</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/it/justsay/">justsay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/security/">security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/share/">share</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/">justsay</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/gfw/">gfw</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/security/">security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/website/">website</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/program/">program</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/program/share/">share</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/">security</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/security/justsay/">justsay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/share/">share</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/website/">website</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/website/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/what/">what</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/what/gfw/">gfw</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">September 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/09/21/one-api-clickhouse/index/">one-api/new-apiæ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨ ClickHouse ä½œä¸ºæ—¥å¿—ç³»ç»Ÿ</a>
          </li>
        
          <li>
            <a href="/2024/08/03/stripe-fraud/index/">Stripe å¦‚ä½•å®‰å…¨æ”¶æ¬¾å¹¶é¿å…ç›—åˆ·ä¸æµ‹å¡</a>
          </li>
        
          <li>
            <a href="/2024/07/27/hide-in-cf/index/">éšè—äº Cloudflare çš„å…¨çƒç½‘ç»œä¹‹ä¸­</a>
          </li>
        
          <li>
            <a href="/2024/07/17/azure-waf/index/">æ•‘å‘½ï¼æˆ‘çš„ Azure Front Door WAF è§„åˆ™ä¸ç”Ÿæ•ˆæ€ä¹ˆåŠï¼</a>
          </li>
        
          <li>
            <a href="/2024/07/16/azure-fd/index/">ä½¿ç”¨Azure Front Door å’Œ Load Balancer</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 Bennyå°åœŸè±†<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>