<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>土豆不好吃</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="土豆不好吃">
<meta property="og:url" content="http://example.com/page/17/index.html">
<meta property="og:site_name" content="土豆不好吃">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Benny小土豆">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="土豆不好吃" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">土豆不好吃</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-ufw-iptables/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/02/10/ufw-iptables/index/" class="article-date">
  <time class="dt-published" datetime="2017-02-10T00:00:00.000Z" itemprop="datePublished">2017-02-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/02/10/ufw-iptables/index/">开启ufw导致断网不能ping? ufw和iptables的那些坑</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>昨晚不小心踩了一个坑，当开启ufw之后，电脑与外网的连接断开，明明ufw设置中incoming是allow、outgoing是deny，按理说应该能ping的…结果却全面断网，当然SSH也连不进来了…当把ufw禁用、或者把outgoing设置成allow，网络通信就恢复了，如动图所示。这是为啥捏？ 不好意思，动图被我删了，只能自己想象了? [v_blue]友情提示： 别说我”没加ping的allow规则”，我家ping是ICMP协议的，我家的ICMP协议是网络层的要比传输层的TCP、UDP低，所以我家ping是没有端口这一说法的。[&#x2F;v_blue]</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><h3 id="我尝试的无效方案"><a href="#我尝试的无效方案" class="headerlink" title="我尝试的无效方案"></a>我尝试的无效方案</h3><p>我先尝试了<code>iptables -F</code>来”清空全部规则”，无效； 重启无效； 之后我尝试了<code>apt remove –-purge iptables ufw gufw</code>然后再安装，依旧无效。</p>
<p>天呐purge都无效了？</p>
<h3 id="真正的解决方案"><a href="#真正的解决方案" class="headerlink" title="真正的解决方案"></a>真正的解决方案</h3><p>我从DigitalOcean找到了解决方案</p>
<p>首先，我们先把INPUT、FORWARD、OUTPUT这三个链的规则设置成ACCEPT免得把自己锁在门外：</p>
<p>sudo iptables -P INPUT ACCEPT<br>sudo iptables -P FORWARD ACCEPT<br>sudo iptables -P OUTPUT ACCEPT</p>
<p>然后，我们清除NAT、Mangle表，清除链，删除所有的非默认链</p>
<p>sudo iptables -t nat -F        #清除NAT表<br>sudo iptables -t mangle -F    #清除mangle表<br>sudo iptables -F    #清除所有链的规则<br>sudo iptables -X    #删除非默认链</p>
<p>此时如果我们<code>iptables -L</code>列出链和规则，会发现只剩下INPUT、FORWARD、OUTPUT这三个链了，如图：</p>
<p><img src="/images/021017_0252_ufwping1.png"></p>
<p>此时我们再<code>ufw enable</code>启用ufw，如果SSH请先<code>ufw allow 22</code>，就会发现没断网。</p>
<p>如果这个时候<code>iptables -L</code>，会看到多出来很多链和规则</p>
<p><img src="/images/021017_0252_ufwping2.png"></p>
<p>童鞋们是不是觉得很奇怪，为啥这次就行了？我是咋重现的这个问题？</p>
<p>在回答这个问题之前，我们首先要了解下ufw、iptables是什么，之后以及这二者之间的关系，简单的了解iptables的基本概念和基本运作原理。</p>
<h2 id="ufw"><a href="#ufw" class="headerlink" title="ufw"></a>ufw</h2><p>Uncomplicated FireWall，不是Ubuntu FireWall哦，是debian系发行版中为了轻量化配置 iptables 而开发的一款工具。</p>
<p>UFW和iptables一样都是<a target="_blank" rel="noopener" href="https://dmesg.app/semi-auto-blacklist.html">匹配原则</a>，匹配到了则忽略剩下的规则，这点就不废话了。</p>
<h2 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h2><p>我们习惯性的会把iptables认为是Linux上的防火墙，自从Linux内核2.4之后就集成进主线内核。实际上准确是说，iptables是一个通过控制Linux内核的netfilter模块来<strong>管理网络数据包的流动与转送</strong>的应用软件，其功能包括不仅仅包括防火墙的控制出入流量，还有端口转发等等。</p>
<p>iptables内部有<strong>表tables、链chains、规则rules</strong>这三种概念。</p>
<p>iptables的每一个”表”都和不同的数据包处理有关、决定数据包是否可以穿越的是”链”、而一条”规则”在链里面则可以决定是否送往下一条链（或其它的动作）</p>
<p>那一个包到达网卡的时候，Linux的如何处理的呢？</p>
<p>我们提到了iptables是可以控制netfilter模块的，netfilter内部（主要、常用的）分为三个表，分别是 <strong>filter, nat, mangle</strong>，每个表又有不同的链（Chains），每个链下可以有不同的规则（rules）。</p>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>在filter（过滤）表中，也就是防火墙功能的表，定义了三个链。分别是<strong>INPUT, FORWARD, OUTPUT</strong>。也就是对包的<strong>入、转发、出</strong>进行定义的三个过滤链。对于这个filter表的操作和控制也是我们实现防火墙功能的一个重要手段；</p>
<h3 id="nat"><a href="#nat" class="headerlink" title="nat"></a>nat</h3><p>在nat(网络地址转换)表中，也就是我们用以实现地址转换和端口转发功能的这个表，定义了PREROUTING, POSTROUTING,OUTPUT三个链；</p>
<h3 id="mangle"><a href="#mangle" class="headerlink" title="mangle"></a>mangle</h3><p>netfilter的mangle表则是一个自定义表，里面包括上面 的filter以及nat表中的各种chains，它可以让我们进行一些自定义的操作，同时这个mangle表中的chains在netfilter对包 的处理流程中比较优先。</p>
<h2 id="包在Linux中的前世今生"><a href="#包在Linux中的前世今生" class="headerlink" title="包在Linux中的前世今生"></a>包在Linux中的前世今生</h2><p><a target="_blank" rel="noopener" href="https://o51bfbumd.qnssl.com/Netfilter-packet-flow.png"><img src="/images/Netfilter-packet-flow.png"></a></p>
<p>图片来自维基百科（太大了，戳大图吧）</p>
<p>我们大致可以看出：包首先要由bridge check来判断属于链路层还是网络层，之后包都会遇到NAT或者mangle表的PREROUTING链，从这pre前缀咱能才出来，这是要在路由之前要过的链。</p>
<p>接着当包通过了PREROUTING之后，便到了 decision这个分支点，这里有一个对目的地址的判断，如果包的目的地是本地,那么包向上走，走入INPUT链处理，然后进入LOCAL PROCESS，之后再进入对应的OUTPUT、POSTROUTING；</p>
<p>如果非本地，那么就进入FORWARD链进行转发，之后再走POSTROUTING，我们在这里就不说FORWARD链的事了。</p>
<p>我们可以看到，filter表在包的处理流程中，处于中间的位置，这部分也就是防火墙的主要功能所在。</p>
<h2 id="ufw怎么和iptables一起合作的"><a href="#ufw怎么和iptables一起合作的" class="headerlink" title="ufw怎么和iptables一起合作的"></a>ufw怎么和iptables一起合作的</h2><p>在稍微理解了包是怎么走的之后，回到我们<code>iptables -L</code>的时候，我们看filter表，可以看到，ufw在<strong>INPUT、FORWARD、OUTPUT</strong>添加了好些自定义规则，并且添加了好些自己的链和链的规则，还把把INPUT、FORWARD默认策略设置成DROP <img src="/images/021017_0252_ufwping3.png"> 如图，当你有这些ufw定义的链的时候，是能够匹配到ufw链和规则，也就是正常入网的。</p>
<p>当我们执行<code>iptables -F</code>的时候，会发生什么呢？</p>
<p><strong>所有链的规则都被清空了</strong>！包括ufw的链！并且INPUT、FORWARD依旧是DROP</p>
<p>再想想包的前世今生，OUTPUT我们发出了ping，但是却因为<strong>INPUT的DROP而永远无法收到ICMP echo</strong>，只能往出发包而不能接收任何类型的包，毫无疑问自然就断网了。</p>
<p>此时<code>ufw status</code>还会告诉你在运行，但是当你使用<code>ufw disable</code>关闭ufw时，INPUT会被设置成ACCEPT，自然就恢复网络通信了；</p>
<p>当你使用<code>ufw default allow</code>把默认出网规则设置成allow时，INPUT也会被设置成ACCEPT，当然网络通信恢复了。</p>
<p>所以童鞋们自此应该理解了刚开始理解动图能够ping通和不通的原因吧！</p>
<h2 id="使用ufw和iptables的警告"><a href="#使用ufw和iptables的警告" class="headerlink" title="使用ufw和iptables的警告"></a>使用ufw和iptables的警告</h2><p>最后给大家一个警告，当你使用了ufw这类前端时，就最好不要再碰iptables了，尤其要**慎重使用iptables -**来清空所有链的规则。在不了解iptables的表、链、规则之前，盲目的清空iptables”规则”就是耍流氓！</p>
<p>试想，假如你在服务器上<code>ufw enable</code>，那么INPUT和FORWARD就是DROP，那么当你<code>iptables -F</code>时，不仅仅是SSH的例外规则没了，所有出网的包也都出不去了！此时唯一能做的事情就是去VNC、或者去机房插鼠标键盘显示器。</p>
<p>假如你是买的服务器，为了安全考虑使用密钥认证，并且把用户名设置成了从openssl生成的随机密码，并且你是由Windows重装成的Linux，那么控制台也是没有用的……重装或者快照吧。</p>
<p> </p>
<p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-list-and-delete-iptables-firewall-rules">https://www.digitalocean.com/community/tutorials/how-to-list-and-delete-iptables-firewall-rules</a></p>
<p><a target="_blank" rel="noopener" href="http://xstarcd.github.io/wiki/Linux/iptables_FORWARD_internetshare.html">http://xstarcd.github.io/wiki/Linux/iptables_FORWARD_internetshare.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/02/10/ufw-iptables/index/" data-id="clhp7rtms00ans2qr8jj02jsy" data-title="开启ufw导致断网不能ping? ufw和iptables的那些坑" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-reason-of-this-blog/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/02/05/reason-of-this-blog/index/" class="article-date">
  <time class="dt-published" datetime="2017-02-05T00:00:00.000Z" itemprop="datePublished">2017-02-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/justsay/">justsay</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/02/05/reason-of-this-blog/index/">为什么我要写独立域名的博客</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>年前，<a target="_blank" rel="noopener" href="https://v2mm.tech/">自由职业者社区</a>发起了一场”博主交流会总结”，聊聊写博客有关的问题，邀请我进来一起讨论建国建博大业，我因为太害羞、不想多人视频给婉拒，嗯嗯~ o(<em>￣▽￣</em>)o。</p>
<p>我为何要使用独立域名的博客，而不是使用CSDN、博客园、新浪博客甚至是BlogSpot等平台？</p>
<p>要回答这个问题，首先要解决一个基础问题：</p>
<p>我为何要写博客</p>
<p>R0UTER曾经翻译过一篇文章，名为<a target="_blank" rel="noopener" href="https://www.logcg.com/archives/836.html">《你应该写博客 —— Steve Yegge》</a></p>
<p>作为一名非IT专业的民工（其实我是IT专业的，只是觉得自己太渣对不起这个专业，or&#x2F;and vice versa），我觉得写博客的过程完全就是一种最朴实的学习之路。</p>
<h1 id="我为何要写博客？"><a href="#我为何要写博客？" class="headerlink" title="我为何要写博客？"></a>我为何要写博客？</h1><h2 id="写博客的动机"><a href="#写博客的动机" class="headerlink" title="写博客的动机"></a>写博客的动机</h2><p>某一年因失恋体验了”明朝散发弄扁舟”的感觉，后来，发现科学上网有点难哦，于是就去DigitalOcean买了个VPS，搭建起了Shadowsocks（不幸的是搭建完没几天clowwindy就被请走喝茶了）。搭建完了呢，觉得有些浪费唉，就又顺手搭建了一个博客玩玩，那时候我还在使用免费的cf域名。</p>
<h2 id="写博客的过程"><a href="#写博客的过程" class="headerlink" title="写博客的过程"></a>写博客的过程</h2><p>最开始的时候，我以新用户的身份从阿里云免费领了一个15天的ECS，在那上开始真正接触到Linux命令。在此之前尽管我是双系统，但我的经验仅限于鼠标乱飘和不知道为何的<code>apt update</code>、<code>apt upgrade</code></p>
<p>在真正开始动工搭建博客的时候，一切就都不同了——我不仅需要把储备的Linux知识全部拿出来用，还需要学习一些非常基础的网络知识，HTML，甚至需要知道如何利用终端来完成我的任务，哪怕是看《星球大战》。</p>
<p>这就够了吗？不，我选择了一个 名为WordPress的CMS，选择这个CMS之后我花了好段时间对它的特性进行一些了解、选择了一个好看简洁的主题。</p>
<p>或许这就够了？不，那时候我还没有统筹规划的想法，不知道自己内心在想什么，也不知道该如何像一国之君一样运营博客，也没给自己定下统一的排版标准——这直接导致了我后来花了很多时间重写甚至是删掉以前的博文。</p>
<h2 id="写博客的结果"><a href="#写博客的结果" class="headerlink" title="写博客的结果"></a>写博客的结果</h2><p>转眼已经开博一年半了，我深深地认为：<strong>写文章本身就是对知识的一种梳理，在梳理的过程中更能学到更多的知识。</strong></p>
<p>有的时候会有这样的感觉，你知道这种东西，但是让你用文字表达出来，你却写着写着就给自己说蒙圈了，甚至是噎住写不出来了。这是表达能力的欠缺。尽管一个人可能的表达能力可能不太好、技术水平很高，但是面试的时候，或者是一些不需要谦虚需要表现的时候，不表达出来不说出来，那可就是在说自己什么都不会呀。</p>
<p>缺少历练，外加快餐文化、碎片式阅读乃至于封闭圈子（主要指微信）的恶劣影响—— 人们倾向于被那些可能居心叵测的大V们牵着鼻子走，人们倾向于groundless belief；人们越来越不会表达自己的想法，越来越不会给自己的想法找到可靠的根据，越来越被牢牢地拴在某个猪窝狗洞内。</p>
<p>写博客的这一年半里，我越来越敢说出自己的想法，越来越敢立下flag，也因此而结实了一些志同道合的朋友、甚至是勾搭上了可能<strong>这辈子都无法忘记的那个人</strong> <strong>哦不是谁我不记得了</strong>。</p>
<h2 id="写博客的目的"><a href="#写博客的目的" class="headerlink" title="写博客的目的"></a>写博客的目的</h2><p>如果有人要问，你写博客的目的是什么？其实总结起来还是很简单的，我希望能够在提升自己的知识水平的同时帮助到他人；我相信知识的自由与传播，我希望我能够变得更强。 但是写博客，在有些时候就好似信息的孤岛。如果没有评论系统，没有我和访客的交互，那么所有的一切真的就只是孤岛，只是留给我孤芳自赏。 而我，永远也无法忘记，我是因何认识了你。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>就目前为止，我是这个博客唯一的一名作者。尽管没什么名气，没什么访问量，也不是全职博主，我也依旧乐此不疲的写着博客。恰如博客曾经的副标题和footer所说，执着于心，谦和之中见卓越。</p>
<p>为了历练自己、总结经验教训、做个记录、分享点经验、发点牢骚，可能还会装个逼、勾搭点妹子，我搭建了一个属于自己的自留地。</p>
<p>可是问题是，为何我要选择独立域名的博客，而不是选择各种博客平台？为此我付出了时间、金钱和数不清的精力。</p>
<hr>
<h1 id="我为何要使用独立域名的博客"><a href="#我为何要使用独立域名的博客" class="headerlink" title="我为何要使用独立域名的博客"></a>我为何要使用独立域名的博客</h1><p>好吧，说了那么多”我为何要写博客”，下面咱来说说为啥我要选择独立域名的博客。</p>
<p>最早的时候，大概四五年前，我还是一名 “能写出来深情文章的作者”，那时候还是高中，微信还没有这么火、微博也很少有人玩，那个时候韩寒还在写博客，我自然而然的就把QQ空间的日志作为了自己的”博客”，直到两年前，我还在QQ空间上发表一些所谓的”博文”。</p>
<p> </p>
<p>最终我还是放弃了它，并且也没有转入新浪博客、搜狐博客，技术性比较强的CSDN、博客园，甚至也没有转入现在大红大紫的微信公众号，而逆风选择了自己的独立域名博客。</p>
<h2 id="为何我要选择独立域名？"><a href="#为何我要选择独立域名？" class="headerlink" title="为何我要选择独立域名？"></a>为何我要选择独立域名？</h2><p>所谓独立域名，就是形如example.com这样的，虽说俺不是很喜欢tk、cf、ml（啊好邪恶），但是好歹人家也算是独立域名，是吧…</p>
<p>之所以选择独立域名，不仅仅是为了逼格…可玩性比较高，几乎没有限制。咱可以玩玩子域名，哪天搞出来一个love.bennythink.com表白多好玩嘛</p>
<h2 id="为何选择VPS而不是GitHub-Pages"><a href="#为何选择VPS而不是GitHub-Pages" class="headerlink" title="为何选择VPS而不是GitHub Pages"></a>为何选择VPS而不是GitHub Pages</h2><p>提到独立域名，这里就要稍微<strong>跑题</strong>下，为何我选择VPS而不是GitHub Pages。</p>
<p>原因其实很简单，我是一个追求个性的人，我希望我的发展不会被我使用的东西所限制：Pages上的限制稍微有一点多。</p>
<p>诚然，GitHub Pages有很多优点，成本为零、博客是静态的，自带加速CDN，还能抗点DDoS，我无需去担忧数据库、安全、备份、维护等工作，我只管写，然后Push就好了。而且有了Git作为版本控制，我再也不用纠结于文章的历史等（当然别人也可以看到你所有写过的文章，包括自己嫌弃死的文章）</p>
<p>同时Pages也有一些缺点，（对于大陆来说）访问可能不稳定CDN加成很厉害的哦、对搜索引擎不太友好、自定义程度偏低（Jekyll的插件需要做一些小工作才能在Pages上使用）、隐私保护略差（毕竟git 的历史记录）、评论有点困难。最重要的一点是，<strong>自定义域名</strong>的情况下，Pages不支持HTTPS哦不已经支持了。</p>
<p>在这个<a target="_blank" rel="noopener" href="https://fiveyellowmice.com/posts/2015/10/fight-a-peoples-war-for-https.html">全站HTTPS的时代</a>，无论页面是否存在敏感信息，都应该不遗余力的使用HTTPS，这样不仅仅是对我的访客负责，也是对自己负责。HTTPS的目的不仅仅在于保护敏感信息的安全传输，还在于保护页面内容的完整性、避免运行商劫持加入广告。</p>
<p>从某种程度上讲，Pages也好似另一种博客平台，只不过要比一般的平台的自定义程度要高一些（前提是你懂CSS和HTML等前端知识）。还有就是评论的问题，目前最好的解决方案就是disqus，然而disqus在大陆嘿嘿嘿了。所以嘛~~！</p>
<p>当然啦，如果你爱死了静态博客、又无法忍受Pages的缺点，那最好的方案就是VPS上搞静态博客啊。</p>
<h2 id="为何不选择博客平台而要搭建自己的博客"><a href="#为何不选择博客平台而要搭建自己的博客" class="headerlink" title="为何不选择博客平台而要搭建自己的博客"></a>为何不选择博客平台而要搭建自己的博客</h2><p>需要说明的是，博客平台也有着自己的一些优点，比如说访问比较快速、不用投资、几乎不用维护、SEO良好，对于很多人来说，博客平台就是很好的选择了，但这仍旧无法消除自建的博客对我的诱惑。</p>
<p>[v_blue]友情提示：那些有着非常强的隐匿&#x2F;匿名需求的人，在你的技术水平不是那么强的前提下，最好还是使用比较靠谱的BlogSpot甚至是ZeroNet、deepweb吧。[&#x2F;v_blue]</p>
<h3 id="博客平台可定制性太差"><a href="#博客平台可定制性太差" class="headerlink" title="博客平台可定制性太差"></a>博客平台可定制性太差</h3><p>早些年的时候，我曾经为QQ空间的装扮而烦恼，每个月都从我的某个土豪黄钻好友索要装扮，后来渐渐地发现，我再怎么选装扮，也是腾讯定好的模板，也不够有自己的个性。</p>
<p>其他的平台也大抵如此，你跳不出公司给你的圈子，最多也只能做到把手臂放在围栏外面感受一下自由的气息（比如说编程随想大改BlogSpot评论区）。</p>
<p>但是，如果我选择自己的博客，我将有权决定我的博客是什么样子的，我可以选择跳入WordPress这个围栏，还是Typecho，或者Jekyll、Hexo等静态博客，甚至是vim手写HTML都可以。</p>
<p>我可以在footer中吐槽下备案制度，我可以选择自己的主题，哪怕是跳入了心甘情愿的围栏，我也可以在围栏上开门（修改、创建自己的主题，增加插件），大肆的自定义，而这些是博客平台比较难做到的。突然想说微信公众号的排版有多么复杂、规则有多么繁琐、内容有多么封闭了。</p>
<p><a target="_blank" rel="noopener" href="https://www.eaimty.com/"><img src="/images/020517_0546_2.png"></a></p>
<h3 id="审查严重"><a href="#审查严重" class="headerlink" title="审查严重"></a>审查严重</h3><p>在国内的这些平台上，你不能说党国的不好，甚至是因为<strong>一致性原则</strong>的影响，从内心里你开始反抗”党国不好”的这个想法，进而认为党国其实也没那么不好。</p>
<p>再退一步，红色青年雷洋都不能再提、雾霾都成政治问题。作为搞IT的，你只懂技术是不行滴，同样还应该有很强的思辨能力，否则最终也就是沦落于给猪干活的马（<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8A%A8%E7%89%A9%E5%BA%84%E5%9B%AD">《动物农场》</a>）</p>
<p>在自己的博客上，说出自己的想法而不用担心被和谐的可能性大大提高了。没错，这几年我们见证了<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8F%AF%E8%83%BD%E5%90%A7">可能吧</a>被墙，见证了月光博客被要求删帖，见证了无数个人网站被关闭，我们见证了越来越糟糕的网络环境和政治体制，但是至少我们不会自我阉割、不会自我审查，因为我们深知自由是天赋人权。</p>
<h3 id="安全堪忧"><a href="#安全堪忧" class="headerlink" title="安全堪忧"></a>安全堪忧</h3><p>你放心把你的数据交给那些国内的土鳖公司吗？你知道他们是如何备份你的数据的吗？你如果想要一份你全部博文的副本，除了手动复制粘贴，还有别的方法吗？</p>
<p>抛开这些fundamental concerns, 网易、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/2011%E5%B9%B4%E4%B8%AD%E5%9B%BD%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E4%BA%8B%E4%BB%B6">CSDN被脱裤</a>（还丫的是明文密码，好歹hash一下啊），能忍？</p>
<p>退一万步，没有全站HTTPS和HSTS的保障是万万不可以的。我很怕被劫持，很讨厌无耻运营商加上的广告，我希望小锁头能够给我的访客足够的安全感。</p>
<p>在自己的博客上，你可以为自己的地盘负责，你可以HTTPS+HSTS，你可以对自己的数据负责。你认为WordPress只是把密码hash了下准备改造，结果发现是加了盐的——尽管这需要更多的知识，这不就是我们创建博客的目的吗？</p>
<h3 id="抄袭泛滥"><a href="#抄袭泛滥" class="headerlink" title="抄袭泛滥"></a>抄袭泛滥</h3><p>文章被转载，这是在说明我的文章对别人也同样有用；但是如果不引用来源标明URL，那么就算是抄袭。抄袭这种情况，在中文圈里可以说得上是很常见了，这是不尊重知识的表现。大环境下的抄袭泛滥，无可奈何…</p>
<p>不搜不知道，一搜吓一跳，很多在这种博客平台上发的文章都会被迅速转载（或者说是抄袭更合适）到各种采集站，哪怕你这个博客不是那么火（个人感觉这个情况在博客园上更明显）。</p>
<p><img src="/images/020517_0546_3.png"></p>
<p><img src="/images/020517_0546_4.png"></p>
<p> </p>
<p> </p>
<p>在上图中，文章的内容几乎是完全一样的，对于用户来说想要找到真正的原创作者往往不是那么容易，有点良心的会告诉你作者是谁，没良心的直接成原创。</p>
<p>相比之下，个人博客的抄袭往往要比平台慢一步，直接搜索关键字也往往会进入原创者的站点而不是采集站。为啥捏？没流量呗…</p>
<p>再次的提下<a target="_blank" rel="noopener" href="https://dmesg.app/about-me">CC-BY-NC-SA协议</a>： 本博客所有原创文章，如未特殊声明，均采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议（CC-BY-NC-SA）进行许可，即： 这意味着，如果你转载，你： 需要保留我的署名（在正文中标注并保留原文、作者和原始链接)； 不得为商业目的而使用本作品； 若改变、转变或更改本作品，你需要同样使用CC-BY-NC-SA 4.0</p>
<h3 id="学习到更多知识"><a href="#学习到更多知识" class="headerlink" title="学习到更多知识"></a>学习到更多知识</h3><p>在搭建博客的过程中，你需要了解基础的网络知识，知道什么是DNS、IP、HTTP，为此你需要去搜索，需要去学习。</p>
<p>在你选好了域名之后，你需要去学习Linux的基础知识，再之后你可能需要学习node.js, python，或者是学习Nginx、MySQL、PHP的相关知识。</p>
<p>如果你想全站HTTPS，那么你又要学习配置Nginx，需要学习如何找CA颁发证书。如果你有能力甚至会学习到HTTPS&#x2F;SSL&#x2F;TLS的设计历史与原理。</p>
<p>可能你得需要学习markdown（好吧这东西几分钟就能学会），需要学习git。</p>
<p>可能你的CMS没有邮件通知系统，于是你就用了前人的轮子甚至是自己用PHP造了一个。</p>
<p>如果你想推广自己的网站，就要去学习一些SEO的知识，你知道该如何写robots.txt, 知道如何让蜘蛛多来爬。</p>
<p>这个可能可以一直列下去，或许这样已经打消了很多人想要搭建博客的念头，但是：任务驱动式学习是最好的动力。</p>
<p>而在一个博客平台上，你一般是不太容易学习到这些知识的——通常的模式是所见即所得，只管写，哪有那么多。</p>
<h2 id="最后的总结"><a href="#最后的总结" class="headerlink" title="最后的总结"></a>最后的总结</h2><p>博客平台有很多好处，也有很多缺点；但是对我而言，博客平台的缺点是最致命的：我无法忍受审查（准确地说毫无理由的审查），我喜欢个性，讨厌抄袭，这些恰恰是博客平台不能提供给我的。</p>
<p>回到文章的最开头，问题是，为什么我要写独立域名的博客？</p>
<p>因为我爱得深沉呀❤</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/02/05/reason-of-this-blog/index/" data-id="clhp7rtig007bs2qr9gfrefb4" data-title="为什么我要写独立域名的博客" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-gspot/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/01/29/gspot/index/" class="article-date">
  <time class="dt-published" datetime="2017-01-29T00:00:00.000Z" itemprop="datePublished">2017-01-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/china/">china</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/01/29/gspot/index/">天朝民众的敏感G点</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://dmesg.app/about-me">《我算个几》</a>里已经提醒过了，博主俺是个十分高傲的人，不喜请拉黑。</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文不是讨论性爱的那个G点，所以看着标题点进来想要看小黄文或者想学习点什么技巧的，不好意思让你们失望了，可能你需要左转草榴。俺这么正经，肯定是来说别的事的。</p>
<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>话说大过年的时候，联合国在新浪微博的账号发了这么条信息：</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2017/01/012917_0604_G1.jpg"><img src="/images/012917_0604_G1.jpg"></a></p>
<p>这么一条”吃年夜饭但请不忘关注全球饥馑问题”的微博引起不少网友怒怼，大家可以看看<a target="_blank" rel="noopener" href="http://chinadigitaltimes.net/chinese/2017/01/%E3%80%90%E5%9B%BE%E8%AF%B4%E5%A4%A9%E6%9C%9D%E3%80%91%E5%88%AB%E7%BB%99%E6%88%91%E4%BB%AC%E5%A4%A7%E5%9B%BD%E6%B7%BB%E5%A0%B5/">中国数字时代</a>的归档。</p>
<p>不知道各位看官作何感想，想说点啥？想说就戳最下评论区，但是先让我瞎逼逼分析下这件事。当然了，咱要先污污污一下~ :grin: :oops: </p>
<h2 id="G点高潮"><a href="#G点高潮" class="headerlink" title="G点高潮"></a>G点高潮</h2><p>所谓G点，就是嘿嘿嘿，就是一个特别敏感的地方，你这么一碰啊，哪怕是悄悄地一碰啊，就哇哇哇高潮了。高潮了之后呢，就肯定失去理智了，之后就很容易变得疯狂。</p>
<p>我们这里所说的民众心里情节上的”G点”，也恰恰是借用了这个概念，就是那些非常容易让群众们群情激昂的特定话题，而这些话题基本上都是具有极强的煽动性的。</p>
<h2 id="小粉红的G点"><a href="#小粉红的G点" class="headerlink" title="小粉红的G点"></a>小粉红的G点</h2><p>估计大家都应该随着”<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/2016%E5%B9%B4%E4%B8%AD%E5%9B%BD%E5%A4%A7%E9%99%86%E7%BD%91%E6%B0%91%E2%80%9C%E5%87%BA%E5%BE%81%E2%80%9DFacebook%E4%BA%8B%E4%BB%B6">大陆网民出征Facebook</a>“而熟知小粉红这一个特殊名词，小粉红是泛指年轻一代民族主义者，或称”爱国青年”。</p>
<p>没有经过统计分析，博主俺粗略的感觉下，小粉红们的G点主要集中在：<strong>部分</strong>领土主权问题，<strong>部分</strong>历史遗留问题。</p>
<h2 id="G点的形成"><a href="#G点的形成" class="headerlink" title="G点的形成"></a>G点的形成</h2><p>话说，人类胚胎在发育过程中呀，在第五个月的时候，胎儿…啊呀不好意思，跑题了，一个人在成长过程中呀，其认知能力会依环境、个体差异而被塑造。这环境呐，大部分就是由教育决定的。在认知过程中，<strong>教育的作用是非常大的</strong>。</p>
<p>那G点这东西必然是人对一种观念过于敏感、片面的认知结果，而这种认知往往会陷入非常疯狂的地步。所以咱先来分析下它的起源，也就是从天朝的教育体制说起。</p>
<h2 id="正常教育与洗脑教育"><a href="#正常教育与洗脑教育" class="headerlink" title="正常教育与洗脑教育"></a>正常教育与洗脑教育</h2><p>老头子爱因斯坦曾经说过这么一句话：教育的价值在于训练思维，而不在于传授事实（The value of a college education is not the learning of many facts but the training of the mind to think.），这老头子也不知道音速是多少，奇怪吧。</p>
<h3 id="正常教育的过程"><a href="#正常教育的过程" class="headerlink" title="正常教育的过程"></a>正常教育的过程</h3><p>正常教育的过程应该是训练思维，如果用盖房子做比喻，那么就是：</p>
<p>“传授事实”就如同给你提供建材——这不是关键。</p>
<p>“训练思维”就如同教会你”如何用建材来构造墙壁和柱子”，以及”如何用墙壁和柱子来构造建筑物”——这才是关键。</p>
<p>由于每个人思维能力的不同和个体差异，正常教育之下，每个人都可能发展成<strong>不同的思想体系</strong>进而变成”多样化”，想想生态系统是不是多样化比较稳定呀？</p>
<h3 id="洗脑教育的过程"><a href="#洗脑教育的过程" class="headerlink" title="洗脑教育的过程"></a>洗脑教育的过程</h3><p>洗脑教育的过程，那最大的特色估计就是”灌输”啦。所谓灌输，就是直接把一系列思想体系（价值观、意识形态等）塞给你，通常这个过程不会是一股脑的而是”细水长流”慢慢来、甚至是全方位无死角跨越时间的。</p>
<p>如果还用盖房子做比喻，那就是直接送你一套房子，不仅不告诉你如何用建材构造墙壁，甚至连建材都不给你。尽管人们都是趋向偷懒的（比如那个不想走路的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8D%A1%E5%B0%94%C2%B7%E6%9C%AC%E8%8C%A8">卡尔·本茨</a>），但是如果你在”选房子”上沾沾自喜选择现成的，那这成为深度脑残的资质还是蛮不错的…</p>
<p>洗脑教育的缺点非常多，首先是它剥夺了你作为人自由的权利，你<strong>无法建立自己的思想体系</strong>；其次，剥夺了<strong>锻炼思维能力的机会</strong>；再有，容易促成不爱思考、全盘接受信息的<strong>思维惰性</strong>。还有一点，不知各位有没有读过《美丽新世界》？一个模子里造出来的人，思维缺乏多样化。</p>
<h2 id="光环效应"><a href="#光环效应" class="headerlink" title="光环效应"></a>光环效应</h2><p>人们对人的认知和判断往往只从局部出发，扩散而得出整体印象，也即常常以偏概全。</p>
<p>光环效应就是事物的<strong>局部优点（或缺点）被扩大至全部</strong>。一个人如果被标明是好的，他就会被一种积极肯定的光环笼罩，并被赋予一切都好的品质，这是”正向光环效应”；如果一个人被标明是坏的，他就被一种消极否定的光环所笼罩，并被认为具有各种坏品质，这是”反向光环效应”。</p>
<p>假如你喜欢某个歌星，觉得他歌唱的好，那么你”自然而然”就会觉得他演技也好，甚至人品也好。</p>
<h2 id="选择性失察"><a href="#选择性失察" class="headerlink" title="选择性失察"></a>选择性失察</h2><p>选择性失察，则是你选择性的<strong>看见那些一致性</strong>的（对偶像的优点如数家珍）、而<strong>忘记不一致的</strong>（对偶像的缺点视而不见）心理现象。</p>
<p>选择性失察可以说是与一致性原则和光环效应互相促进的结果。</p>
<h2 id="一致性原则"><a href="#一致性原则" class="headerlink" title="一致性原则"></a>一致性原则</h2><p>心理学中有一种非常重要的原则叫做”一致性原则”，简单的讲，就是人的潜意识中想要试图<strong>保持某种东西的一致性</strong>。具体一些，就是说当你对某个事件有正面评价的时候，你的心里就会排斥负面评价。举个例子，假如你喜欢某个人，你的潜意识中就会排斥掉对方的缺点和不足，进而造成更严重的选择性失察。</p>
<h2 id="单一信息来源"><a href="#单一信息来源" class="headerlink" title="单一信息来源"></a>单一信息来源</h2><p>在<a target="_blank" rel="noopener" href="https://dmesg.app/video-clips">Lantern宣传片</a>中，有一句话是这么说的：Someone could be heard in a matter of seconds, all the way across the world.</p>
<p>由于互联网的发展，人们的信息流变得丰富，而不是单一的依赖于报纸、电视和口耳相传。</p>
<p>宣传片同样说到，</p>
<p>Except that freedom isn’t available to everyone. </p>
<p>恰恰由于GFW的存在，导致民众通常只会接触到党国审查之后的媒体。</p>
<p>好似你天天给一个人看抗日神剧、只给他这一个信息来源来了解日本，由于<strong>反向光环效应和一致性原则</strong>的共同作用，他肯定会觉得日本人是坏的，进而扩散到所有和日本相关的东西都是坏的。</p>
<h2 id="弱化理性、强化感性"><a href="#弱化理性、强化感性" class="headerlink" title="弱化理性、强化感性"></a>弱化理性、强化感性</h2><p>我们大概能理解当一个人失去理性时会是怎样——但这可能只是表面。</p>
<p>想要弱化理性，最好的办法就是激起人的本能：<strong>诉诸仇恨、诉诸恐惧</strong>。当一个人非常恐惧的时候，往往就会慌不择路方寸大乱；当一个人十分愤怒的时候，往往理性思维就会被削弱，比如摔了手边的贵重物品等。</p>
<p>当一群人都因为愤怒或者是恐惧而被感性支配的时候，这一群人就可能陷入集体无意识，比如上去就把开<a target="_blank" rel="noopener" href="https://theinitium.com/article/20161123-mainland-lijianli/">丰田车的车主砸成至今生活不能自理</a>。 [v_blue]集体无意识：想想那些看演唱会的粉丝陷入的忘我的疯狂，你大概就知道什么是集体无意识了，当一个人加入某个群体时，群体的无意识行为代替了个体的有意识行为，个人的意识就消失了。[&#x2F;v_blue]</p>
<h2 id="G点形成的总结"><a href="#G点形成的总结" class="headerlink" title="G点形成的总结"></a>G点形成的总结</h2><p>说了这么生涩的概念，G点的形成可以总结为：洗脑教育和闭关锁国使人们<strong>丧失了自己的思维能力、惰于思考</strong>，促进了光环效应的形成，使人们<strong>一致性的保持一种观点</strong>进而选择性的遗忘或失察某种现象或事实——最终变得感性而很容易被某件事情<strong>触动高潮最终爆发</strong>成为集体无意识。</p>
<h2 id="真正的G点"><a href="#真正的G点" class="headerlink" title="真正的G点"></a>真正的G点</h2><p>如果看官细心，可能会发现上文我说的小粉红们的G点是有加粗的”部分”的。</p>
<h3 id="部分领土主权问题"><a href="#部分领土主权问题" class="headerlink" title="部分领土主权问题"></a>部分领土主权问题</h3><p>小粉红们记得钓鱼岛、南海是中国不可分割的一部分，那库页岛、外兴安岭、黑瞎子岛、长白山天池、南沙纳土纳群岛等就是可以分割的一部分吗？如果朝廷真的是寸土不让，那为何只提钓鱼岛，而不说那些<strong>弱的时候</strong>被抢走的地甚至是<strong>强的时候</strong>主动让的地？</p>
<h3 id="部分历史遗留问题"><a href="#部分历史遗留问题" class="headerlink" title="部分历史遗留问题"></a>部分历史遗留问题</h3><p>小粉红们只记得xx大屠杀，xx战争，可是却似乎不知道或者说是选择性遗忘那三年饿死了多少人、那十年整死了多少人（包括老舍傅雷这种牛逼的文学大家）、那几天屠杀了多少人民群众？</p>
<h2 id="如何避免被高潮"><a href="#如何避免被高潮" class="headerlink" title="如何避免被高潮"></a>如何避免被高潮</h2><p>你能读到这，并表示赞同我的某些看法，上文还归结了那么多原因，我想你懂的。</p>
<h2 id="真正的G点-1"><a href="#真正的G点-1" class="headerlink" title="真正的G点"></a>真正的G点</h2><p>真正的G点远远不止这些，想想雾霾，毒疫苗毒奶粉害死人，被嫖娼，想想你的天赋人权的言论自由，他丫的新疆连网都上不了，你丫人呢？报纸上全是好消息，好人肯定都在监狱里呢。</p>
<p>以为自己很强势很伟大，群情激昂就能够改变什么，其实只是丢人现眼而已。</p>
<p>最后，送给大家”自由思想的原则”，很拗口，但这才是真正的自由：</p>
<blockquote>
<p>不是确保我们喜欢的思想的自由，而是确保我们所憎恨的思想的自由。</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/01/29/gspot/index/" data-id="clhp7rtgn003is2qrhs1z5ejd" data-title="天朝民众的敏感G点" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-other-than-tech/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/01/09/other-than-tech/index/" class="article-date">
  <time class="dt-published" datetime="2017-01-09T00:00:00.000Z" itemprop="datePublished">2017-01-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/justsay/">justsay</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/01/09/other-than-tech/index/">除了技术，你还应该会什么</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>今天偶然在某个群里发现一个软件的截图，发现其文案特别外行。本着分享的目的我就顺手发到某个程序员可能出没的地方。没想到的是，这地方也能出现哭笑不得的评论。真是觉得超无奈。</p>
<p>作为程序员，或者更广泛的说IT从业者，除了技术，你应该懂的更多…</p>
<h2 id="搞笑的文案"><a href="#搞笑的文案" class="headerlink" title="搞笑的文案"></a>搞笑的文案</h2><p>如图所示，此图的笑点在于”128位高度不对称加密算法”。</p>
<p><img src="/images/010917_1431_1.png"></p>
<p>而这笑点又有两个</p>
<p>其一，”128位（高度）不对称加密算法”</p>
<p>如果读者对密码学稍有了解(<a target="_blank" rel="noopener" href="https://dmesg.app/encryption-gpg-veracrypt.html">如果你不了解就戳我</a>)，就应该知道<strong>非对称密码要有比较长的密钥长度才能够相对保证安全</strong>，而达到接近的安全性，对称密码的密钥长度则要短太多。比如说大部分人会大致认同RSA 2048和AES 128安全性基本一致。</p>
<p>其二，”高度不对称”，哎嘿这也很搞笑。高度不对称是什么，A和ʌ是高度不对称吗？那中度不对称是3和з？低度不对称是和力和カ了？</p>
<h3 id="如何阅读一个句子"><a href="#如何阅读一个句子" class="headerlink" title="如何阅读一个句子"></a>如何阅读一个句子</h3><p>以本文的例子为例，”128位高度不对称加密算法，笑到肚子痛，这是要几分钟破解啊”</p>
<p>我们首先要分析下，这个句子的论题是什么，结论是什么。</p>
<p>由于句子往往都很短，所以大概能很轻松的分析出来，论题是”128位不对称加密算法的安全性”，结论是”128位非常不安全，很容易就被破解”。</p>
<p>这只是一个句子，如果是一段话、一篇文章，那么找到对应的论题和结论以及支持对应结论的理由就比较困难了。</p>
<p>论题就是，<strong>引起对话、讨论的问题，它是驱动所有后续讨论的动力。</strong></p>
<p>结论就是，<strong>作者希望你接受的观点。</strong></p>
<p>如果找不清楚作者的结论，你就会曲解别人的意图，那么回答就会显得驴唇不对马嘴。来瞅瞅几个例子吧。</p>
<h4 id="开始解释万能钥匙原理的"><a href="#开始解释万能钥匙原理的" class="headerlink" title="开始解释万能钥匙原理的"></a>开始解释万能钥匙原理的</h4><p>这软件并不是破解，而是自动上传，然后下载密码……</p>
<p>又一个不看题目的</p>
<p> </p>
<h4 id="开始说理解错误的"><a href="#开始说理解错误的" class="headerlink" title="开始说理解错误的"></a>开始说理解错误的</h4><p>传输加密，并不是破解密码</p>
<p>请你使用RSA 128来加密你的邮件（暂且不提是否有这种实现）</p>
<p> </p>
<h4 id="开始转移话题探讨极限的"><a href="#开始转移话题探讨极限的" class="headerlink" title="开始转移话题探讨极限的"></a>开始转移话题探讨极限的</h4><p>安全是相对的，选择合适，然后在适当的时候升级……也许明天量子计算机就出现了，多少位都无效了……</p>
<p> </p>
<p>768 bits的RSA都被干掉了……</p>
<p>这让我想起了一个图：</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2017/01/010917_1431_5.jpg"><img src="/images/010917_1431_5-138x300.jpg"></a></p>
<h2 id="可悲的逻辑"><a href="#可悲的逻辑" class="headerlink" title="可悲的逻辑"></a>可悲的逻辑</h2><p>仔细观察，上面的几个回答全都是文不对题的。</p>
<p>实在无法想象会有这么奇葩的回答。深深觉得IT从业者应该不只是有技术能力，还应该有更强的<strong>思辨能力</strong>——只有这样才能跳出围墙。</p>
<p>下面我就说一些<strong>个人觉得</strong>很重要的、比较少被提到的非技术能力。</p>
<h2 id="1-学好英语"><a href="#1-学好英语" class="headerlink" title="1. 学好英语"></a>1. 学好英语</h2><p>对于搞IT的人来说，英语是多重要就不必细谈了。但是对于评判”好”，很多人可能会以为学好英语就是考过四六级等考试。这是一种评价方式，但是这种通过这种评价的<strong>未必能够满足我们的英语需求</strong>。那么何为满足呢？说废话就是语言不会成为你学习的阻碍，办法就是去StackOverflow, GitHub, wiki, forum等自己所处领域的地方去阅读，只要能够无障碍读懂并能够发表自己的见解，基本上就差不多了。</p>
<h2 id="2-学会用Google"><a href="#2-学会用Google" class="headerlink" title="2. 学会用Google"></a>2. 学会用Google</h2><p>如果可能的话，就用英文进行检索。这也就得学好英语了。</p>
<p>为啥要使用Google而不是百度呢？Google的搜索深度、广度是百度等流无法匹敌的(哪怕Google已经退出大陆六七年)，而且你还不用分辨哪个是广告哪个是搜索结果。</p>
<h2 id="3-坚持虚心自学"><a href="#3-坚持虚心自学" class="headerlink" title="3. 坚持虚心自学"></a>3. 坚持虚心自学</h2><p>勤快点，虽说懒人创造了世界，但是懒人们为了偷懒往往付出了更多的辛苦。</p>
<p>别想着自己花多少钱报个班、花多少钱买个资料就一定会坚持学习，那些办了健身卡的人可什么都没说。也最好别指望着师从高人——除非他很喜欢你。毕竟嘛，不一定每个人都喜欢你哦。</p>
<h2 id="4-坚持自由思想"><a href="#4-坚持自由思想" class="headerlink" title="4. 坚持自由思想"></a>4. 坚持自由思想</h2><p>乔治·奥威尔的《1984》中有一个名词叫做”思想罪”：思想罪不会带来死亡，思想罪本身就是死亡。</p>
<p>这话看着很抽象，但是请你想想，你有没有这样的时候：</p>
<p>你在心里静静思索，这话我不能说，说出去怕被查水表；你质问别人，这么说，就不怕被查水表吗？</p>
<p>如果你都不能自由思想了，那也就只是会沦为体制的附庸，围墙内还能有啥？</p>
<p>并且，坚持自由思想不是确保我们喜欢的思想的自由，而是确保我们所憎恨的思想的自由。</p>
<h2 id="5-守规则"><a href="#5-守规则" class="headerlink" title="5. 守规则"></a>5. 守规则</h2><p>几天前说过”<a target="_blank" rel="noopener" href="https://dmesg.app/fear-without-rules.html">没有规则才最可怕</a>“，守规则的理由很简单，规则就是这样定的。对于理性的思考来说，应得的就是应得的，你不能以感性的愤怒、羞辱、面子等为由肆意妄为、违背规则。_你更不能两天一小变，三天一大变，这迟早得便秘憋死_。</p>
<h2 id="6-愿意独立思考"><a href="#6-愿意独立思考" class="headerlink" title="6. 愿意独立思考"></a>6. 愿意独立思考</h2><p>关键字是”独立”、”思考”。你不仅仅要去想怎么写而不是复制粘贴，还要独立完成想的过程；你不仅仅要想代码，你还要反思楼下被砸的丰田车。人都是懒惰喜欢享受的，也都是喜欢一元化思维的，假如不独立思考也就只有被忽悠的份啦。你不仅要读技术书籍，还要阅读《学会提问》等书。</p>
<h2 id="7-拥有基本的批判性思维"><a href="#7-拥有基本的批判性思维" class="headerlink" title="7. 拥有基本的批判性思维"></a>7. 拥有基本的批判性思维</h2><p>批判性思维就是用一种理性、客观、具有逻辑性的方式去分析某个命题。拥有基本的批判性思维也就意味着了解一些常见的逻辑谬误、知晓一些常见的思维误区。</p>
<p>有一定的批判性思维能力，你在讨论某个问题的时候通常就不会”随大流”，不容易被忽悠被洗脑，也就不至于沦为平庸。</p>
<p>有了一定的批判性思维，你也就比较难搞出”你打你老婆和孩子”这样的丢人现眼的事情了。</p>
<h2 id="8-少说废话多做事"><a href="#8-少说废话多做事" class="headerlink" title="8. 少说废话多做事"></a>8. 少说废话多做事</h2><p>Linux他爹说过一句很有气势的话：Talk is cheap, show me the code.废话少说，放码过来。如果你是一名高校学生，你可能会被各种报告论文所困扰，你还有可能会发现到头来老师只是<strong>看中所谓的废话连篇的报告而不是你的代码质量</strong>。没关系，报告只不过是掩饰”不会并且水平渣”的工具而已。</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>本文好像写着写着就出了鸡汤味儿，但我保证这鸡汤不好喝。乾杯?</p>
<p>PS：关于对这软件的看法，我的想法是，你要是觉得方便那你就用；但是建议你阅读下这么几篇文章吧，然后再做决定：</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/school-1.html">《从开放式网络中想到的：无处不在的危险》</a></p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/prevent-from-network-audit.html">《如何防范网络审计》</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/01/09/other-than-tech/index/" data-id="clhp7rthw006bs2qr7sqqdofz" data-title="除了技术，你还应该会什么" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-miss-dong/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/01/03/miss-dong/index/" class="article-date">
  <time class="dt-published" datetime="2017-01-03T00:00:00.000Z" itemprop="datePublished">2017-01-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/justsay/">justsay</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/01/03/miss-dong/index/">怀念东东</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>开门就不红的2017年，被羁绊在旅途中….途中想起你，想起了好久之前就想写的怀念。</p>
<p>今年的的第一节课，和我上大学的第一节课，都是他。 很无奈的是我却被困在途中，无法亲临现场。</p>
<p>三年半之前了吧，我和室友们走进教室的时候发现早已站着一名西装革履的帅哥。他就是我们的综合英语老师，我们都叫他东东。九月份，真的是一脸严肃认真啊。当时我还对大学懵懵懂懂，之前给家里打电话的时候听到小孩喊舅舅差点哭出来；当时我还完全不知道大学是什么，身边也都是陌生的人们。Half a day?我来这是为了什么…</p>
<p>渐渐的我发现气质这种东西真的是看不见的美好。只要他站在讲台上，就好似有一种看不到的气势在督促着你但又不会让你感觉窒息；无论课前、课间、课后，我都从未见过他拿手机，伴随着他的总是一些原著、或是教科书。他不像有的老师那样无理取闹，也不像有的老师那样严加管教。大概理性、睿智、宽容、博学是最能能形容他的词语了。怎么会这样完美！</p>
<p>有的时候他会跟我们说公园里那些可笑的翻译，有的时候他会跟我们说universal grammar, 会说约翰把球推下山，还有究竟是约翰通过望远镜看到了一个人还是约翰看到了一个拿着望远镜的人？缺乏证据和没有证据，绝对权力导致绝对腐败。Democracy? 这些与课本毫无相关的内容几乎成为了当时维护我破碎的爱情的支架。</p>
<p>有的时候，每周最希望的事情就是上他的课，因为总是会听到很多好玩的东西；有的时候又有些害怕，谁叫我总是不背课文不背单词呢…有的时候有的时候，时间就这样一点点跑掉，跑到了那个被银行职员“欺负”的小男孩，跑到了胖子智斗间谍的故事，跑到了莳萝泡菜那段深情感人的对白，跑到了在水中挣扎求生的人们，跑到了美国中部那个曾经美好的死寂的春天，还有那个荒谬的、站不住脚的观点。后来我在看《学会提问》的时候，总是想起Groundless beliefs.</p>
<p>两年，没想到那一天你会告诉我们你要去进修，你还信誓旦旦的保证说你会回来的。 或许是到毕业的时候….幸运的是，一年半，终于等到了。我怀念的，是那时课上的音容笑貌…</p>
<p>三个学期都快过去了，记忆开始变得模糊，好怕忘记那两年…终于等到你。这就是幸运吧，如果我大学的综英老师不是他，可能我也无法像今天这样吧。我从小就不喜欢听人管教，又讨厌无理取闹。得知我幸，不得我不信，再不得我不幸-_-#</p>
<p>可是，唯一不幸的是，我再也无法触及你曾点赞的温暖，再也没有最后的幻想了❤</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/01/03/miss-dong/index/" data-id="clhp7rthj004xs2qr3nuzc1qx" data-title="怀念东东" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-win2linux/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/01/03/win2linux/index/" class="article-date">
  <time class="dt-published" datetime="2017-01-03T00:00:00.000Z" itemprop="datePublished">2017-01-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>►<a class="article-category-link" href="/categories/linux/website/">website</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/01/03/win2linux/index/">重装腾讯云的Windows Server 2012为Ubuntu 16.04</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>2018年5月10日更新 貌似现在这个方法不管用了，我测试中18.04无法检测到磁盘，16.04检测光盘的时候出错。</p>
<p><strong>要是想全新安装18.04的话（腾讯云官方不给18.04的镜像，而且装了一大堆烂七八糟的东西，心烦），可以参考这篇文章 <a target="_blank" rel="noopener" href="https://i-meto.com/netboot-ubuntu-18-04/">https://i-meto.com/netboot-ubuntu-18-04/</a></strong></p>
<p>本文灵感源于此：<a target="_blank" rel="noopener" href="https://blog.yoitsu.moe/arch-linux/cvm_with_arch_linux.html">https://blog.yoitsu.moe/arch-linux/cvm_with_arch_linux.html</a></p>
<p>嘿嘿嘿</p>
<p>本文就以Ubuntu 16.04做例子啦。首先需要安装<a target="_blank" rel="noopener" href="http://neosmart.net/Download/Register">EasyBCD</a>，下载好<a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-releases/16.04.1/ubuntu-16.04.1-server-amd64.iso">Ubuntu 16.04</a>的ISO</p>
<p>[v_blue]友情提示（这Comic Sans字体有点逗啊） 1.其他发行版不敢保证成功率哦。</p>
<p>2.将Win改成Linux之后，在控制台关机重启会很慢……但是开机还是一如既往的快[&#x2F;v_blue]</p>
<h2 id="压缩系统盘"><a href="#压缩系统盘" class="headerlink" title="压缩系统盘"></a>压缩系统盘</h2><p>为了方便，我们把50G的系统盘分成两部分，一部分用来存放安装镜像，一部分用于分给&#x2F;使用。首先要远程桌面连到服务器。然后呐，使用mmc.exe，文件-添加&#x2F;删除管理单元-添加磁盘管理</p>
<p><img src="/images/010317_1141_1.png"></p>
<p>之后在C盘上右键，选择压缩卷。</p>
<p><img src="/images/010317_1141_2.png"></p>
<p>不用太多，1G就够哦。</p>
<p><img src="/images/010317_1141_3.png"></p>
<p>哎嘿出现了未分配的空闲分区，右键，新建简单卷。一直下一步，选择文件系统的时候记得选择FAT32，保险起见顺便把卷标也清空了哈。</p>
<p><img src="/images/010317_1141_4.png"></p>
<h2 id="备份网络信息"><a href="#备份网络信息" class="headerlink" title="备份网络信息"></a>备份网络信息</h2><p>腾讯云不给DHCP用，所以咱就得备份下网络信息，谁希望安装一个不能联网的Ubuntu呀？</p>
<p>方法就是网络和共享中心-更改适配器设置-属性-TCP&#x2F;IP v4，大概是酱紫</p>
<p><img src="/images/010317_1141_5.png"></p>
<p>截个图或者存记事本里吧。</p>
<h2 id="挂载镜像、复制文件"><a href="#挂载镜像、复制文件" class="headerlink" title="挂载镜像、复制文件"></a>挂载镜像、复制文件</h2><p>此时我假设你的镜像已经下载好啦，本文以Ubuntu 16.04 server amd64为例（其他发行版是否能够成功我不清楚哟）</p>
<p>你就直接双击那个镜像，把所有文件都复制到D盘（也就是刚刚压缩出来的1G的分区），请再次确认这个分区的文件系统是FAT32哟~</p>
<h2 id="创建引导"><a href="#创建引导" class="headerlink" title="创建引导"></a>创建引导</h2><p>哎哟，复制完啦，咱就打开EasyBCD，定位到添加新条目-NeoGrub，下面选项卡切换到ISO</p>
<p><img src="/images/010317_1141_6.png"></p>
<p>保险起见，咱就把名称的中文去掉啦，然后路径<strong>指向你的iso文件</strong>，模式选择<strong>从磁盘运行</strong>，点击添加条目，稍等片刻~</p>
<p>漫长的等待啊……</p>
<p><img src="/images/010317_1141_7.png"> [v_tips]友情提示： 不用试从内存运行啦，会失败的哟~[&#x2F;v_tips]</p>
<h2 id="重启并挂载vda3"><a href="#重启并挂载vda3" class="headerlink" title="重启并挂载vda3"></a>重启并挂载vda3</h2><p>EasyBCD完成任务之后，咱就可以重启服务器啦。</p>
<p>之后眼疾手快的打开VNC哟。</p>
<p>当然选择第二项然后回车啦</p>
<p><img src="/images/010317_1141_8.png"></p>
<p>然后就是选择语言，配置</p>
<p><img src="/images/010317_1141_9.png"></p>
<p>差不多一路回车，直到探测键盘之后</p>
<p>也就是下图之后</p>
<p><img src="/images/010317_1141_10.png"></p>
<p>安装程序会告诉你找不到cdrom</p>
<p>别急，咱在右上角切换到第二个tty呀</p>
<p><img src="/images/010317_1141_11.png"></p>
<p>手动挂载下vda3，执行如下命令</p>
<p>mount -o ro &#x2F;dev&#x2F;vda3 &#x2F;cdrom</p>
<p>咱可以切到<code>/cdrom</code>里ls下</p>
<p>如果结果不像下图这样，那就重启检查下D盘（也就是vda3）是否为FAT32</p>
<p><img src="/images/010317_1141_12.png"></p>
<p>再回到tty1</p>
<p>在挂载失败页面选择no，然后重新运行下这一项呐</p>
<p><img src="/images/010317_1141_13.png"></p>
<p>啊哈哈成功了。</p>
<h2 id="配置系统"><a href="#配置系统" class="headerlink" title="配置系统"></a>配置系统</h2><p>之后就和正常的安装没什么两样啦，不过DHCP是不管用的哟，所以要自己手动按照保存的信息配置下系统哟。</p>
<p><img src="/images/010317_1141_14.png"></p>
<p>之后主机名随意设置，用户名自己取，密码自己选，主目录加密不加密随心情，时区呀什么的看着办，然后安装程序就告诉你了，不能碰vda3呀，确定不理他，直到选择安装磁盘的地方……</p>
<p>咱选择2号，也就是vda2，Windows的C盘，不要选择错了哦。要是某些有强迫症的童鞋，可以把1#和2#删掉放一起。</p>
<p><img src="/images/010317_1141_15.png"></p>
<p>如下图设置，<strong>挂载点选择&#x2F;，文件系统选择Ext4，启动标志选择on</strong>，然后done</p>
<p><img src="/images/010317_1141_16.png"></p>
<p>之后选择finish……</p>
<p><img src="/images/010317_1141_17.png"></p>
<p>安装程序跟你要swap，先别管啦选择no（你要非得管，就把vda1分了，要么自己好好分得了），之后安装程序又问你一遍，你就yes确定写入硬盘。</p>
<p><img src="/images/010317_1141_18.png"></p>
<p>漫长的安装过程呀</p>
<p><img src="/images/010317_1141_19.png"></p>
<p>不要着急哟，安装程序看着好像是卡住了，其实活着呐~</p>
<h2 id="配置软件包"><a href="#配置软件包" class="headerlink" title="配置软件包"></a>配置软件包</h2><p>这一步呐出现了一个比较严肃的问题，安装程序会跳出来，我们尝试选择select and install software，想要选择下安装哪些软件包，但是却总是跳回来。</p>
<p><img src="/images/010317_1141_20.png"></p>
<p>所以……跨到安装grub吧，安装个基本的系统又何妨，比busybox强、有dpkg就可以啊。</p>
<h2 id="安装grub"><a href="#安装grub" class="headerlink" title="安装grub"></a>安装grub</h2><p>如果一切顺利的话，那么就得配置grub啦。</p>
<p>选择install the grub boot loader on a hard disk，不要选错了哟。默认来说就是<code>/dev/vda</code>，直接回车就好了。</p>
<p><img src="/images/010317_1141_21.png"></p>
<p>估计接下来就没啥事了，然后重启吧~当前的VNC会挂掉，再开个新的VNC，就会发现Ubuntu已经在启动啦！</p>
<p>啊哈哈哈</p>
<p><img src="/images/010317_1141_22.png"></p>
<p>输入你的账号密码，登录吧。</p>
<p>df一个给你们看看哟。货真价实的50G呀。</p>
<p><img src="/images/010317_1141_23.png"></p>
<h2 id="一些后续问题和后遗症"><a href="#一些后续问题和后遗症" class="headerlink" title="一些后续问题和后遗症"></a>一些后续问题和后遗症</h2><h3 id="OpenSSH"><a href="#OpenSSH" class="headerlink" title="OpenSSH"></a>OpenSSH</h3><p>很遗憾咱无法选择软件包，所以就只能想办法用用光盘里的东西啦。</p>
<p>sudo mount –o ro &#x2F;dev&#x2F;vda3 &#x2F;media&#x2F;cdrom<br>sudo apt update<br>sudo apt install openssh-server</p>
<h3 id="软件源"><a href="#软件源" class="headerlink" title="软件源"></a>软件源</h3><p>既然咱已经装好了OpenSSH，那还怕啥，putty这类家伙连上，想要什么软件包不都是分分钟的事情吗。为了方便广大读者，直接粘贴这两句就可以啦。</p>
<p>sudo mount –o ro &#x2F;dev&#x2F;vda3 &#x2F;media&#x2F;cdrom<br>sudo apt install curl<br>curl <a target="_blank" rel="noopener" href="https://repogen.simplylinux.ch/txt/xenial/sources/_431af76ab4c7ca7ccb02ff30ab7d58c6d5e60000.txt">https://repogen.simplylinux.ch/txt/xenial/sources\_431af76ab4c7ca7ccb02ff30ab7d58c6d5e60000.txt</a> | sudo tee &#x2F;etc&#x2F;apt&#x2F;sources.list</p>
<p><img src="/images/010317_1141_24.png"></p>
<p>很推荐<a target="_blank" rel="noopener" href="https://repogen.simplylinux.ch/index.php">Ubuntu Sources List Generator</a>这个网站！</p>
<h3 id="1G的分区"><a href="#1G的分区" class="headerlink" title="1G的分区"></a>1G的分区</h3><p>童鞋们还记得最开始分的1G的分区吗？怎么处理他？哎，当然是做成Swap啦，或者闲着也可以啊。</p>
<p>sudo mkswap &#x2F;dev&#x2F;vda3<br>sudo swapon &#x2F;dev&#x2F;vda3</p>
<p>但是酱紫每次重启都得运行一遍，咱就修改&#x2F;etc&#x2F;fstab吧（我这里vi有点问题，就apt安装vim啦）。</p>
<p>sudo mkswap &#x2F;dev&#x2F;vda3<br>sudo apt install vim<br>sudo vim &#x2F;etc&#x2F;fstab<br>#行尾添加如下内容<br>&#x2F;dev&#x2F;vda3    swap    swap defaults        0 0</p>
<p>保存退出即可。</p>
<h3 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h3><p>常在江湖走，哪敢不开防火墙？</p>
<p>用ufw查查资料啦，懒得打字啦。</p>
<h3 id="缺少众多软件包的后遗症"><a href="#缺少众多软件包的后遗症" class="headerlink" title="缺少众多软件包的后遗症"></a>缺少众多软件包的后遗症</h3><p>前面咱们不是select and install software失败了嘛，所以导致我们几乎安装成了一个最小化的Ubuntu，甚至连curl也没有，但是只要有apt、有网，还怕什么呢？</p>
<p>下面的这条命令是安装vim、nano、build-essential、man手册、ppa支持、do-release upgrade、bash自动补全什么的，缺什么补什么吧，反正有apt超级牛力嘛~</p>
<p>sudo apt install -y vim  nano build-essential  man-db python-software-properties  update-manager-core bash-completion dnsutils at locate software-properties-common</p>
<p>注意，bash自动补全要编辑<code>/etc/bash.bashrc</code>文件，把 <code>enable bash completion in interactive shells</code>之后的一段全都取消注释</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>俺们技术宅就是这么坑蒙拐骗哒~</p>
<p>50G硬盘到手，快去做个快照吧啊哈哈~</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/01/03/win2linux/index/" data-id="clhp7rtnd00bcs2qr3y7o94pm" data-title="重装腾讯云的Windows Server 2012为Ubuntu 16.04" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-fear-without-rules/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2016/12/19/fear-without-rules/index/" class="article-date">
  <time class="dt-published" datetime="2016-12-19T00:00:00.000Z" itemprop="datePublished">2016-12-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/justsay/">justsay</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2016/12/19/fear-without-rules/index/">没有规则才是最可怕的</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>假如你是一位高校老师，有一名学生翘课被你点名发现了，按照二八分、平时成绩出勤占一半、三次缺勤取消考试资格的规定，你会怎么做？</p>
<p>我猜大部分人应该选择根据规则来，扣掉该扣的那一次缺勤分，而不是看心情、想扣光就扣光、想怎样就怎样。</p>
<p>但是假如那名学生说你是傻逼呢？有多少人会给他应该得到的出勤分、扣掉一部分课堂表现，而不是直接让他拜拜重修？</p>
<p>假如后来你发现说你傻逼的那学生是省长他外甥呢？有多少人会“维持原判”，有多少人会贴脸给满分来“冰释前嫌”？</p>
<p>你看，你是不是悄悄改变了自己的规则——或者直接说你根本就没有规则，你只是在跟着感觉来，你所谓的规则只是你的双重思想的一小部分而已。</p>
<p>坚持的理由很简单，规则就是这样定的。对于理性的思考来说，应得的就是应得的，你不能以感性的愤怒、羞辱、面子等为由肆意妄为、违背规则。为人师表啊。没有规则才是最可怕的。</p>
<p>想想那些没有规则的例子吧：GFW封某个网站的时候，有什么规则吗；纳粹追杀共产主义者、犹太人、工会成员，有什么规则吗；文革中被整死的人，有什么规则吗？</p>
<p>我们需要规则，如果没有规则，或定了规则却无视、凌驾规则，甚至随意修改规则，这和历史的倒退有什么区别。好似你既是裁判又是球员，这样谁能玩的过你、谁愿意跟你玩嘛。如果规则只是当权者的随意操纵的把戏，规则又有何用。</p>
<p>这就是个缩影，或许也就是无力改变的现实吧。</p>
<p>最怕，没有规则。</p>
<p>最后，盗用胡适他老人家的一句和本文没啥关系话来结束全文： 一个肮脏的国家，如果人人讲规则而不是空谈道德，最终会变成一个有人味儿的正常国家，道德自然会逐渐回归； 反之，一个干净的国家，如果人人都不讲规则却大谈道德、谈高尚，天天没事儿就谈道德规范，人人大公无私，最终这个国家会堕落成为一个伪君子遍布的肮脏国家。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/12/19/fear-without-rules/index/" data-id="clhp7rtg8002ms2qr512c9au5" data-title="没有规则才是最可怕的" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-compile-kernel/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2016/12/15/compile-kernel/index/" class="article-date">
  <time class="dt-published" datetime="2016-12-15T00:00:00.000Z" itemprop="datePublished">2016-12-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2016/12/15/compile-kernel/index/">[备忘录]：Linux4.9内核的正确编译之路</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>几天前脱袜子大叔放出了LTS版本的Linux Kernel 4.9,听说增加了一个新的TCP拥塞控制算法BBR，想着自己从来没有编译过内核，那就试试嘛，纯当积累经验了。</p>
<p>在这个过程中遇到了一些比较可怕的问题，比如说build出了300M的initrd.img，这……好吧！</p>
<p>我的环境是：Ubuntu 16.04 64位，主要参考教程<a target="_blank" rel="noopener" href="https://kernelnewbies.org/KernelBuild">戳我吧</a></p>
<p>下面就备忘一下我编译过程的整个经过吧</p>
<h2 id="前置条件"><a href="#前置条件" class="headerlink" title="前置条件"></a>前置条件</h2><p>用包管理器把你的系统升级到最新吧，另外，最好别玩跨越太大的升级啊。</p>
<p>sudo apt update<br>sudo apt upgrade</p>
<h2 id="解决依赖"><a href="#解决依赖" class="headerlink" title="解决依赖"></a>解决依赖</h2><p>老生常谈了，该装的都装好吧</p>
<p>sudo apt install libncurses5-dev gcc make git exuberant-ctags bc libssl-dev</p>
<h2 id="准备目录"><a href="#准备目录" class="headerlink" title="准备目录"></a>准备目录</h2><p>通常来说我们选择在&#x2F;usr&#x2F;src下存放内核源码。实际上这并不是必须的。请注意，编译内核的时候并不需要root权限，安装的时候才需要。为了方便管理、patch内核、保持一致性起见，我们还是老实地用这个目录吧。从现在起就切换到root啦</p>
<h2 id="下载、准备内核源码"><a href="#下载、准备内核源码" class="headerlink" title="下载、准备内核源码"></a>下载、准备内核源码</h2><p>在kernel.org下载内核，如果你的速度太慢，可以试试阿里云的源。</p>
<p>#官网<br>wget <a target="_blank" rel="noopener" href="https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.9.tar.xz">https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.9.tar.xz</a><br>#阿里云<br>wget <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/linux-kernel/v4.x/linux-4.9.tar.xz">http://mirrors.aliyun.com/linux-kernel/v4.x/linux-4.9.tar.xz</a><br>tar xvf linux-4.9.tar.xz<br>cd linux-4.9</p>
<h2 id="配置内核"><a href="#配置内核" class="headerlink" title="配置内核"></a>配置内核</h2><p>编译内核之前，我们需要创建出来一个.config文件，由这个文件决定编译什么、编译进内核还是模块。通常来说我们有这么几种方式生成这个.config</p>
<h3 id="使用你原来内核的config"><a href="#使用你原来内核的config" class="headerlink" title="使用你原来内核的config"></a>使用你原来内核的config</h3><p>cp &#x2F;boot&#x2F;config-`uname -r`* .config</p>
<h3 id="使用默认的config（会覆盖已有的-config文件）"><a href="#使用默认的config（会覆盖已有的-config文件）" class="headerlink" title="使用默认的config（会覆盖已有的.config文件）"></a>使用默认的config（会覆盖已有的.config文件）</h3><p>make defconfig</p>
<p>我们这里当然要使用原来的内核配置文件啦，所以来一句cp &#x2F;boot&#x2F;config-`uname -r`* .config即可。</p>
<p>或者干脆来一句</p>
<p>make localmodconfig</p>
<p>就OK了。假如我们要对内核配置进行微调，那就执行</p>
<p>make menuconfig</p>
<p>会酱紫</p>
<p><img src="/images/121516_1413_Linux491.png"></p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>是不是很神奇能在终端里画出这么漂亮的界面？ncurses啦</p>
<p>为了防止它没加载我们刚刚复制过来的旧内核配置文件，我们选择 Load - ok手动加载下。</p>
<p>之后导航到Kernel Hacking - Compile-time checks and compiler options，按N取消对Compile the kernel with debug info的勾选</p>
<p>剩下的一些配置就看个人需求啦，比如说我需要编译BBR并使它成为默认的TCP 拥塞算法，那就酱紫</p>
<p><img src="/images/121516_1413_Linux492.png"></p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p>你需要支持XFS，就自己去开启。</p>
<p>全都配置完了之后，导航到save 保存。</p>
<p>下面我们就要准备开始编译啦！</p>
<p>[v_error]警告 如果你是第一次编译内核，那么就按照上文所述即可。如果你已经编译过了，那么请运行 make clean 来清除编译过程中产生的可能导致编译失败的各种文件 make mrproper 不但会执行make clean的所有操作，还会删除.config文件，请谨慎使用[&#x2F;v_error]</p>
<h2 id="编译内核"><a href="#编译内核" class="headerlink" title="编译内核"></a>编译内核</h2><p>在编译内核之前，建议大家想想以下几个问题：你是给自己电脑编译？还是虚拟机？还是VPS？</p>
<p>你电脑是啥处理器？几个核心几个线程的？</p>
<p>多大物理内存，有没有Swap？</p>
<p>如果是用的虚拟机，那么推荐在虚拟机的界面里开终端而不是通过OpenSSH服务；</p>
<p>如果是VPS，请一定要这样screen -S kernel然后再开始编译，否则SSH连接断开编译也就终止了。</p>
<p>你的内存比较小，比如说只有2G、4G，建议开个swap吧，免得内存耗尽编译失败</p>
<p>如果你自觉内存比较大不会耗尽，那就大胆的进行吧；</p>
<p>如果你不知道自己是啥CPU ，你就lscpu下，CPU(s)写了个4,那你就当成4核心的。（我这货是双核四线程）</p>
<p> </p>
<p>总之，这些以防万一的准备工作是要做好的，因为编译内核是个比较消耗时间的事情，万一因为些小问题失败了，再重新来太糟心。</p>
<p>嗷对了，如果你是笔记本，请做好散热……</p>
<p>说了这么多，我就当你已经准备好了！</p>
<p>那么，果断的敲</p>
<p>make</p>
<p>编译内核吧！（make会包含make bzImage等操作，详见make help）</p>
<p>但是……忘记了我们上面说的双核四核吗？并行编译不好吗？</p>
<p>那么就</p>
<p>make -jX</p>
<p>X是一个整数，假如你是双核，2和3就是比较好的选择；4核那么4或6就会是比较好的选择。双核四线程请将其视作四核。千万不要尝试双核来个make -j10,这样你的电脑就得比狗还慢啦。</p>
<p>我就make -j4啦</p>
<p>该约妹子的约妹子，该睡觉的睡觉……</p>
<p> </p>
<p>[v_tips]小提示：开启Swap的方法（128M的Swap为例）</p>
<p>sudo dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;test bs&#x3D;1M count&#x3D;128<br>sudo chmod 600 test<br>sudo mkswap test<br>sudo swapon test</p>
<p>free确定swap已开启 为了避免出现权限的问题，就全是用root啦[&#x2F;v_tips]</p>
<h2 id="安装内核和模块"><a href="#安装内核和模块" class="headerlink" title="安装内核和模块"></a>安装内核和模块</h2><p>进过了很长时间，终于编译完啦。那就安装吧，ls -lh一下就会发现vmlinuz其实很小的。</p>
<p>sudo make modules_install install</p>
<p>之后reboot体验新内核吧！ 重启之后uname -a即可查看新内核哦，如果旧的内核没有留下来的必要了，那就使用类似</p>
<p>sudo apt remove linux-headers-版本号</p>
<p>等移除旧版本的内核</p>
<p><a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2016/12/2016121514232992.png"><img src="/images/2016121514232992-300x34.png" alt="qq%e6%88%aa%e5%9b%be20161215222225"></a></p>
<p> </p>
<p>服务器上的4.9<a target="_blank" rel="noopener" href="https://dmesg.app/wp-content/uploads/2016/12/2016121514232992.png"></a></p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>Some of us get dipped in flat, some in satin, some in gloss. But every once in a while you find someone who’s iridescent, and when you do, nothing will ever compare.</p>
<p>Nothing will ever compare. :oops:</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/12/15/compile-kernel/index/" data-id="clhp7rtew0019s2qr9tbbbeyj" data-title="[备忘录]：Linux4.9内核的正确编译之路" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-play-vps/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2016/11/25/play-vps/index/" class="article-date">
  <time class="dt-published" datetime="2016-11-25T00:00:00.000Z" itemprop="datePublished">2016-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/linux/">linux</a>►<a class="article-category-link" href="/categories/linux/website/">website</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2016/11/25/play-vps/index/">花样玩：把闲置的VPS用起来</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>像我这种流量比较小的网站，往往服务器都一直是0负载，这样一天天过去总觉得是一种浪费。浪费可耻，浪费就是犯罪啊。于是咱就得琢磨琢磨，服务器通常CPU性能都很好（别看是单核，那也是志强啊），带宽也比较充足，还24小时开机，所以嘛….咱来点奇葩的玩法，像是建站、ss这种常见的玩法咱就不说啦。 [v_blue] 友情提示： 1.下文的一些思路<strong>仅供参考</strong>，各位各取所需 2.拿来做生产的服务器（比如跑我的网站的这个），尽量<strong>专机专用少折腾</strong>，比如说我的这个服务器只负责网站和中转文件… 3.请记得遵守主机商的ToS、服务器所在地的法律、主机商所属国的法律。 4.OpenVZ的VPS还是悠着点，用太多CPU可能会被封停哦；KVM和Xen的就不必太多考虑这点了，如果你不放心，ticket走起。 5.海外VPS请注意如果你做某些事情，可能会导致你的IP被墙或者被严重干扰。 6.那种超低价的超售狂，就别折腾啦，搭个ss偷着乐就好了。 [&#x2F;v_blue]</p>
<hr>
<h2 id="搭建Tor中继节点、网桥"><a href="#搭建Tor中继节点、网桥" class="headerlink" title="搭建Tor中继节点、网桥"></a>搭建Tor中继节点、网桥</h2><p><strong>仅限海外VPS</strong></p>
<p>Tor是什么？是一个很厉害的匿名工具啦。如果你想为这个匿名网络做一些贡献，可以选择搭建Tor Relay（中继）、Tor Bridges（网桥），Exit Nodes（出口节点）还是别想啦。大部分主机商都允许搭建中继和网桥的。</p>
<p>当然啦，本人是不建议在自己正在用的VPS上搭建的，万一要是被墙了，那就麻烦了。</p>
<p>详细教程已经有人写了，戳<a target="_blank" rel="noopener" href="https://yepster.me/tor-deployment/">《关于搭建 Tor Relay 的一点胡扯——以及为什么现在 Tor Bridges 更好》</a></p>
<h2 id="中转油管视频、Git仓库等（利用七牛）"><a href="#中转油管视频、Git仓库等（利用七牛）" class="headerlink" title="中转油管视频、Git仓库等（利用七牛）"></a>中转油管视频、Git仓库等（利用七牛）</h2><p><strong>推荐海外VPS</strong></p>
<p>这里请一定要注意遵守服务器所在地的法律、主机商所属国的法律和主机商的ToS，被封不要赖我哦~~</p>
<p>首先中转就要先下载回来，这里对待种子可以使用rtorrent，直链可以使用wget，Git仓库可以使用git clone，YouTube视频可以用youtube-dl。怎么下载回来就不用我说了吧，如果这个不会，那可没办法，没办法啊</p>
<p>之后注册个七牛，去<a target="_blank" rel="noopener" href="http://developer.qiniu.com/code/v6/tool/qshell.html">开发者中心</a>自行读文档配置去吧~（或者参考我这篇<a target="_blank" rel="noopener" href="https://dmesg.app/vps-google-drive.html">《使用海外vps中转Google Drive文件》</a>） [v_tips] 友情提示： 1.我这人比较懒，所以我写了一个名为relay的脚本，给加了x权限然后丢到PATH下，之后任何目录都可以直接打relay来上传了。 2.在使用qshell的时候，有的时候上传会失败，我发现qshell是”同步”的模式，而我一般都是上传完就删除。所以我一般会选择把目录中隐藏的.qshell目录删掉再上传。 3.如果你中转一些可能被和谐的内容，那么建议你使用tar打个包，这样它的散列就会变了，机器审查是有点难啦；如果你中转的是危险的东西，那么用OpenSSL套件加密、或者是压缩工具的加密功能，这样对付人工也差不多足够啦（当然，请注意弱口令）。 4.视频、音乐、加密卷等高熵的文件，通常是很难压缩的，所以遇到视频建议打包而不是打包+压缩，使用类似</p>
<p>tar cvf </p>
<p>这样的命令而不是带j、J的选项。 [&#x2F;v_tips]</p>
<h2 id="云存储OwnCloud"><a href="#云存储OwnCloud" class="headerlink" title="云存储OwnCloud"></a>云存储OwnCloud</h2><p><strong>推荐国内服务器</strong></p>
<p>OwnCloud这东西，就像是你的私有云，再也不怕党妈妈以女神的理由封杀你网盘啦！</p>
<p>这也有人写过类似教程，在这里<a target="_blank" rel="noopener" href="https://www.logcg.com/archives/2007.html">《用 ownCloud 搭建个人私有云》</a></p>
<h2 id="搭建UDP-53的OpenVPN-x2F-SS突破Web认证"><a href="#搭建UDP-53的OpenVPN-x2F-SS突破Web认证" class="headerlink" title="搭建UDP 53的OpenVPN&#x2F;SS突破Web认证"></a>搭建UDP 53的OpenVPN&#x2F;SS突破Web认证</h2><p><strong>推荐国内服务器</strong></p>
<p>这个嘛……是真正非常有用的地方啊！我的马甲站就是这么玩的，结果导致服务器经常满载&#x2F;(ㄒoㄒ)&#x2F;~~</p>
<p>详情戳我的博文<a target="_blank" rel="noopener" href="https://dmesg.app/udp53.html">《UDP 53 免费上网经验谈》</a></p>
<p>很明显<strong>SS的性能要远远好过SoftEther只不过要开全局啦……</strong></p>
<h2 id="编译服务器"><a href="#编译服务器" class="headerlink" title="编译服务器"></a>编译服务器</h2><p><strong>推荐海外服务器</strong></p>
<p>有的时候，身处大陆的小盆友们在编译某些比较大的项目的时候，常常会被GFW折磨到疯：本身源码就挺大，各种依赖还都得下，GFW还超喜欢干扰。所以有些时候放弃编译往往不是因为CPU性能不足、硬盘太慢、内存太小而是因为网太渣……在大陆当程序员，真的都是折翼的天使啊。</p>
<p>比如说那次我想编译个服务器版本的Lantern，需要下载Lantern定制版的Go，再下载Lantern源码，编译的时候还要下载很多……所以我就稍稍利用了下aws</p>
<p><img src="/images/112516_1014_VPS1.png"></p>
<p>没骗你，不小吧！</p>
<h2 id="利用ffmpeg压制影片、转换格式等"><a href="#利用ffmpeg压制影片、转换格式等" class="headerlink" title="利用ffmpeg压制影片、转换格式等"></a>利用ffmpeg压制影片、转换格式等</h2><p><strong>国内海外均可</strong></p>
<p>对于那些经常需要转换格式的、压制影片的人来说，好像这样做会很方便。如果开个按时的高性能实例，效果应该会好很多！</p>
<p>这里如果你的服务器恰巧是Windows系统，那么人人影视曾经发过一个非常简单的压片工具，用起来很方便；至于使用Linux的嘛……<a target="_blank" rel="noopener" href="https://dmesg.app/ffmpeg.html">使用ffmpeg，可以戳我哟</a>。 [v_blue] 友情提示： 1.大部分服务商都支持自定义镜像，所以咱……可以开一台新机器，编译好ffmpeg以及上传什么的，做一个镜像。之后要用的时候，开个高性能的机器，直接选择用这个镜像安装，转换，上传，销毁机器。省钱又方便。 2.我等穷人的单核心服务器，虽说CPU性能很强，但是……我相信现在大家的电脑通常都是四核八核十六核……所以要真的比起来速度，开个多线程，服务器估计就跪了…… 3.这个最好的应用场景就是，你发现一个10G+的片源，利用服务器高带宽的特点下载回来，之后压制成2G的720P再下载……在一些限制流量、限制上网时长的地方最划算了。 [&#x2F;v_blue]</p>
<p>PS，七牛有个数据处理，用起来挺方便的，速度很快而且很便宜。</p>
<p><img src="/images/112516_1014_VPS2.png"></p>
<h2 id="搭建游戏服务器（MineCraft）"><a href="#搭建游戏服务器（MineCraft）" class="headerlink" title="搭建游戏服务器（MineCraft）"></a>搭建游戏服务器（MineCraft）</h2><p><strong>推荐国内服务器</strong></p>
<p>大部分游戏都是Windows平台下的，相应的开服端也是Windows下居多的……所以比如说开个MineCraft？或者 steam家的l4d2、cs这种？别说，我还真有一个l4d2服务器。</p>
<p>PS：游戏服务器一般对带宽的要求会比较高。</p>
<p>这个，也有人写过<a target="_blank" rel="noopener" href="https://www.logcg.com/archives/1693.html">《在 Ubuntu 中搭建 Minecraft 服务器并挂载 Mod》</a></p>
<h2 id="挖矿"><a href="#挖矿" class="headerlink" title="挖矿"></a>挖矿</h2><p>╮(╯_╰)╭</p>
<p>这个……大家伙悠着点，大部分主机商都是不允许挖矿的！而且挖矿的前途嘛……看着玩吧！</p>
<h2 id="卖虚拟主机"><a href="#卖虚拟主机" class="headerlink" title="卖虚拟主机"></a>卖虚拟主机</h2><p><strong>国内海外均可</strong></p>
<p>这是真正的赚钱之道啊，或者一个服务器跑三四个网站（还别说我的马甲站就是一个服务器跑了三个网站）。用过lnmp一键安装包的大概之道添加虚拟主机有多方便</p>
<p><img src="/images/112516_1014_VPS3.png"></p>
<h2 id="搭建自己的DNS"><a href="#搭建自己的DNS" class="headerlink" title="搭建自己的DNS"></a>搭建自己的DNS</h2><p><strong>国内海外均可。</strong></p>
<p>为了嘛，解析到正确的IP而不是总跑到阿塞拜疆啊。</p>
<p>这个，当然是要DNSCrypt啦！</p>
<p>当然，也有人写过了，我只是搬运工<a target="_blank" rel="noopener" href="https://www.logcg.com/archives/981.html">《编译安装 dnscrypt-wrapper 搭建防污染 DNS 服务器》</a></p>
<h2 id="搭建Resilio-Sync（BT-Sync）节点"><a href="#搭建Resilio-Sync（BT-Sync）节点" class="headerlink" title="搭建Resilio Sync（BT Sync）节点"></a>搭建Resilio Sync（BT Sync）节点</h2><p><strong>仅限海外</strong></p>
<p>做一个好人，提升大家的下载速度，哈哈哈。具体可以参考<a target="_blank" rel="noopener" href="https://help.getsync.com/hc/en-us/articles/204762449-Guide-to-Linux-and-Sync-peculiarities">官网文章</a></p>
<h2 id="做Git服务器"><a href="#做Git服务器" class="headerlink" title="做Git服务器"></a>做Git服务器</h2><p>有些时候，我们可能需要私有的Git仓库，这个时候<a target="_blank" rel="noopener" href="https://about.gitlab.com/installation/">GitLab CE</a>就派上用场啦，有钱的也可以玩玩<a target="_blank" rel="noopener" href="https://enterprise.github.com/home">GitHub Enterprise</a></p>
<p>我思路有限，大概就只能想到这么多比较花样的玩法了！有别的新奇玩法的，欢迎补充~~</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/11/25/play-vps/index/" data-id="clhp7rti2006ns2qrghkt1ln8" data-title="花样玩：把闲置的VPS用起来" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ffmpeg/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2016/11/10/ffmpeg/index/" class="article-date">
  <time class="dt-published" datetime="2016-11-10T00:00:00.000Z" itemprop="datePublished">2016-11-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/it/">it</a>►<a class="article-category-link" href="/categories/it/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2016/11/10/ffmpeg/index/">自行编译ffmpeg并压制带字幕的视频、一键编译non-free ffmpeg</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[v_tips]有点不好意思啊此文无图… :shock: 还有这个字体咋样呀 :razz:  [&#x2F;v_tips]</p>
<p>[v_error]一键编译脚本在<a target="_blank" rel="noopener" href="https://dmesg.app/ffmpeg.html/3">第三页</a>！ [&#x2F;v_error] 话说很久之前，人人影视放出来了一个压片工具，总共有192M的样子，而且只能在Windows上运行。对于我等Linux党，这可怎么行呢？于是我就想到了ffmpeg这个万能的神器。当然了ffmpeg作为自由软件，你从包管理器里安装的、直接configure编译的，是不会带libx264</p>
<p>这类非自由软件，自然想要压制影片就不是那么好玩了……</p>
<p>那既然酱紫，我们就只好手动编译一个non-free的ffmpeg，然后再来使用嘛！</p>
<p>[v_act]这种压片的方法是把字幕混到视频流中，也就是说视频最终是音频流+视频流，是没有字幕流的，字幕已经是视频的一部分了。这也可以极大程度上的避免盗字幕的行为。[&#x2F;v_act] 懒虫们，假如你们真的懒得看这么长的文章，并且你确定你的发行版是比较新的发行版，那么请直接翻到本文最后看”一键式编译教程”吧！</p>
<h2 id="准备特效字体"><a href="#准备特效字体" class="headerlink" title="准备特效字体"></a>准备特效字体</h2><p>有很多字幕都是用了自定义字体，请记得给你的发行版安装对应的字体呀！桌面版直接双击安装即可。如果是服务器版，把字体复制到&#x2F;usr&#x2F;share&#x2F;fonts&#x2F;truetype和原来字体一样的位置，或者新建个winFonts目录便于区分也可以。</p>
<p>之后运行</p>
<p>sudo apt install fontconfig<br>sudo fc-cache –fv</p>
<p>运行fc-list可以看到已安装字体列表</p>
<p>查看中文字体，可以使用</p>
<p>sudo fc-list :lang&#x3D;zh</p>
<p>并且请注意编码格式的问题，Linux一般使用<strong>UTF-8</strong>而Windows则是GB2312</p>
<p> </p>
<h1 id="编译安装ffmpeg"><a href="#编译安装ffmpeg" class="headerlink" title="编译安装ffmpeg"></a>编译安装ffmpeg</h1><p>我使用的是Ubuntu，所以这里我就按照<a target="_blank" rel="noopener" href="https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu">官网提供的教程编译</a>啦！</p>
<h2 id="安装必备依赖"><a href="#安装必备依赖" class="headerlink" title="安装必备依赖"></a>安装必备依赖</h2><p>sudo apt-get update<br>sudo apt-get -y install autoconf automake build-essential libass-dev libfreetype6-dev \<br>libsdl1.2-dev libtheora-dev libtool libva-dev libvdpau-dev libvorbis-dev libxcb1-dev libxcb-shm0-dev \<br>libxcb-xfixes0-dev pkg-config texinfo zlib1g-dev</p>
<p>[v_tips] 注意，如果是服务器版Ubuntu，可以把第二步替换成如下（你装原来的也行，反正是ffplay和X11的依赖……）</p>
<p>sudo apt-get -y install autoconf automake build-essential libass-dev libfreetype6-dev \<br>libtheora-dev libtool libvorbis-dev pkg-config texinfo zlib1g-dev</p>
<p>[&#x2F;v_tips]</p>
<p>创建一个用来下载源码的目录</p>
<p>mkdir ~&#x2F;ffmpeg_sources</p>
<h2 id="编译与安装"><a href="#编译与安装" class="headerlink" title="编译与安装"></a>编译与安装</h2><h3 id="yasm"><a href="#yasm" class="headerlink" title="yasm"></a>yasm</h3><p>如果你的包管理器里的yasm版本号&gt;&#x3D;1.2.0，那就可以用包管理器安装</p>
<p>（使用sudo apt search yasm查看版本号，就想编译的，我也没意见）</p>
<p>sudo apt-get install yasm</p>
<p>否则请编译安装</p>
<p>cd ~&#x2F;ffmpeg_sources<br>wget <a target="_blank" rel="noopener" href="http://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gz">http://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gz</a><br>tar xzvf yasm-1.3.0.tar.gz<br>cd yasm-1.3.0<br>.&#x2F;configure –prefix&#x3D;”$HOME&#x2F;ffmpeg_build” –bindir&#x3D;”$HOME&#x2F;bin”<br>make<br>make install<br>make distclean</p>
<h3 id="libx264"><a href="#libx264" class="headerlink" title="libx264"></a>libx264</h3><p>如果你的包管理器里的libx264版本号&gt;&#x3D;0.118，那就是用包管理器安装</p>
<p>sudo apt-get install libx264-dev</p>
<p>否则需要编译安装</p>
<p>cd ~&#x2F;ffmpeg_sources<br>wget <a target="_blank" rel="noopener" href="http://download.videolan.org/pub/x264/snapshots/last/_x264.tar.bz2">http://download.videolan.org/pub/x264/snapshots/last\_x264.tar.bz2</a><br>tar xjvf last_x264.tar.bz2<br>cd x264-snapshot*<br>PATH&#x3D;”$HOME&#x2F;bin:$PATH” .&#x2F;configure –prefix&#x3D;”$HOME&#x2F;ffmpeg_build” –bindir&#x3D;”$HOME&#x2F;bin” –enable-static –disable-opencl<br>PATH&#x3D;”$HOME&#x2F;bin:$PATH” make<br>make install<br>make distclean</p>
<h3 id="libx265"><a href="#libx265" class="headerlink" title="libx265"></a>libx265</h3><p>只能选择编译安装啦。</p>
<p>sudo apt-get install cmake mercurial<br>cd ~&#x2F;ffmpeg_sources<br>hg clone <a target="_blank" rel="noopener" href="https://bitbucket.org/multicoreware/x265">https://bitbucket.org/multicoreware/x265</a><br>cd ~&#x2F;ffmpeg_sources&#x2F;x265&#x2F;build&#x2F;linux<br>PATH&#x3D;”$HOME&#x2F;bin:$PATH” cmake -G “Unix Makefiles” -DCMAKE_INSTALL_PREFIX&#x3D;”$HOME&#x2F;ffmpeg_build” -DENABLE_SHARED:bool&#x3D;off ..&#x2F;..&#x2F;source<br>make<br>make install</p>
<h3 id="libfdk-aac"><a href="#libfdk-aac" class="headerlink" title="libfdk-aac"></a>libfdk-aac</h3><p>如果你的包管理器中有libfdk-aac-dev，那就可以使用包管理器安装（没有版本需求）</p>
<p>sudo apt-get install libfdk-aac-dev</p>
<p>否则需要编译安装</p>
<p>cd ~&#x2F;ffmpeg_sources<br>wget -O fdk-aac.tar.gz <a target="_blank" rel="noopener" href="https://github.com/mstorsjo/fdk-aac/tarball/master">https://github.com/mstorsjo/fdk-aac/tarball/master</a><br>tar xzvf fdk-aac.tar.gz<br>cd mstorsjo-fdk-aac*<br>autoreconf -fiv<br>.&#x2F;configure –prefix&#x3D;”$HOME&#x2F;ffmpeg_build” –disable-shared<br>make<br>make install<br>make distclean</p>
<h3 id="ibmp3lame"><a href="#ibmp3lame" class="headerlink" title="ibmp3lame"></a>ibmp3lame</h3><p>如果你的包管理器中有ibmp3lame，版本号&gt;&#x3D;3.98.3，那么你可以使用包管理器安装</p>
<p>sudo apt-get install libmp3lame-dev</p>
<p>否则需要编译安装</p>
<p>sudo apt-get install nasm<br>cd ~&#x2F;ffmpeg_sources<br>wget <a target="_blank" rel="noopener" href="http://downloads.sourceforge.net/project/lame/lame/3.99/lame-3.99.5.tar.gz">http://downloads.sourceforge.net/project/lame/lame/3.99/lame-3.99.5.tar.gz</a><br>tar xzvf lame-3.99.5.tar.gz<br>cd lame-3.99.5<br>.&#x2F;configure –prefix&#x3D;”$HOME&#x2F;ffmpeg_build” –enable-nasm –disable-shared<br>make<br>make install<br>make distclean</p>
<h3 id="libopus"><a href="#libopus" class="headerlink" title="libopus"></a>libopus</h3><p>如果你的包管理中有libopus，版本号&gt;&#x3D;1.1，那你可以使用包管理器安装</p>
<p>sudo apt-get install libopus-dev</p>
<p>否则需要编译安装。</p>
<p>cd ~&#x2F;ffmpeg_sources<br>wget <a target="_blank" rel="noopener" href="http://downloads.xiph.org/releases/opus/opus-1.1.2.tar.gz">http://downloads.xiph.org/releases/opus/opus-1.1.2.tar.gz</a><br>tar xzvf opus-1.1.2.tar.gz<br>cd opus-1.1.2<br>.&#x2F;configure –prefix&#x3D;”$HOME&#x2F;ffmpeg_build” –disable-shared<br>make<br>make install<br>make clean</p>
<h3 id="libvpx"><a href="#libvpx" class="headerlink" title="libvpx"></a>libvpx</h3><p>只能编译安装（注意，这个链接是在Google的服务器上，如果服务器在国内下载不回来，就自己翻墙下载然后上传到服务器吧）</p>
<p>cd ~&#x2F;ffmpeg_sources<br>wget <a target="_blank" rel="noopener" href="http://storage.googleapis.com/downloads.webmproject.org/releases/webm/libvpx-1.5.0.tar.bz2">http://storage.googleapis.com/downloads.webmproject.org/releases/webm/libvpx-1.5.0.tar.bz2</a><br>tar xjvf libvpx-1.5.0.tar.bz2<br>cd libvpx-1.5.0<br>PATH&#x3D;”$HOME&#x2F;bin:$PATH” .&#x2F;configure –prefix&#x3D;”$HOME&#x2F;ffmpeg_build” –disable-examples –disable-unit-tests<br>PATH&#x3D;”$HOME&#x2F;bin:$PATH” make<br>make install<br>make clean</p>
<h2 id="编译ffmpeg"><a href="#编译ffmpeg" class="headerlink" title="编译ffmpeg"></a>编译ffmpeg</h2><p>耗时可能会比较长</p>
<p>cd ~&#x2F;ffmpeg_sources<br>wget <a target="_blank" rel="noopener" href="http://ffmpeg.org/releases/ffmpeg-snapshot.tar.bz2">http://ffmpeg.org/releases/ffmpeg-snapshot.tar.bz2</a><br>tar xjvf ffmpeg-snapshot.tar.bz2<br>cd ffmpeg<br>PATH&#x3D;”$HOME&#x2F;bin:$PATH” PKG_CONFIG_PATH&#x3D;”$HOME&#x2F;ffmpeg_build&#x2F;lib&#x2F;pkgconfig” .&#x2F;configure \<br>–prefix&#x3D;”$HOME&#x2F;ffmpeg_build” \<br>–pkg-config-flags&#x3D;”–static” \<br>–extra-cflags&#x3D;”-I$HOME&#x2F;ffmpeg_build&#x2F;include” \<br>–extra-ldflags&#x3D;”-L$HOME&#x2F;ffmpeg_build&#x2F;lib” \<br>–bindir&#x3D;”$HOME&#x2F;bin” \<br>–enable-gpl \<br>–enable-libass \<br>–enable-libfdk-aac \<br>–enable-libfreetype \<br>–enable-libmp3lame \<br>–enable-libopus \<br>–enable-libtheora \<br>–enable-libvorbis \<br>–enable-libvpx \<br>–enable-libx264 \<br>–enable-libx265 \<br>–enable-nonfree<br>PATH&#x3D;”$HOME&#x2F;bin:$PATH” make<br>make install<br>make distclean<br>hash –r</p>
<p>[v_blue]注意：</p>
<p>1.如果你直接运行configure，将会是没有non-free软件的ffmpeg；官方的configure配置会在<del>下生成一个bin（编译之后安装就会在</del>&#x2F;bin下）、ffmpeg_build目录；如果不喜欢，那就照猫画虎的改掉$HOME（记得都要改哦），make install的时候就到&#x2F;bin啦！</p>
<p>2.在Ubuntu中，~&#x2F;bin默认是被包含到PATH中的，所以当你注销-登录或者</p>
<p>source ~&#x2F;.profile</p>
<p>之后可以从任何目录运行<del>&#x2F;bin中的程序的。再不济，咱把</del>&#x2F;bin里的拷贝到&#x2F;bin里总可以吧？</p>
<p>3.如果需要安装man page，请运行</p>
<p>echo “MANPATH_MAP $HOME&#x2F;bin $HOME&#x2F;ffmpeg_build&#x2F;share&#x2F;man” &gt;&gt; ~&#x2F;.manpath</p>
<p>[&#x2F;v_blue]</p>
<hr>
<p>我假设你已经编译好了ffmpeg，并且准备好了你的视频和字幕。</p>
<p>前面提过了，如果你的字幕中使用了自定义字体，请记得同时安装对应的字体！</p>
<p>并且，请注意<strong>字幕文件的编码格式</strong>，Linux通常会使用UTF-8无BOM，而Windows则是GB2312这类。为了避免出乱码，还是老老实实转换成UTF-8吧！</p>
<p>下一页我会介绍一些压片的方法，关于ffmpeg的更多方法，大家伙就自己搜索、看官方的文档、man page啦！</p>
<p>注意，压制过程中可能会出现这样的警告</p>
<p>Glyph 0x36C not found, selecting one more font for (YouYuan, 700, 0)</p>
<p>不要管他啦……只要是UTF-8编码的，会压出来的！ 该看下一页啦~~</p>
<h2 id="不改变视频、音频编码格式及参数，将字幕压制"><a href="#不改变视频、音频编码格式及参数，将字幕压制" class="headerlink" title="不改变视频、音频编码格式及参数，将字幕压制"></a>不改变视频、音频编码格式及参数，将字幕压制</h2><p>ffmpeg –i Lantern.mp4-vf “ass&#x3D;Lantern.ass” out.mp4</p>
<h2 id="使用H264（AVC）重新编码视频、不改变其他参数，不改变音频编码格式"><a href="#使用H264（AVC）重新编码视频、不改变其他参数，不改变音频编码格式" class="headerlink" title="使用H264（AVC）重新编码视频、不改变其他参数，不改变音频编码格式"></a>使用H264（AVC）重新编码视频、不改变其他参数，不改变音频编码格式</h2><p>ffmpeg -i Lantern.mp4 -vcodec libx264 -preset fast -crf 20 -vf “ass&#x3D;Lantern.ass” out.mp4</p>
<h3 id="关于preset参数："><a href="#关于preset参数：" class="headerlink" title="关于preset参数："></a>关于preset参数：</h3><p>预设是一系列参数的集合，这个集合能够在编码速度和压缩率之间做出一个权衡。一个编码速度稍慢的预设会提供更高的压缩效率（压缩效率是以文件大小来衡量的)。这就是说，假如你想得到一个指定大小的文件或者采用恒定比特率编码模式，你可以采用一个较慢的预设来获得更好的质量。同样的，对于恒定质量编码模式，你可以通过选择一个较慢的预设轻松地节省比特率。</p>
<p>如果你很有耐心，通常的建议是使用最慢的预设。目前所有的预设按照编码速度降序排列为： ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow, placebo默认为medium</p>
<p>[v_blue]如果你蒙圈了，那就这么说的，ultrafast处理的最快，但是文件大；placebo处理的慢，但是文件小；建议medium或者fast就可以了……有耐心的话，veryslow也够了。[&#x2F;v_blue]</p>
<h3 id="crf-Constant-Rate-Factor"><a href="#crf-Constant-Rate-Factor" class="headerlink" title="crf(Constant Rate Factor)"></a>crf(Constant Rate Factor)</h3><p>该方法在输出文件的大小不太重要的时候，可以使整个文件达到特定的视频质量。该编码模式在单遍编码模式下提供了最大的压缩效率，每一帧可以按照要求的视频质量去获取它需要的比特数。不好的一面是，你不能获取一个特定大小的视频文件，或者说将输出位率控制在特定的大小上。</p>
<p>crf的参数值中，其中0为无损模式，23为缺省值，51可能是最差的。该数字越小，图像质量越好。从主观上讲，18~28是一个合理的范围。18往往被认为从视觉上看是无损的，它的输出视频质量和输入视频一模一样或者说相差无几。但从技术的角度来讲，它依然是有损压缩。 [v_blue]我觉得选择20就差不多啦~~[&#x2F;v_blue]</p>
<h3 id="以H-264、Lame自定义参数重新编码、压制"><a href="#以H-264、Lame自定义参数重新编码、压制" class="headerlink" title="以H.264、Lame自定义参数重新编码、压制"></a>以H.264、Lame自定义参数重新编码、压制</h3><p>ffmpeg -i Lantern.mp4 -vcodec libx264 -preset fast -crf 20 -vf “ass&#x3D;Lantern.ass” -acodec libmp3lame -ab 128k lame.mp4</p>
<p>如果想压制AAC的音频，就在最后把acodec libmp3lame改成acodec aac</p>
<p>其中-ab 128k指的是平均码率为128k</p>
<h2 id="以H-264自定义分辨率、AAC自定义参数缩放压制视频"><a href="#以H-264自定义分辨率、AAC自定义参数缩放压制视频" class="headerlink" title="以H.264自定义分辨率、AAC自定义参数缩放压制视频"></a>以H.264自定义分辨率、AAC自定义参数缩放压制视频</h2><p>ffmpeg -i Lantern.mp4 -vcodec libx264 -preset fast -crf 20 -vf “ass&#x3D;Lantern.ass,scale&#x3D;800:-1” -acodec aac -ab 128k aac.mp4</p>
<p>其中的scale&#x3D;800:-1指的是输出800:对应比例的视频。假如你要压制720P的，那就把800改成1280；假如你要1080的，那就改成1920。通常来说，分辨率高的压分辨率低的好办，低的压高的就麻烦了……</p>
<h2 id="两遍模式"><a href="#两遍模式" class="headerlink" title="两遍模式"></a>两遍模式</h2><p>如果你的目标是一个确定大小的文件而且帧与帧之间的视频质量并不重要，这个方法很适用。这通过一个例子可以得到很好地解释。你的视频有10分钟（600秒）的时长同时要求输出为50MB，因为比特率&#x3D;文件大小&#x2F;时长，</p>
<p>50MB*8192（MB转kilobits)&#x2F;600秒&#x3D;683 kbps（全局比特率）</p>
<p>683kbps-128kbps(音频比特率）&#x3D;555kbps（视频比特率）,</p>
<p>两遍编码的例子：</p>
<p>ffmpeg -y -i input -c:v libx264 -preset medium -b:v 555k -pass 1 -an -f mp4 &#x2F;dev&#x2F;null &amp;&amp;<br>ffmpeg -i input -c:v libx264 -preset medium -b:v 555k -pass 2 -c:a libfdkaac -b:a 128k mp4 output.mp4</p>
<h2 id="分割视频（拷贝视频和音频流，速度比较快）"><a href="#分割视频（拷贝视频和音频流，速度比较快）" class="headerlink" title="分割视频（拷贝视频和音频流，速度比较快）"></a>分割视频（拷贝视频和音频流，速度比较快）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -ss 01:00:00 -i input_file_h264.mp4 -vcodec copy -acodec copy -t 00:06:00 output_file.mp4</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>我这上面这几个小标题写的乱乱糟糟的，在这里统一做一个总结吧：</p>
<h3 id="需要原封不动的把字幕压进去"><a href="#需要原封不动的把字幕压进去" class="headerlink" title="需要原封不动的把字幕压进去"></a>需要原封不动的把字幕压进去</h3><p>ffmpeg –i Lantern.mp4-vf “ass&#x3D;Lantern.ass” out.mp4</p>
<h3 id="需要快速的压制质量较好的H264视频"><a href="#需要快速的压制质量较好的H264视频" class="headerlink" title="需要快速的压制质量较好的H264视频"></a>需要快速的压制质量较好的H264视频</h3><p>ffmpeg -i Lantern.mp4 -vcodec libx264 -preset fast -crf 20 -vf “ass&#x3D;Lantern.ass” out.mp4</p>
<h3 id="需要快速压制质量较好的H264、720P视频"><a href="#需要快速压制质量较好的H264、720P视频" class="headerlink" title="需要快速压制质量较好的H264、720P视频"></a>需要快速压制质量较好的H264、720P视频</h3><p>ffmpeg -i Lantern.mp4 -vcodec libx264 -preset fast -crf 23 -vf “ass&#x3D;Lantern.ass,scale&#x3D;1280:-1” out.mp4</p>
<h3 id="需要压制超高质量的、缓慢的压制H264视频"><a href="#需要压制超高质量的、缓慢的压制H264视频" class="headerlink" title="需要压制超高质量的、缓慢的压制H264视频"></a>需要压制超高质量的、缓慢的压制H264视频</h3><p>ffmpeg -i Lantern.mp4 -vcodec libx264 -preset veryslow -crf 18 -vf “ass&#x3D;Lantern.ass” out.mp4</p>
<p>这个……crf的质量大家自己掂量着办！0最好，53最差，默认23，合理范围18~28 preset也看着办 ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow, placebo 越慢，压缩率越高。</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>视频编码这是个长久的技术活啊，而且需要很多的经验！自己多编码多玩玩，自然就有懂啦！</p>
<p>下一页是给懒虫们留着的哦~~ 附录</p>
<p>给懒虫们的一键式编译脚本。我不太会写脚本，所以这个还是有很大改善空间的….目前只支持Debian系 使用方法： git clone仓库，给两个文件都加x权限，root身份运行onekey-ffmpeg.sh即可。 [gt href&#x3D;’<a target="_blank" rel="noopener" href="https://github.com/BennyThink/onekey-compile-ffmpeg'/]%E5%BC%80%E6%BA%90%E5%9C%B0%E5%9D%80%E6%88%B3%E6%88%91/[/gt/]">https://github.com/BennyThink/onekey-compile-ffmpeg&#39;\]开源地址戳我\[/gt\]</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/11/10/ffmpeg/index/" data-id="clhp7rtht005zs2qrbjgt43ap" data-title="自行编译ffmpeg并压制带字幕的视频、一键编译non-free ffmpeg" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/16/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/18/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/azure/">azure</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/azure/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/china/">china</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/china/justsay/">justsay</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/cloudflare/">cloudflare</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/gfw/">gfw</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/">it</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/it/justsay/">justsay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/security/">security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/it/share/">share</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/">justsay</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/gfw/">gfw</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/justsay/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/security/">security</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/website/">website</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/program/">program</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/program/share/">share</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/">security</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/security/justsay/">justsay</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/share/">share</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/website/">website</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/website/program/">program</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/what/">what</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/what/gfw/">gfw</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">March 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">November 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">October 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">September 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/03/16/py-azure-oai-proxy/index/">使用50行Python代码实现一个Azure OpenAI Proxy</a>
          </li>
        
          <li>
            <a href="/2024/12/12/candlestick-llm/index/">使用Python 通过K线计算技术指标，并用 LLM 预测趋势</a>
          </li>
        
          <li>
            <a href="/2024/11/03/warp-http-proxy/index/">把 Cloudflare WARP 转换为 http 代理</a>
          </li>
        
          <li>
            <a href="/2024/10/12/aca-php/index/">用 Azure Container Apps 运行PHP网站</a>
          </li>
        
          <li>
            <a href="/2024/10/06/aca-vm-scale/index/">Azure Container Apps 连接到虚拟机并配置CPU自动缩放</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Benny小土豆<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>